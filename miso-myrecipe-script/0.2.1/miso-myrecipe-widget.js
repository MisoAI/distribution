var misoForMyR=function(e){"use strict";function t(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}const i="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.3334%208.76191H8.76193V13.3333H7.23812V8.76191H2.66669V7.2381H7.23812V2.66667H8.76193V7.2381H13.3334V8.76191V8.76191Z'%20fill='black'/%3e%3c/svg%3e",n="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'%20stroke='%23000000'%20stroke-width='3'%20stroke-linecap='round'%20stroke-dasharray='53.4%209.4'%3e%3canimateTransform%20attributeName='transform'%20type='rotate'%20from='0%2012%2012'%20to='360%2012%2012'%20dur='1s'%20repeatCount='indefinite'/%3e%3c/circle%3e%3c/svg%3e";class s{constructor(e,t){this.widgetElement=null,this.plans=[],this.isLoading=!1,this.container=e,this.instance=t}render(){this.renderContent(),this.loadPlans()}async loadPlans(){this.isLoading=!0,this.renderContent();try{this.plans=await this.instance.apiService.getPlans()}catch(e){console.error("Failed to fetch plans:",e),this.plans=[]}finally{this.isLoading=!1,this.renderContent()}}renderContent(){const e=`\n      <div class="miso-plan-listing">\n        <h1 class="miso-plan-listing__title">Meal Plans</h1>\n        ${this.isLoading?this.renderLoading():this.renderPlans()}\n      </div>\n    `;this.container.innerHTML=e,this.widgetElement=this.container.firstElementChild,this.isLoading||this.attachEventListeners()}renderLoading(){return`\n      <div class="miso-plan-listing__loading">\n        <img src="${n}" alt="Loading" class="miso-plan-listing__loading-icon" />\n      </div>\n    `}renderPlans(){if(0===this.plans.length)return this.renderEmptyState();return`\n      <div class="miso-plan-listing__header">\n        <div class="miso-plan-listing__count">${1===this.plans.length?"1 Plan":`${this.plans.length} Plans`}</div>\n        <button class="miso-plan-listing__new-btn" data-action="create-plan">\n          <span>New Plan</span>\n          <img src="${i}" alt="" class="miso-plan-listing__new-btn-icon" />\n        </button>\n      </div>\n      <div class="miso-plan-listing__list">\n        ${this.plans.map(e=>this.renderPlanCard(e)).join("")}\n      </div>\n    `}renderEmptyState(){return`\n      <div class="miso-plan-listing__empty">\n        <p class="miso-plan-listing__empty-text">No meal plan yet. Create a new plan to get started!</p>\n        <button class="miso-plan-listing__new-btn" data-action="create-plan">\n          <span>New Plan</span>\n          <img src="${i}" alt="" class="miso-plan-listing__new-btn-icon" />\n        </button>\n      </div>\n    `}renderPlanCard(e){const i=1===e.n_recipes?"1 RECIPE":`${e.n_recipes} RECIPES`,n=this.formatDate(e.created_at);return`\n      <div class="miso-plan-listing__card" data-plan-id="${e.id}">\n        <div class="miso-plan-listing__card-title">${t(e.title)}</div>\n        <div class="miso-plan-listing__card-meta">\n          <span class="miso-plan-listing__card-recipes">${i}</span>\n          <span class="miso-plan-listing__card-date">CREATED ON ${n}</span>\n        </div>\n      </div>\n    `}formatDate(e){const t=new Date(e);return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear().toString().slice(-2)}`}attachEventListeners(){if(!this.widgetElement)return;const e=this.widgetElement.querySelector('[data-action="create-plan"]');e&&e.addEventListener("click",()=>{this.instance.emit("create-plan")});this.widgetElement.querySelectorAll("[data-plan-id]").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.planId;t&&this.instance.emit("view-plan",t)})})}async getPlans(){return this.plans}async refreshPlans(){await this.loadPlans()}destroy(){this.widgetElement&&(this.container.removeChild(this.widgetElement),this.widgetElement=null),this.plans=[]}}const a="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.9172%2018.7216L4.26035%2012.6722C3.91322%2012.3009%203.91322%2011.6991%204.26035%2011.3278L9.91721%205.27842C10.2643%204.90719%2010.8272%204.90719%2011.1743%205.27842C11.5214%205.64964%2011.5214%206.25151%2011.1743%206.62273L7.03486%2011.0494L19.1111%2011.0494C19.602%2011.0494%2020%2011.475%2020%2012C20%2012.525%2019.602%2012.9506%2019.1111%2012.9506L7.03486%2012.9506L11.1743%2017.3773C11.5214%2017.7485%2011.5214%2018.3504%2011.1743%2018.7216C10.8271%2019.0928%2010.2643%2019.0928%209.9172%2018.7216Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.1868%2019.4046L3.52994%2013.3552C2.82335%2012.5995%202.82335%2011.4005%203.52994%2010.6448L9.1868%204.59541C9.92916%203.80153%2011.1623%203.80153%2011.9047%204.59541C12.6113%205.35103%2012.6113%206.55012%2011.9047%207.30574L9.33906%2010.0494L19.1111%2010.0494C20.2165%2010.0494%2021%2010.987%2021%2012C21%2013.013%2020.2165%2013.9506%2019.1111%2013.9506L9.33906%2013.9506L11.9047%2016.6943C12.6113%2017.4499%2012.6113%2018.649%2011.9047%2019.4046C11.1623%2020.1985%209.92915%2020.1985%209.1868%2019.4046ZM11.1743%2017.3773C11.5214%2017.7485%2011.5214%2018.3504%2011.1743%2018.7216C10.8272%2019.0928%2010.2643%2019.0928%209.9172%2018.7216L4.26035%2012.6722C3.91322%2012.3009%203.91322%2011.6991%204.26035%2011.3278L9.91721%205.27842C10.2643%204.90719%2010.8272%204.90719%2011.1743%205.27842C11.5214%205.64964%2011.5214%206.25151%2011.1743%206.62273L7.03486%2011.0494L19.1111%2011.0494C19.602%2011.0494%2020%2011.475%2020%2012C20%2012.525%2019.602%2012.9506%2019.1111%2012.9506L7.03486%2012.9506L11.1743%2017.3773Z'%20fill='black'/%3e%3c/svg%3e",o="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.7216%209.91721L12.6722%204.26035C12.3009%203.91322%2011.6991%203.91322%2011.3278%204.26035L5.27842%209.91721C4.90719%2010.2643%204.90719%2010.8272%205.27842%2011.1743C5.64964%2011.5214%206.25151%2011.5214%206.62273%2011.1743L11.0494%207.03486L11.0494%2019.1111C11.0494%2019.602%2011.475%2020%2012%2020C12.525%2020%2012.9506%2019.602%2012.9506%2019.1111L12.9506%207.03486L17.3773%2011.1743C17.7485%2011.5214%2018.3504%2011.5214%2018.7216%2011.1743C19.0928%2010.8272%2019.0928%2010.2643%2018.7216%209.91721Z'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M19.4046%209.1868L13.3552%203.52994C12.5995%202.82336%2011.4005%202.82336%2010.6448%203.52994L4.59541%209.1868C3.80153%209.92916%203.80153%2011.1623%204.59541%2011.9047C5.35103%2012.6113%206.55012%2012.6113%207.30574%2011.9047L10.0494%209.33906L10.0494%2019.1111C10.0494%2020.2165%2010.987%2021%2012%2021C13.013%2021%2013.9506%2020.2165%2013.9506%2019.1111L13.9506%209.33906L16.6943%2011.9047C17.4499%2012.6113%2018.649%2012.6113%2019.4046%2011.9047C20.1985%2011.1623%2020.1985%209.92915%2019.4046%209.1868ZM17.3773%2011.1743C17.7485%2011.5214%2018.3504%2011.5214%2018.7216%2011.1743C19.0928%2010.8272%2019.0928%2010.2643%2018.7216%209.91721L12.6722%204.26035C12.3009%203.91322%2011.6991%203.91322%2011.3278%204.26035L5.27842%209.91721C4.90719%2010.2643%204.90719%2010.8272%205.27842%2011.1743C5.64964%2011.5214%206.25151%2011.5214%206.62273%2011.1743L11.0494%207.03486L11.0494%2019.1111C11.0494%2019.602%2011.475%2020%2012%2020C12.525%2020%2012.9506%2019.602%2012.9506%2019.1111L12.9506%207.03486L17.3773%2011.1743Z'%20fill='black'/%3e%3c/svg%3e",l="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='7.5'%20cy='15.5'%20r='3'%20fill='white'%20stroke='black'/%3e%3ccircle%20cx='16'%20cy='15.5'%20r='3'%20fill='white'%20stroke='black'/%3e%3ccircle%20cx='24.5'%20cy='15.5'%20r='3'%20fill='white'%20stroke='black'/%3e%3c/svg%3e",r="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M18.6897%206.80873C19.1034%206.39496%2019.1034%205.7241%2018.6897%205.31033C18.2759%204.89656%2017.605%204.89656%2017.1913%205.31033L12%2010.5016L6.80873%205.31033C6.39496%204.89656%205.7241%204.89656%205.31033%205.31033C4.89656%205.7241%204.89656%206.39496%205.31033%206.80873L10.5016%2012L5.31033%2017.1913C4.89656%2017.605%204.89656%2018.2759%205.31033%2018.6897C5.7241%2019.1034%206.39496%2019.1034%206.80873%2018.6897L12%2013.4984L17.1913%2018.6897C17.605%2019.1034%2018.2759%2019.1034%2018.6897%2018.6897C19.1034%2018.2759%2019.1034%2017.605%2018.6897%2017.1913L13.4984%2012L18.6897%206.80873Z'%20fill='black'/%3e%3c/svg%3e",d="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.1667%205.31804C19.1667%205.31804%2019.1667%205.31479%2019.1667%205.31284C19.1647%204.60204%2019.0286%203.91203%2018.7622%203.25905C18.4952%202.60347%2018.1105%202.01871%2017.6186%201.52102C17.1241%201.02008%2016.5467%200.633487%2015.9022%200.370996C15.2978%200.124748%2014.6619%200%2014.0122%200C13.9707%200%2013.9293%200%2013.8872%200.00129946C13.0665%200.00779676%2012.2714%200.189072%2011.5243%200.540576C10.7792%200.89143%2010.1262%201.38977%209.58366%202.02326C9.04046%201.38977%208.38809%200.89078%207.64299%200.540576C6.89526%200.189072%206.10019%200.00779676%205.27946%200.00129946C5.23803%200%205.19594%200%205.15451%200C4.50477%200%203.86884%200.124748%203.26448%200.370996C2.62%200.633487%202.0426%201.02008%201.54806%201.52102C1.05616%202.01871%200.671442%202.60347%200.404443%203.25905C0.138103%203.91138%200.00197289%204.60204%200%205.31025C0%205.31285%200%205.31544%200%205.31804V7.50828C0%207.50828%200%207.50828%200%207.50893C0%207.50893%200%207.51023%200%207.51088V7.54727C0.0105221%209.23917%200.700377%2010.844%202.23397%2012.7458L2.24384%2012.7581L2.25436%2012.7704C4.09244%2014.8665%206.08704%2016.8495%208.18291%2018.6635L9.03125%2019.4815L9.56854%2020L10.119%2019.4952L10.9746%2018.7109C13.0698%2016.8917%2015.067%2014.9074%2016.9097%2012.8127L16.9241%2012.7964L16.938%2012.7789C18.4676%2010.8284%2019.1561%209.21318%2019.1653%207.54727V5.31804H19.1667Z'%20fill='black'/%3e%3cpath%20d='M13.9003%200.780983C13.198%200.785531%2012.5035%200.943415%2011.863%201.24424C11.2225%201.54572%2010.6503%201.98363%2010.1828%202.53006L9.583%203.24671L8.98324%202.53006C8.51566%201.98363%207.94287%201.54572%207.30233%201.24424C6.6618%200.942766%205.968%200.784881%205.26565%200.780983C4.6843%200.765389%204.10625%200.871295%203.56436%201.09155C3.02313%201.31181%202.52925%201.64317%202.11231%202.0655C1.69537%202.48782%201.36327%202.99201%201.13638%203.55013C0.908843%204.1076%200.791127%204.7073%200.789154%205.31285C0.789154%206.82867%201.42048%208.28667%202.85149%2010.0611C4.67641%2012.1428%206.63747%2014.0914%208.71953%2015.8924L9.583%2016.7254L10.4465%2015.934C12.5259%2014.1297%2014.4863%2012.1812%2016.3145%2010.1027C17.7455%208.27822%2018.3775%206.82023%2018.3775%205.31285C18.3755%204.7073%2018.2572%204.1076%2018.0303%203.55013C17.8034%202.99266%2017.4713%202.48782%2017.0537%202.0655C16.6368%201.64317%2016.1429%201.31246%2015.6016%201.09155C15.0604%200.871295%2014.4817%200.765389%2013.9003%200.780983Z'%20fill='white'/%3e%3c/svg%3e",c="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.1667%205.31804C19.1667%205.31804%2019.1667%205.31479%2019.1667%205.31284C19.1647%204.60204%2019.0286%203.91203%2018.7622%203.25905C18.4952%202.60347%2018.1105%202.01871%2017.6186%201.52102C17.1241%201.02008%2016.5467%200.633487%2015.9022%200.370996C15.2978%200.124748%2014.6619%200%2014.0122%200C13.9707%200%2013.9293%200%2013.8872%200.00129946C13.0665%200.00779676%2012.2714%200.189072%2011.5243%200.540576C10.7792%200.89143%2010.1262%201.38977%209.58366%202.02326C9.04046%201.38977%208.38809%200.89078%207.64299%200.540576C6.89526%200.189072%206.10019%200.00779676%205.27946%200.00129946C5.23803%200%205.19594%200%205.15451%200C4.50477%200%203.86884%200.124748%203.26448%200.370996C2.62%200.633487%202.0426%201.02008%201.54806%201.52102C1.05616%202.01871%200.671442%202.60347%200.404443%203.25905C0.138103%203.91138%200.00197289%204.60204%200%205.31025C0%205.31285%200%205.31544%200%205.31804V7.50828C0%207.50828%200%207.50828%200%207.50893C0%207.50893%200%207.51023%200%207.51088V7.54727C0.0105221%209.23917%200.700377%2010.844%202.23397%2012.7458L2.24384%2012.7581L2.25436%2012.7704C4.09244%2014.8665%206.08704%2016.8495%208.18291%2018.6635L9.03125%2019.4815L9.56854%2020L10.119%2019.4952L10.9746%2018.7109C13.0698%2016.8917%2015.067%2014.9074%2016.9097%2012.8127L16.9241%2012.7964L16.938%2012.7789C18.4676%2010.8284%2019.1561%209.21318%2019.1653%207.54727V5.31804H19.1667Z'%20fill='black'/%3e%3cpath%20d='M13.9003%200.780983C13.198%200.785531%2012.5035%200.943415%2011.863%201.24424C11.2225%201.54572%2010.6503%201.98363%2010.1828%202.53006L9.583%203.24671L8.98324%202.53006C8.51566%201.98363%207.94287%201.54572%207.30233%201.24424C6.6618%200.942766%205.968%200.784881%205.26565%200.780983C4.6843%200.765389%204.10625%200.871295%203.56436%201.09155C3.02313%201.31181%202.52925%201.64317%202.11231%202.0655C1.69537%202.48782%201.36327%202.99201%201.13638%203.55013C0.908843%204.1076%200.791127%204.7073%200.789154%205.31285C0.789154%206.82867%201.42048%208.28667%202.85149%2010.0611C4.67641%2012.1428%206.63747%2014.0914%208.71953%2015.8924L9.583%2016.7254L10.4465%2015.934C12.5259%2014.1297%2014.4863%2012.1812%2016.3145%2010.1027C17.7455%208.27822%2018.3775%206.82023%2018.3775%205.31285C18.3755%204.7073%2018.2572%204.1076%2018.0303%203.55013C17.8034%202.99266%2017.4713%202.48782%2017.0537%202.0655C16.6368%201.64317%2016.1429%201.31246%2015.6016%201.09155C15.0604%200.871295%2014.4817%200.765389%2013.9003%200.780983Z'%20fill='url(%23paint0_linear_2439_35)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_2439_35'%20x1='20.0615'%20y1='12.1852'%20x2='-3.82082'%20y2='-4.58681'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.36291'%20stop-color='%23FF597A'/%3e%3cstop%20offset='0.572672'%20stop-color='%23FF29C4'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",h={searching:["Browsing our recipe collection...","Hunting down delicious ideas...","Exploring thousands of recipes...","Searching for the perfect dishes...","Digging through our cookbook...","Scouring the kitchen for inspiration...","Flipping through recipe pages...","Discovering culinary gems...","Peeking into our recipe vault...","Gathering tasty possibilities..."],validating:["Checking dietary requirements...","Making sure everything fits your needs...","Filtering out what doesn't match...","Double-checking ingredients for you...","Ensuring every dish works for you...","Scanning for allergens and restrictions...","Verifying nutritional balance...","Matching recipes to your preferences...","Reviewing ingredients carefully...","Confirming everything meets your criteria..."],building:["Putting together your meal plan...","Balancing flavors and nutrition...","Crafting the perfect day of meals...","Almost ready to serve...","Adding the finishing touches...","Arranging your daily menu...","Mixing variety into your plan...","Plating your personalized meals...","Seasoning your schedule with great picks...","Wrapping up your delicious day..."]};function p(e){return`\n    <div class="miso-plan-editor">\n      ${function(e){var i,n;const{state:s}=e,r=(null==(i=s.plan)?void 0:i.title)||"Untitled Plan",h=(null==(n=s.plan)?void 0:n.recipes)&&s.plan.recipes.length>0;return`\n    <div class="miso-plan-editor__top">\n      <div class="miso-plan-editor__title-area ${h?"":"miso-plan-editor__title-area--no-recipes"}">\n        <div class="miso-plan-editor__title-left">\n          <img src="${a}" alt="Back" class="miso-plan-editor__back-btn" />\n          <h1 class="miso-plan-editor__title">${t(r)}</h1>\n        </div>\n        <img src="${l}" alt="More" class="miso-plan-editor__dots-icon" />\n      </div>\n      ${h?function(e){var i;const{state:n}=e;return(null==(i=n.plan)?void 0:i.recipes)?`\n    <div class="miso-plan-editor__recipe-area">\n      ${n.plan.recipes.map((i,n)=>function(e,i,n){return`\n    <div class="miso-plan-editor__recipe-slot">\n      <div class="miso-plan-editor__slot-label">${t(e.slot_label)}</div>\n      ${function(e,i){const{state:n}=i,s=n.savedRecipes.includes(e.id);return`\n    <div class="miso-plan-editor__recipe-card">\n      <button class="miso-plan-editor__save-btn${s?" miso-plan-editor__save-btn--active":""}" data-recipe-id="${e.id}">\n        <img src="${d}" alt="Save" class="miso-plan-editor__save-icon miso-plan-editor__save-icon--default" />\n        <img src="${c}" alt="Save" class="miso-plan-editor__save-icon miso-plan-editor__save-icon--active" />\n      </button>\n      <a href="${t(e.url)}" target="_blank" rel="noopener" class="miso-plan-editor__recipe-card-link">\n        <div class="miso-plan-editor__recipe-image" style="background-image: url('${e.cover_image}')"></div>\n        <div class="miso-plan-editor__recipe-title">\n          <span class="miso-plan-editor__recipe-title-text">${t(e.title)}</span>\n        </div>\n      </a>\n    </div>\n  `}(e,n)}\n      <div class="miso-plan-editor__slot-actions">\n        <button class="miso-plan-editor__action-btn miso-plan-editor__swap-btn" data-recipe-index="${i}">Swap</button>\n        <button class="miso-plan-editor__action-btn miso-plan-editor__move-btn" data-recipe-index="${i}">Move</button>\n      </div>\n    </div>\n  `}(i,n,e)).join("")}\n    </div>\n  `:""}(e):""}\n      <button class="miso-plan-editor__scroll-top-btn">\n        <img src="${o}" alt="Scroll to top" class="miso-plan-editor__scroll-top-icon" />\n      </button>\n    </div>\n  `}(e)}\n      ${function(e){const{state:i}=e,n=!i.planId;let s;s="idle"!==i.creationPhase?function(e){const{state:i}=e;return i.creationMessage?`\n    <div class="miso-plan-editor__creation-message">\n      ${t(i.creationMessage)}\n    </div>\n  `:""}(e):n?"\n    <div class=\"miso-plan-editor__welcome\">\n      Welcome! Let's plan a meal together. Just briefly describe what you'd like to plan, and we'll get started.\n    </div>\n  ":function(e){var i;const{state:n}=e;if(!(null==(i=n.plan)?void 0:i.messages))return"";const s=n.plan.messages.filter(e=>"assistant"===e.role),a=s[s.length-1];return a?`\n    <div class="miso-plan-editor__assistant-message">\n      ${t(a.content)}\n    </div>\n  `:""}(e);return`\n    <div class="miso-plan-editor__bottom">\n      <div class="miso-plan-editor__message-area">\n        ${s}\n      </div>\n    </div>\n  `}(e)}\n      ${function(e){return`\n    <div class="miso-plan-editor__prompt-section">\n      ${u(e)}\n      ${function(e){const{state:i}=e,n=!i.planId;return`\n    <form class="miso-plan-editor__input-form">\n      <div class="miso-plan-editor__input-wrapper">\n        <input \n          type="text" \n          class="miso-plan-editor__input" \n          placeholder="${n?"What shall we plan?":"Any updates or tweaks?"}"\n          value=""\n          ${i.isLoading?"disabled":""}\n        />\n        <img src="${r}" alt="Clear" class="miso-plan-editor__clear-btn" style="display: none;" />\n      </div>\n      ${i.errorMessage?`<div class="miso-plan-editor__error">${t(i.errorMessage)}</div>`:""}\n    </form>\n  `}(e)}\n    </div>\n  `}(e)}\n    </div>\n  `}function u(e){const{state:i}=e;return 0===i.suggestions.length?"":`\n    <div class="miso-plan-editor__suggestions">\n      ${i.suggestions.map(e=>`\n        <button class="miso-plan-editor__suggestion-btn" data-suggestion="${t(e)}">\n          <span class="miso-plan-editor__suggestion-btn-text">${t(e)}</span>\n        </button>\n      `).join("")}\n    </div>\n  `}const g={active:null};class m{constructor(e,t){this.modalElement=null,this.previousActiveElement=null,this.container=e,this.options=t,this.boundHandleKeyDown=this.handleKeyDown.bind(this)}render(){var e;const t=`\n      <div class="miso-modal" role="dialog" aria-modal="true">\n        <div class="miso-modal__overlay"></div>\n        <div class="miso-modal__dialog">\n          <button class="miso-modal__close-btn" aria-label="Close modal">\n            <img src="${r}" alt="Close" />\n          </button>\n          <div class="miso-modal__content"></div>\n        </div>\n      </div>\n    `;this.container.innerHTML=t,this.modalElement=this.container.querySelector(".miso-modal");const i=null==(e=this.modalElement)?void 0:e.querySelector(".miso-modal__content");if(i&&this.options.content){const e=this.options.content();i.appendChild(e)}this.attachEventListeners()}attachEventListeners(){if(!this.modalElement)return;const e=this.modalElement.querySelector(".miso-modal__close-btn");null==e||e.addEventListener("click",()=>this.closeModal("button"));const t=this.modalElement.querySelector(".miso-modal__overlay");null==t||t.addEventListener("click",()=>this.closeModal("overlay"));const i=this.modalElement.querySelector(".miso-modal__dialog");null==i||i.addEventListener("click",e=>e.stopPropagation())}handleKeyDown(e){if("Escape"===e.key&&(e.preventDefault(),this.closeModal("escape")),"Tab"===e.key&&this.modalElement){const t=this.modalElement.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=t[0],n=t[t.length-1];e.shiftKey&&document.activeElement===i?(e.preventDefault(),null==n||n.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),null==i||i.focus())}}openModal(){if(g.active&&g.active!==this&&g.active.closeModal("button"),!this.modalElement)return;this.previousActiveElement=document.activeElement,document.body.style.overflow="hidden",document.addEventListener("keydown",this.boundHandleKeyDown),this.modalElement.offsetHeight,this.modalElement.classList.add("miso-modal--open"),g.active=this;const e=this.modalElement.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');null==e||e.focus()}closeModal(e="button"){this.modalElement&&(document.removeEventListener("keydown",this.boundHandleKeyDown),this.modalElement.classList.remove("miso-modal--open"),setTimeout(()=>{var t,i,n;document.body.style.overflow="",g.active===this&&(g.active=null),null==(t=this.previousActiveElement)||t.focus(),null==(n=(i=this.options).onClose)||n.call(i,e)},300))}destroy(){g.active===this&&(document.removeEventListener("keydown",this.boundHandleKeyDown),document.body.style.overflow="",g.active=null),this.modalElement&&(this.modalElement.remove(),this.modalElement=null),this.container.innerHTML=""}}class v{constructor(e){this.modal=null,this.container=document.createElement("div"),document.body.appendChild(this.container),this.options=e}open(e,t,i){var n;null==(n=this.modal)||n.destroy(),this.modal=new m(this.container,{content:()=>this.createContent(e,t,i),onClose:()=>{this.modal=null}}),this.modal.render(),this.modal.openModal()}close(){var e;null==(e=this.modal)||e.closeModal("button")}destroy(){var e;null==(e=this.modal)||e.destroy(),this.container.remove()}createContent(e,t,i){const n=document.createElement("div");n.className="miso-move-modal";const s=document.createElement("h2");s.className="miso-move-modal__title",s.textContent="Quick Move",n.appendChild(s);const a=document.createElement("p");a.className="miso-move-modal__recipe-name",a.textContent=e.title,n.appendChild(a);const o=document.createElement("div");return o.className="miso-move-modal__slots",i.forEach(i=>{const n=document.createElement("button");n.className="miso-move-modal__slot-btn",n.textContent=i,i===e.slot_label&&n.classList.add("miso-move-modal__slot-btn--active"),n.addEventListener("click",async()=>{if(i!==e.slot_label)try{await this.options.onMove(t,i),this.close()}catch(n){console.error("Failed to move recipe:",n)}else this.close()}),o.appendChild(n)}),n.appendChild(o),n}}class _{constructor(e){this.modal=null,this.currentRecipe=null,this.currentRecipeIndex=null,this.suggestions=null,this.isSwapping=!1,this.container=document.createElement("div"),document.body.appendChild(this.container),this.options=e}async open(e,t){var i;this.currentRecipe=e,this.currentRecipeIndex=t,this.suggestions=null,this.isSwapping=!1,null==(i=this.modal)||i.destroy(),this.modal=new m(this.container,{content:()=>this.createContent(),onClose:()=>{this.reset()}}),this.modal.render(),this.modal.openModal();try{this.suggestions=await this.options.onFetchSuggestions(t),this.updateContent()}catch(n){console.error("Failed to fetch swap suggestions:",n),this.close(),this.options.onError("Failed to load swap suggestions. Please try again.")}}close(){var e;null==(e=this.modal)||e.closeModal("button")}destroy(){var e;null==(e=this.modal)||e.destroy(),this.container.remove()}reset(){this.modal=null,this.suggestions=null,this.currentRecipe=null,this.currentRecipeIndex=null,this.isSwapping=!1}updateContent(){if(!this.modal)return;const e=this.container.querySelector(".miso-swap-modal");if(e){const t=this.createContent();e.replaceWith(t)}}createContent(){const e=document.createElement("div");if(e.className="miso-swap-modal",!this.currentRecipe)return e;const i=document.createElement("h2");return i.className="miso-swap-modal__title",i.innerHTML=`SWAPPING<br>${t(this.currentRecipe.title)}`,e.appendChild(i),this.suggestions?e.appendChild(this.createSuggestionsList()):e.appendChild(this.createLoading()),e}createLoading(){const e=document.createElement("div");return e.className="miso-swap-modal__loading",e.innerHTML=`<img src="${n}" alt="Loading" class="miso-swap-modal__loading-icon" />`,e}createSuggestionsList(){const e=document.createElement("div");return e.className="miso-swap-modal__suggestions",this.suggestions?(this.suggestions.recipes.forEach((t,i)=>{var n;const s=document.createElement("div");s.className="miso-swap-modal__suggestion-item";const a=document.createElement("div");a.className="miso-swap-modal__card";const o=document.createElement("div");o.className="miso-swap-modal__card-image",o.style.backgroundImage=`url('${t.cover_image}')`,a.appendChild(o);const l=document.createElement("div");l.className="miso-swap-modal__card-content";const r=document.createElement("div");r.className="miso-swap-modal__card-title",r.textContent=t.title,l.appendChild(r);const d=document.createElement("button");d.className="miso-swap-modal__swap-btn",d.textContent="Swap",d.dataset.suggestionIndex=String(i),d.addEventListener("click",()=>{this.handleSwap(t,d)}),l.appendChild(d),a.appendChild(l),s.appendChild(a);const c=null==(n=this.suggestions)?void 0:n.reasons[i];if(c){const e=document.createElement("p");e.className="miso-swap-modal__reason",e.textContent=c,s.appendChild(e)}e.appendChild(s)}),e):e}async handleSwap(e,t){if(null===this.currentRecipeIndex||this.isSwapping)return;this.isSwapping=!0;const i=t.textContent;t.disabled=!0,t.innerHTML=`<img src="${n}" alt="Loading" class="miso-swap-modal__btn-loading" />`;try{await this.options.onSwap(this.currentRecipeIndex,e),this.close()}catch(s){console.error("Failed to swap recipe:",s),t.disabled=!1,t.textContent=i,this.isSwapping=!1,this.close(),this.options.onError("Failed to swap recipe. Please try again.")}}}function w(e){const t=[...e];for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[t[i],t[e]]=[t[e],t[i]]}return t}function f(){return 3e3+2e3*Math.random()}class C{constructor(e,t,i){this.widgetElement=null,this.creationTimeout=null,this.shuffledMessages=null,this.buildingMessageIndex=0,this.container=e,this.instance=t,this.state=function(e,t,i){let n={...e};return{get:()=>n,set:e=>{const s=Object.keys(e);n={...n,...e};let a=!1;for(const i of s){const e=t[i];e&&(e(n[i],n),a=!0)}a||i()},refresh:()=>i()}}(function(e){return{plan:null,planId:e,isLoading:!1,isUpdating:!1,planNotFound:!1,errorMessage:"",savedRecipes:[],suggestions:[],creationPhase:"idle",creationMessage:""}}(i),{savedRecipes:()=>this.updateSaveButtons(),errorMessage:()=>this.updateErrorDisplay(),suggestions:()=>this.updateSuggestionsDisplay(),isUpdating:()=>this.updateLoadingOverlay(),creationMessage:()=>this.updateCreationMessage()},()=>this.renderContent()),this.moveModal=new v({onMove:(e,t)=>this.handleMoveRecipe(e,t)}),this.swapModal=new _({onFetchSuggestions:e=>this.fetchSwapSuggestions(e),onSwap:(e,t)=>this.handleSwapRecipe(e,t),onError:e=>this.state.set({errorMessage:e})})}async render(){this.renderContent();const{planId:e}=this.state.get();e?await this.loadPlan():await this.loadSuggestions()}setSavedRecipes(e){this.state.set({savedRecipes:e})}destroy(){this.stopCreationSequence(),this.moveModal.destroy(),this.swapModal.destroy(),this.widgetElement&&(this.container.removeChild(this.widgetElement),this.widgetElement=null)}async loadPlan(){var e,t;const{planId:i}=this.state.get();if(i){this.state.set({isLoading:!0});try{const e=await this.instance.apiService.getPlan(i);this.state.set({plan:e.data}),await this.loadSuggestions()}catch(n){console.error("Failed to load plan:",n);(null==(e=null==n?void 0:n.message)?void 0:e.toLowerCase().includes("not found"))||404===(null==n?void 0:n.status)||404===(null==(t=null==n?void 0:n.response)?void 0:t.status)?(this.state.set({planNotFound:!0}),this.instance.emit("plan-not-found",i)):this.state.set({errorMessage:"Failed to load plan. Please try again."})}finally{this.state.set({isLoading:!1})}}}async loadSuggestions(){try{const{plan:e}=this.state.get(),t=await this.instance.apiService.getSuggestedPrompts(e);this.state.set({suggestions:t.data})}catch(e){console.error("Failed to fetch suggestions:",e),this.state.set({suggestions:[]})}}renderContent(){const e=this.state.get();return e.planNotFound?(this.container.innerHTML=`\n    <div class="miso-plan-editor">\n      <div class="miso-plan-editor__not-found">\n        <div class="miso-plan-editor__not-found-content">\n          <h2 class="miso-plan-editor__not-found-title">Plan Not Found</h2>\n          <p class="miso-plan-editor__not-found-message">The meal plan you're looking for doesn't exist or has been removed.</p>\n          <button class="miso-plan-editor__not-found-btn" data-action="back-to-home">\n            <img src="${a}" alt="Back" class="miso-plan-editor__not-found-icon" />\n            Back to Home\n          </button>\n        </div>\n      </div>\n    </div>\n  `,this.widgetElement=this.container.firstElementChild,void this.attachNotFoundListeners()):e.isLoading&&e.planId&&!e.plan?(this.container.innerHTML=`\n    <div class="miso-plan-editor">\n      <div class="miso-plan-editor__loading-full">\n        <img src="${n}" alt="Loading" class="miso-plan-editor__loading-icon" />\n      </div>\n    </div>\n  `,void(this.widgetElement=this.container.firstElementChild)):(this.container.innerHTML=p({state:e}),this.widgetElement=this.container.firstElementChild,this.attachEventListeners(),this.updateScrollState(),void this.updateLoadingOverlay())}updateSaveButtons(){if(!this.widgetElement)return;const{savedRecipes:e}=this.state.get();this.widgetElement.querySelectorAll(".miso-plan-editor__save-btn").forEach(t=>{const i=t.dataset.recipeId;if(i){const n=e.includes(i);t.classList.toggle("miso-plan-editor__save-btn--active",n)}})}updateErrorDisplay(){if(!this.widgetElement)return;const{errorMessage:e}=this.state.get(),t=this.widgetElement.querySelector(".miso-plan-editor__input-form");let i=null==t?void 0:t.querySelector(".miso-plan-editor__error");e?(i||(i=document.createElement("div"),i.className="miso-plan-editor__error",null==t||t.appendChild(i)),i.textContent=e):null==i||i.remove()}updateSuggestionsDisplay(){if(!this.widgetElement)return;const e=this.state.get(),t=this.widgetElement.querySelector(".miso-plan-editor__prompt-section");if(!t)return;const i=t.querySelector(".miso-plan-editor__suggestions");if(null==i||i.remove(),e.suggestions.length>0){const i=t.querySelector(".miso-plan-editor__input-form");if(i){const t=u({state:e});i.insertAdjacentHTML("beforebegin",t),this.attachSuggestionListeners()}}}updateLoadingOverlay(){if(!this.widgetElement)return;const{isUpdating:e}=this.state.get(),t=this.widgetElement.querySelector(".miso-plan-editor__top");if(!t)return;const i=t.querySelector(".miso-plan-editor__updating-overlay");null==i||i.remove();const n=this.widgetElement.querySelector(".miso-plan-editor__input");if(n&&(n.disabled=e),this.widgetElement.querySelectorAll(".miso-plan-editor__suggestion-btn").forEach(t=>{t.disabled=e}),e){const e=document.createElement("div");e.className="miso-plan-editor__updating-overlay",t.appendChild(e)}}updateCreationMessage(){if(!this.widgetElement)return;const{creationMessage:e,creationPhase:t}=this.state.get(),i=this.widgetElement.querySelector(".miso-plan-editor__message-area");if(!i)return;if("idle"===t)return;const n=document.createElement("div");n.className="miso-plan-editor__creation-message",n.textContent=e,i.innerHTML="",i.appendChild(n)}attachEventListeners(){var e,t,i;if(!this.widgetElement)return;null==(e=this.widgetElement.querySelector(".miso-plan-editor__back-btn"))||e.addEventListener("click",()=>{this.instance.emit("plan-closed")}),this.attachSuggestionListeners();const n=this.widgetElement.querySelector(".miso-plan-editor__input");if(n){const{planId:e}=this.state.get();e||n.focus(),n.addEventListener("input",()=>this.updateClearButtonVisibility())}null==(t=this.widgetElement.querySelector(".miso-plan-editor__clear-btn"))||t.addEventListener("click",()=>{var e;const t=null==(e=this.widgetElement)?void 0:e.querySelector(".miso-plan-editor__input");t&&(t.value="",this.updateClearButtonVisibility(),t.focus())});const s=this.widgetElement.querySelector(".miso-plan-editor__input-form");null==s||s.addEventListener("submit",async e=>{e.preventDefault(),await this.handleSubmit()}),this.widgetElement.addEventListener("scroll",()=>this.updateScrollState()),null==(i=this.widgetElement.querySelector(".miso-plan-editor__scroll-top-btn"))||i.addEventListener("click",()=>{var e;null==(e=this.widgetElement)||e.scrollTo({top:0,behavior:"smooth"})}),this.widgetElement.querySelectorAll(".miso-plan-editor__save-btn").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const i=e.dataset.recipeId;i&&this.instance.emit("save-recipe",i)})}),this.widgetElement.querySelectorAll(".miso-plan-editor__move-btn").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.recipeIndex||"-1",10);t>=0&&this.openMoveModal(t)})}),this.widgetElement.querySelectorAll(".miso-plan-editor__swap-btn").forEach(e=>{e.addEventListener("click",()=>{const t=parseInt(e.dataset.recipeIndex||"-1",10);t>=0&&this.openSwapModal(t)})})}attachSuggestionListeners(){this.widgetElement&&this.widgetElement.querySelectorAll(".miso-plan-editor__suggestion-btn").forEach(e=>{e.addEventListener("click",()=>{var t;const i=e.dataset.suggestion;if(i){const e=null==(t=this.widgetElement)?void 0:t.querySelector(".miso-plan-editor__input");e&&(e.value=i,this.updateClearButtonVisibility(),e.focus())}})})}attachNotFoundListeners(){var e;this.widgetElement&&(null==(e=this.widgetElement.querySelector('[data-action="back-to-home"]'))||e.addEventListener("click",()=>{this.instance.emit("plan-closed")}))}updateClearButtonVisibility(){if(!this.widgetElement)return;const e=this.widgetElement.querySelector(".miso-plan-editor__input"),t=this.widgetElement.querySelector(".miso-plan-editor__clear-btn");e&&t&&(t.style.display=e.value?"block":"none")}updateScrollState(){if(!this.widgetElement)return;const e=this.widgetElement,t=e.scrollHeight>e.clientHeight,i=e.scrollHeight-e.scrollTop<=e.clientHeight+1,n=e.scrollTop>0;e.classList.toggle("has-scroll",t&&!i),e.classList.toggle("is-scrolled",n)}async handleSubmit(){var e,t;if(!this.widgetElement)return;const i=this.widgetElement.querySelector(".miso-plan-editor__input");if(!(null==i?void 0:i.value.trim()))return;const n=i.value.trim(),s=this.state.get(),a=!!s.planId;i.disabled=!0,i.blur(),this.state.set({isLoading:!0,isUpdating:!0,errorMessage:""}),a||this.startCreationSequence();try{if(a){const t=[...(null==(e=s.plan)?void 0:e.messages)||[],{role:"user",content:n}],i=await this.instance.apiService.sendCompletion(s.planId,t);this.state.set({plan:i.data}),this.instance.emit("plan-updated",i.data)}else{const e=[{role:"user",content:n}],t=await this.instance.apiService.createPlan(e);this.stopCreationSequence(),this.state.set({plan:t.data,planId:t.data.id}),this.instance.emit("plan-created",t.data)}await this.loadSuggestions(),this.state.set({isLoading:!1}),setTimeout(()=>this.state.set({isUpdating:!1}),600)}catch(o){console.error(a?"Failed to update plan:":"Failed to create plan:",o),this.stopCreationSequence(),this.state.set({errorMessage:"Sorry, something went wrong. Please try again.",isLoading:!1,isUpdating:!1});const e=null==(t=this.widgetElement)?void 0:t.querySelector(".miso-plan-editor__input");e&&(e.disabled=!1,e.value=n,this.updateClearButtonVisibility())}}startCreationSequence(){this.shuffledMessages={searching:w([...h.searching]),validating:w([...h.validating]),building:w([...h.building])},this.buildingMessageIndex=0,this.state.set({creationPhase:"searching",creationMessage:this.shuffledMessages.searching[0]}),this.scheduleNextPhase("validating")}scheduleNextPhase(e){this.creationTimeout&&clearTimeout(this.creationTimeout),this.creationTimeout=setTimeout(()=>{if(!this.shuffledMessages)return;const{creationPhase:t}=this.state.get();"idle"!==t&&("validating"===e?(this.state.set({creationPhase:"validating",creationMessage:this.shuffledMessages.validating[0]}),this.scheduleNextPhase("building")):"building"===e&&this.showNextBuildingMessage())},f())}showNextBuildingMessage(){if(!this.shuffledMessages)return;const{creationPhase:e}=this.state.get();if("idle"===e)return;const t=this.shuffledMessages.building,i=t[this.buildingMessageIndex];this.state.set({creationPhase:"building",creationMessage:i}),this.buildingMessageIndex<t.length-1&&(this.buildingMessageIndex++,this.creationTimeout=setTimeout(()=>{this.showNextBuildingMessage()},f()))}stopCreationSequence(){this.creationTimeout&&(clearTimeout(this.creationTimeout),this.creationTimeout=null),this.shuffledMessages=null,this.buildingMessageIndex=0,this.state.set({creationPhase:"idle",creationMessage:""})}openMoveModal(e){const{plan:t}=this.state.get();if(!(null==t?void 0:t.recipes))return;const i=t.recipes[e];if(!i)return;const n=[...new Set(t.recipes.map(e=>e.slot_label))];this.moveModal.open(i,e,n)}async handleMoveRecipe(e,t){const{plan:i,planId:n}=this.state.get();if(!(null==i?void 0:i.recipes)||!n)return;const s=i.recipes[e];if(s){this.state.set({isUpdating:!0});try{const a=[...i.recipes];a.splice(e,1);const o={...s,slot_label:t};let l=a.length;for(let e=a.length-1;e>=0;e--)if(a[e].slot_label===t){l=e+1;break}if(l===a.length){const e=[...new Set(i.recipes.map(e=>e.slot_label))],n=e.indexOf(t);for(let t=0;t<a.length;t++){if(e.indexOf(a[t].slot_label)>n){l=t;break}}}a.splice(l,0,o);const r=await this.instance.apiService.updatePlanRecipes(n,a);this.state.set({plan:r.data}),this.instance.emit("plan-updated",r.data),await this.loadSuggestions(),setTimeout(()=>this.state.set({isUpdating:!1}),600)}catch(a){console.error("Failed to move recipe:",a),this.state.set({errorMessage:"Failed to move recipe. Please try again.",isUpdating:!1})}}}openSwapModal(e){const{plan:t}=this.state.get();if(!(null==t?void 0:t.recipes))return;const i=t.recipes[e];i&&this.swapModal.open(i,e)}async fetchSwapSuggestions(e){const{planId:t}=this.state.get();if(!t)throw new Error("No plan ID");return(await this.instance.apiService.getSwapSuggestion(t,e)).data}async handleSwapRecipe(e,t){const{plan:i,planId:n}=this.state.get();if((null==i?void 0:i.recipes)&&n){this.state.set({isUpdating:!0});try{const s=[...i.recipes],a=s[e];s[e]={...t,slot_label:a.slot_label};const o=await this.instance.apiService.updatePlanRecipes(n,s);this.state.set({plan:o.data}),this.instance.emit("plan-updated",o.data),await this.loadSuggestions(),setTimeout(()=>this.state.set({isUpdating:!1}),600)}catch(s){console.error("Failed to swap recipe:",s),this.state.set({errorMessage:"Failed to swap recipe. Please try again.",isUpdating:!1})}}}}console.error("[MisoForMyR] VITE_API_BASE_URL environment variable is not set. API calls will fail.");class y{constructor(e){this.eventListeners=new Map,this.token=e}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}off(e,t){const i=this.eventListeners.get(e);i&&i.delete(t)}emit(e,t){const i=this.eventListeners.get(e);i&&i.forEach(e=>e(t))}async request(e,t={}){throw new Error("API_BASE_URL is not configured")}async getPlans(){return this.request("/myr/plan",{method:"GET"})}async getPlan(e){return this.request(`/myr/plan/${e}`,{method:"GET"})}async getSuggestedPrompts(e){return this.request("/myr/prompt-suggestion",{method:"POST",body:JSON.stringify({plan:e})})}async createPlan(e){return this.request("/myr/plan",{method:"POST",body:JSON.stringify({messages:e})})}async getSwapSuggestion(e,t){return this.request(`/myr/plan/${e}/swap-suggestion?recipe_index=${t}`,{method:"GET"})}async updatePlanRecipes(e,t){return this.request(`/myr/plan/${e}`,{method:"PATCH",body:JSON.stringify({recipes:t})})}async sendCompletion(e,t){return this.request(`/myr/plan/${e}/completion`,{method:"POST",body:JSON.stringify({messages:t})})}async deletePlan(e){await this.request(`/myr/plan/${e}`,{method:"DELETE"})}}class E{constructor(e){var t;this.eventListeners=new Map,this.planListingWidget=null,this.planEditorWidget=null,this.config=e,this.apiService=(t=e.token,new y(t)),this.apiService.on("unauthenticated",e=>{this.emit("unauthenticated",e)}),this.apiService.on("apiError",e=>{this.emit("apiError",e)})}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t)}off(e,t){const i=this.eventListeners.get(e);i&&i.delete(t)}emit(e,...t){const i=this.eventListeners.get(e);i&&i.forEach(e=>e(...t))}renderPlanListingWidget(e){this.planListingWidget=new s(e,this),this.planListingWidget.render()}destroyPlanListingWidget(){this.planListingWidget&&(this.planListingWidget.destroy(),this.planListingWidget=null)}renderPlanEditorWidget(e,t){this.planEditorWidget=new C(e,this,t),this.planEditorWidget.render()}destroyPlanEditorWidget(){this.planEditorWidget&&(this.planEditorWidget.destroy(),this.planEditorWidget=null)}async getPlans(){return this.planListingWidget?this.planListingWidget.getPlans():[]}async refreshPlans(){this.planListingWidget&&await this.planListingWidget.refreshPlans()}setSavedRecipes(e){this.planEditorWidget&&this.planEditorWidget.setSavedRecipes(e)}getConfig(){return this.config}}function L(e){return new E(e)}return"undefined"!=typeof window&&(window.misoForMyR={init:L}),e.init=L,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=miso-myrecipe-widget.js.map

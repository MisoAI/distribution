(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@import"https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap";.mi-header[data-v-96a976e4]{position:sticky;top:0;left:0;width:100%;z-index:10;display:flex;gap:.25rem;align-items:center;justify-content:center;padding:1rem;background-color:#feffff;border-bottom:1px solid rgba(0,0,0,.15)}.mi-header-title[data-v-96a976e4]{font-family:var(--mi-font-cabin);font-size:23px;font-weight:700;line-height:120%;letter-spacing:0;background:linear-gradient(270deg,#303fc8 20.24%,#0f1864 86.03%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.mi-answer-dialog[data-v-1317bd52]{display:flex;flex-direction:column}.mi-answer-dialog__question-container[data-v-1317bd52]{display:flex;justify-content:end;position:relative;margin-bottom:20px}.mi-answer-dialog__question[data-v-1317bd52]{padding:8px 12px;border-radius:8px;border:1px solid #8bb9ff;background:#e2edff;color:#2b2b2b;font-family:var(--mi-font-source-sans);font-size:18px;font-weight:400;line-height:150%;letter-spacing:.05px}.mi-answer-dialog__answer-container[data-v-1317bd52]{display:flex;justify-content:start;position:relative}.mi-answer-dialog__answer[data-v-1317bd52]{min-height:44px;padding:8px 12px;border-radius:8px;border:1px solid #c5dcff;background:transparent;color:#2b2b2b;font-family:var(--mi-font-source-sans);font-size:18px;font-weight:400;line-height:150%;letter-spacing:.05px}.mi-answer-dialog__answer [data-v-1317bd52] .miso-markdown p{line-height:150%!important}.mi-answer-dialog__answer [data-v-1317bd52] .miso-markdown p:last-child{margin-bottom:0!important}.mi-answer-dialog__answer [data-v-1317bd52] .miso-markdown a:not(.miso-citation-link){text-decoration:underline;color:#2b2b2b}.mi-answer-dialog__answer [data-v-1317bd52] .miso-markdown .miso-citation-link{color:#2b2b2b}.mi-answer-dialog__question-icon[data-v-1317bd52]{position:absolute;top:8px;right:-40px}.mi-answer-dialog__answer-icon[data-v-1317bd52]{position:absolute;top:8px;left:-40px}.mi-answer-dialog__view-sources-button[data-v-1317bd52]{margin-top:16px;display:flex;align-items:center;gap:8px;background:none;color:#000000f2;padding:8px 0;font-family:var(--mi-font-cabin);font-size:14px;font-weight:600;line-height:140%;letter-spacing:1px;text-transform:uppercase;cursor:pointer}.mi-answer-dialog__view-sources-button[data-v-1317bd52]:hover{color:#2c40d0}.mi-answer-dialog__feedback-block[data-v-1317bd52]{margin-top:10px;display:flex;align-items:center;gap:12px;color:#000000f2;font-family:var(--mi-font-source-sans);font-size:14px;font-weight:300;line-height:130%;letter-spacing:0}.mi-answer-dialog__feedback-buttons-container[data-v-1317bd52]{display:flex;align-items:center;gap:8px}.mi-answer-dialog__feedback-button[data-v-1317bd52]{border-radius:3px;border:1px solid #333e8b;background:#fff;color:#000000f2;font-family:var(--mi-font-source-sans);font-size:12px;font-weight:600;line-height:130%;letter-spacing:0;cursor:pointer;display:flex;padding:0 16px;justify-content:center;align-items:center;height:24px;width:45px}.mi-answer-dialog__feedback-button[data-v-1317bd52]:hover{background:#c5dcff}.mi-answer-dialog__feedback-button--active[data-v-1317bd52]{background:#333e8b;color:#fff}.mi-answer-dialog__feedback-button--active[data-v-1317bd52]:hover{background:#333e8b}.mi-answer-dialog__sponsored-results-block[data-v-1317bd52]{margin-top:32px;display:none;flex-direction:column;gap:24px}.mi-answer-dialog__sponsored-results-block-title[data-v-1317bd52]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:23px;font-weight:550;line-height:120%;letter-spacing:0}@media(max-width:768px){.mi-answer-dialog__question-icon[data-v-1317bd52],.mi-answer-dialog__answer-icon[data-v-1317bd52]{display:none}.mi-answer-dialog__sponsored-results-block[data-v-1317bd52]{display:flex}}.mi-answer-thread[data-v-67cc1278]{display:flex;flex-direction:column;gap:20px;min-height:60vh}.mi-sponsored-results-block[data-v-20ce34d2]{height:100%;display:flex;flex-direction:column;gap:24px}.mi-sponsored-results-block__title[data-v-20ce34d2]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:23px;font-weight:550;line-height:120%;letter-spacing:0}.mi-sponsored-results-block__sticky-container[data-v-20ce34d2]{position:sticky;top:calc(61px + 1.5rem)}@media(max-width:768px){.mi-sponsored-results-block[data-v-20ce34d2]{display:none}}.mi-related-questions-block[data-v-2e2ff070]{display:flex;flex-direction:column;gap:12px}.mi-related-questions-block__title[data-v-2e2ff070]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:23px;font-weight:550;line-height:120%;letter-spacing:0}.mi-related-questions-block__list[data-v-2e2ff070]{display:flex;flex-direction:column;gap:4px}.mi-related-questions-block__question[data-v-2e2ff070]{display:flex;padding:12px;align-items:center;gap:4px;border-radius:8px;border:1px solid rgba(0,0,0,.15);background:#fff;width:fit-content;text-align:left;cursor:pointer}.mi-related-questions-block__question[data-v-2e2ff070]:hover{background:#e2edff;border-color:#2c40d0}.mi-related-questions-block__question-text[data-v-2e2ff070]{margin-right:20px;color:#000000f2;font-family:var(--mi-font-cabin);font-size:11px;font-weight:500;line-height:140%;letter-spacing:.75px;text-transform:uppercase}.mi-recommended-articles-block__header[data-v-dda4d074]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.mi-recommended-articles-block__title[data-v-dda4d074]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:23px;font-weight:500;line-height:120%;letter-spacing:0}.mi-recommended-articles-block__control-buttons-container[data-v-dda4d074]{display:flex;gap:8px}:is(.mi-recommended-articles-block__control-button-previous,.mi-recommended-articles-block__control-button-next)[data-v-dda4d074]{background:none;display:flex;width:36px;height:36px;justify-content:center;align-items:center;border-radius:100%;color:#333e8b;border:1.2px solid #333e8b;background:#fff;cursor:pointer}:is(.mi-recommended-articles-block__control-button-previous,.mi-recommended-articles-block__control-button-next)[data-v-dda4d074]:hover{background:#333e8b;color:#fff}.mi-recommended-articles-block__content-container[data-v-dda4d074]{position:relative;width:38vw;overflow-x:hidden;box-sizing:border-box}.mi-recommended-articles-block__list[data-v-dda4d074]{display:flex;gap:24px;transition:transform .4s ease-in-out}.mi-recommended-articles-block__list a[data-v-dda4d074]{text-decoration:none}.mi-recommended-articles-block__item[data-v-dda4d074]{display:flex;flex-direction:column;gap:16px;width:10.2vw;flex-grow:0;flex-shrink:0}.mi-recommended-articles-block__item-image-container[data-v-dda4d074]{width:100%;aspect-ratio:3/2;background-color:#00000026}.mi-recommended-articles-block__item-image[data-v-dda4d074]{width:100%;height:100%;object-fit:cover}.mi-recommended-articles-block__item-content-container[data-v-dda4d074]{display:flex;flex-direction:column;gap:12px}.mi-recommended-articles-block__item-tag[data-v-dda4d074]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#2c40d0;font-family:var(--mi-font-cabin);font-size:11px;font-weight:700;line-height:140%;letter-spacing:.75px;text-transform:uppercase}.mi-recommended-articles-block__item-title[data-v-dda4d074]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:16px;font-weight:600;line-height:120%;letter-spacing:.25px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.mi-recommended-articles-block__item-author[data-v-dda4d074]{color:#000000a6;font-family:var(--mi-font-cabin);font-size:12px;font-weight:400;line-height:130%;letter-spacing:0}.mi-recommended-articles-block__item-link:hover .mi-recommended-articles-block__item-title[data-v-dda4d074]{color:#2c40d0;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:8%;text-underline-offset:10%}@media(max-width:768px){.mi-recommended-articles-block__control-buttons-container[data-v-dda4d074]{display:none}.mi-recommended-articles-block__content-container[data-v-dda4d074]{width:100%;overflow-x:auto}.mi-recommended-articles-block__list[data-v-dda4d074]{gap:12px}.mi-recommended-articles-block__item[data-v-dda4d074]{width:40vw}}.mi-ask-box-block[data-v-b3ffa6e5]{margin:0 -8px;background:#e7f2ff;padding:0 8px 16px}.mi-ask-box-block__ask-box[data-v-b3ffa6e5]{display:flex;align-items:center;margin-bottom:20px;box-shadow:0 4px 24px #00000026;border-radius:8px;outline:4px solid rgba(51,62,139,.15)}.mi-ask-box-block__input-group[data-v-b3ffa6e5]{flex:1;display:flex;gap:4px;align-items:center;border-radius:8px 0 0 8px;background:#fff;height:48px;padding:16px}.mi-ask-box-block__input[data-v-b3ffa6e5]{flex:1;outline:none;color:#2b2b2b;caret-color:#303fc8;font-family:var(--mi-font-source-sans);font-size:16px;font-weight:400;line-height:150%;letter-spacing:.05px}.mi-ask-box-block__input[data-v-b3ffa6e5]::placeholder{color:#000000a6;font-family:var(--mi-font-source-sans);font-size:16px;font-weight:400;line-height:150%;letter-spacing:.05px;opacity:.5}.mi-ask-box-block__button[data-v-b3ffa6e5]{border-radius:0 8px 8px 0;background:linear-gradient(252deg,#0f1865 -58.83%,#303fc8 136.93%);display:flex;width:74px;height:48px;padding:8px 14px;justify-content:center;align-items:center;font-family:var(--mi-font-cabin);font-size:14px;font-weight:600;line-height:120%;letter-spacing:.75px;text-transform:uppercase;color:#fff;cursor:pointer}.mi-disclaimers[data-v-b3ffa6e5]{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:5px}.mi-disclaimers__text[data-v-b3ffa6e5]{color:#000;font-family:var(--mi-font-cabin);font-size:12px;font-weight:400;line-height:130%;letter-spacing:0;opacity:.6}.mi-disclaimers__button[data-v-b3ffa6e5]{font-size:12px;background:none;border:none;cursor:pointer;text-decoration:underline}.mi-disclaimers__link[data-v-b3ffa6e5]{color:#000;text-decoration:underline;cursor:pointer}.mi-advertisement-disclosure-tooltip[data-v-b3ffa6e5]{position:absolute;bottom:135%;left:35%;width:260px;background:#fff;color:#000;font-family:var(--mi-font-cabin);font-size:12px;font-weight:400;line-height:130%;letter-spacing:0;padding:12px 16px 16px;box-shadow:0 4px 24px #00000026;display:flex;flex-direction:column;align-items:end;gap:8px}.mi-advertisement-disclosure-tooltip__close-button[data-v-b3ffa6e5]{background:none;border:none;cursor:pointer;width:12px;height:12px}.mi-advertisement-disclosure-tooltip__close-button svg[data-v-b3ffa6e5]{width:100%;height:100%}@media(max-width:768px){.mi-advertisement-disclosure-tooltip[data-v-b3ffa6e5]{left:16%}}.mi-sources-overlay[data-v-596bced8]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000026;z-index:900}.mi-sources-overlay__container[data-v-596bced8]{box-sizing:border-box;position:absolute;top:0;right:0;width:415px;height:100vh;background:#fff;padding:24px;display:flex;flex-direction:column;gap:24px}.mi-sources-overlay__header[data-v-596bced8]{display:flex;justify-content:space-between;align-items:center}.mi-sources-overlay__title[data-v-596bced8]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:23px;font-weight:600;line-height:120%;letter-spacing:0}.mi-sources-overlay__close-button[data-v-596bced8]{background:none;border:none;cursor:pointer}.mi-sources-overlay__content[data-v-596bced8]{flex:1;display:flex;flex-direction:column;overflow-y:auto}.mi-sources-overlay__source[data-v-596bced8]{display:flex;gap:10px}.mi-sources-overlay__source a[data-v-596bced8]{text-decoration:none}.mi-sources-overlay__source>*[data-v-596bced8]{padding:12px 0}.mi-sources-overlay__source:not(:first-child) .mi-sources-overlay__source-card[data-v-596bced8]{border-top:1px solid rgba(0,0,0,.15)}.mi-sources-overlay__source-index[data-v-596bced8]{width:14px;flex-shrink:0;color:#000000f2;font-family:var(--mi-font-cabin);font-size:16px;font-weight:600;line-height:120%;letter-spacing:.25px}.mi-sources-overlay__source-card[data-v-596bced8]{flex:1}.mi-sources-overlay__source-card-tag[data-v-596bced8]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#2c40d0;font-family:var(--mi-font-cabin);font-size:11px;font-weight:700;line-height:140%;letter-spacing:.75px;text-transform:uppercase;margin-bottom:8px}.mi-sources-overlay__source-card-title[data-v-596bced8]{color:#000000f2;font-family:var(--mi-font-cabin);font-size:16px;font-weight:600;line-height:120%;letter-spacing:.25px}.mi-sources-overlay__source-card-author[data-v-596bced8]{color:#000000a6;font-family:var(--mi-font-cabin);font-size:12px;font-weight:400;line-height:130%;letter-spacing:0;margin-top:8px}.mi-sources-overlay--fade-and-slide-enter-active[data-v-596bced8]{transition:opacity .3s ease-out}.mi-sources-overlay--fade-and-slide-enter-active .mi-sources-overlay__container[data-v-596bced8]{transition:transform .3s ease-out}.mi-sources-overlay--fade-and-slide-leave-active[data-v-596bced8]{transition:opacity .3s ease-in}.mi-sources-overlay--fade-and-slide-leave-active .mi-sources-overlay__container[data-v-596bced8]{transition:transform .3s ease-in}.mi-sources-overlay--fade-and-slide-enter-from[data-v-596bced8]{opacity:0}.mi-sources-overlay--fade-and-slide-enter-from .mi-sources-overlay__container[data-v-596bced8]{transform:translate(100%)}.mi-sources-overlay--fade-and-slide-leave-to[data-v-596bced8]{opacity:0}.mi-sources-overlay--fade-and-slide-leave-to .mi-sources-overlay__container[data-v-596bced8]{transform:translate(100%)}.mi-sources-overlay__source-card-link:hover .mi-sources-overlay__source-card-title[data-v-596bced8]{color:#2c40d0;text-decoration-line:underline;text-decoration-style:solid;text-decoration-skip-ink:auto;text-decoration-thickness:8%;text-underline-offset:10%}@media(max-width:768px){.mi-sources-overlay__container[data-v-596bced8]{top:auto;bottom:0;width:100%;height:auto;max-height:90vh;padding:12px;gap:12px}.mi-sources-overlay--fade-and-slide-enter-from .mi-sources-overlay__container[data-v-596bced8],.mi-sources-overlay--fade-and-slide-leave-to .mi-sources-overlay__container[data-v-596bced8]{transform:translateY(100%)}}.mi-answer-page__background[data-v-9c2cae42]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.mi-answer-page__background[data-v-9c2cae42]:before{content:"";display:block;position:sticky;top:0;left:0;width:100%;height:100vh;background:linear-gradient(180deg,#e7f2ff00,#e7f2ff)}.mi-layout[data-v-9c2cae42]{padding:1.5rem 15% 0;display:grid;grid-template-columns:minmax(0,1fr) 365px;grid-template-areas:"area-answer-thread area-sponsored-results-block" "area-related-questions-block area-sponsored-results-block" "area-recommended-articles-block area-sponsored-results-block" "area-ask-box-block area-sponsored-results-block";gap:36px 90px}.mi-layout__answer-thread[data-v-9c2cae42]{grid-area:area-answer-thread}.mi-layout__sponsored-results-block[data-v-9c2cae42]{grid-area:area-sponsored-results-block}.mi-layout__related-questions-block[data-v-9c2cae42]{grid-area:area-related-questions-block}.mi-layout__recommended-articles-block[data-v-9c2cae42]{grid-area:area-recommended-articles-block}.mi-layout__ask-box-block[data-v-9c2cae42]{grid-area:area-ask-box-block;position:sticky;bottom:0;display:flex;flex-direction:column;justify-content:end}@media(max-width:768px){.mi-layout[data-v-9c2cae42]{padding:.75rem;display:flex;flex-direction:column;gap:1.5rem}}:root{--mi-font-source-sans: "Source Sans 3", sans-serif;--mi-font-cabin: "Cabin", sans-serif;--mi-client-width: 100vw}.miso-answer-page{position:relative;width:var(--mi-client-width);min-height:100vh;right:50%;left:50%;margin-right:calc(var(--mi-client-width) / -2);margin-left:calc(var(--mi-client-width) / -2)}.miso-answer-page *,.miso-answer-page :after,.miso-answer-page :before,.miso-answer-page ::backdrop,.miso-answer-page ::file-selector-button{margin:0;padding:0}.miso-answer-page *,.miso-answer-page :after,.miso-answer-page :before,.miso-answer-page ::backdrop,.miso-answer-page ::file-selector-button{box-sizing:border-box;border:0 solid}.miso-answer-page h1,.miso-answer-page h2,.miso-answer-page h3,.miso-answer-page h4,.miso-answer-page h5,.miso-answer-page h6{font-size:inherit;font-weight:inherit}.miso-answer-page img,.miso-answer-page svg,.miso-answer-page video,.miso-answer-page canvas,.miso-answer-page audio,.miso-answer-page iframe,.miso-answer-page embed,.miso-answer-page object{display:block;vertical-align:middle}.miso-answer-page img,.miso-answer-page video{max-width:100%;height:auto}')),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ne={},hs=[],lt=()=>{},tc=()=>!1,Mn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ir=t=>t.startsWith("onUpdate:"),we=Object.assign,rr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},_h=Object.prototype.hasOwnProperty,J=(t,e)=>_h.call(t,e),D=Array.isArray,_s=t=>jn(t)==="[object Map]",sc=t=>jn(t)==="[object Set]",B=t=>typeof t=="function",he=t=>typeof t=="string",Ft=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",nc=t=>(re(t)||B(t))&&B(t.then)&&B(t.catch),ic=Object.prototype.toString,jn=t=>ic.call(t),ph=t=>jn(t).slice(8,-1),rc=t=>jn(t)==="[object Object]",or=t=>he(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qs=nr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qn=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},mh=/-\w/g,Mt=qn(t=>t.replace(mh,e=>e.slice(1).toUpperCase())),gh=/\B([A-Z])/g,jt=qn(t=>t.replace(gh,"-$1").toLowerCase()),oc=qn(t=>t.charAt(0).toUpperCase()+t.slice(1)),cr=qn(t=>t?`on${oc(t)}`:""),qt=(t,e)=>!Object.is(t,e),Bn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},cc=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},ar=t=>{const e=parseFloat(t);return isNaN(e)?t:e},bh=t=>{const e=he(t)?Number(t):NaN;return isNaN(e)?t:e};let ac;const zn=()=>ac||(ac=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lr(t){if(D(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=he(n)?Sh(n):lr(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(he(t)||re(t))return t}const yh=/;(?![^(]*\))/g,wh=/:([^]+)/,Eh=/\/\*[^]*?\*\//g;function Sh(t){const e={};return t.replace(Eh,"").split(yh).forEach(s=>{if(s){const n=s.split(wh);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Bs(t){let e="";if(he(t))e=t;else if(D(t))for(let s=0;s<t.length;s++){const n=Bs(t[s]);n&&(e+=n+" ")}else if(re(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Th=nr("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function lc(t){return!!t||t===""}const uc=t=>!!(t&&t.__v_isRef===!0),ut=t=>he(t)?t:t==null?"":D(t)||re(t)&&(t.toString===ic||!B(t.toString))?uc(t)?ut(t.value):JSON.stringify(t,fc,2):String(t),fc=(t,e)=>uc(e)?fc(t,e.value):_s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[ur(n,r)+" =>"]=i,s),{})}:sc(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ur(s))}:Ft(e)?ur(e):re(e)&&!D(e)&&!rc(e)?String(e):e,ur=(t,e="")=>{var s;return Ft(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class vh{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!e&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Fe;try{return Fe=this,e()}finally{Fe=s}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ah(){return Fe}let oe;const fr=new WeakSet;class dc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,fr.has(this)&&(fr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_c(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yc(this),pc(this);const e=oe,s=st;oe=this,st=!0;try{return this.fn()}finally{mc(this),oe=e,st=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pr(e);this.deps=this.depsTail=void 0,yc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?fr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_r(this)&&this.run()}get dirty(){return _r(this)}}let hc=0,zs,Hs;function _c(t,e=!1){if(t.flags|=8,e){t.next=Hs,Hs=t;return}t.next=zs,zs=t}function dr(){hc++}function hr(){if(--hc>0)return;if(Hs){let e=Hs;for(Hs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;zs;){let e=zs;for(zs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function pc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mc(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),pr(n),Oh(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function _r(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vs)||(t.globalVersion=Vs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_r(t))))return;t.flags|=2;const e=t.dep,s=oe,n=st;oe=t,st=!0;try{pc(t);const i=t.fn(t._value);(e.version===0||qt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{oe=s,st=n,mc(t),t.flags&=-3}}function pr(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)pr(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Oh(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let st=!0;const bc=[];function ft(){bc.push(st),st=!1}function dt(){const t=bc.pop();st=t===void 0?!0:t}function yc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=oe;oe=void 0;try{e()}finally{oe=s}}}let Vs=0;class Ch{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!oe||!st||oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==oe)s=this.activeLink=new Ch(oe,this),oe.deps?(s.prevDep=oe.depsTail,oe.depsTail.nextDep=s,oe.depsTail=s):oe.deps=oe.depsTail=s,wc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=oe.depsTail,s.nextDep=void 0,oe.depsTail.nextDep=s,oe.depsTail=s,oe.deps===s&&(oe.deps=n)}return s}trigger(e){this.version++,Vs++,this.notify(e)}notify(e){dr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{hr()}}}function wc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)wc(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const gr=new WeakMap,Xt=Symbol(""),br=Symbol(""),Qs=Symbol("");function Oe(t,e,s){if(st&&oe){let n=gr.get(t);n||gr.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new mr),i.map=n,i.key=s),i.track()}}function Tt(t,e,s,n,i,r){const o=gr.get(t);if(!o){Vs++;return}const c=a=>{a&&a.trigger()};if(dr(),e==="clear")o.forEach(c);else{const a=D(t),u=a&&or(s);if(a&&s==="length"){const l=Number(n);o.forEach((f,p)=>{(p==="length"||p===Qs||!Ft(p)&&p>=l)&&c(f)})}else switch((s!==void 0||o.has(void 0))&&c(o.get(s)),u&&c(o.get(Qs)),e){case"add":a?u&&c(o.get("length")):(c(o.get(Xt)),_s(t)&&c(o.get(br)));break;case"delete":a||(c(o.get(Xt)),_s(t)&&c(o.get(br)));break;case"set":_s(t)&&c(o.get(Xt));break}}hr()}function ps(t){const e=Z(t);return e===t?e:(Oe(e,"iterate",Qs),We(t)?e:e.map(Ee))}function Hn(t){return Oe(t=Z(t),"iterate",Qs),t}const Ih={__proto__:null,[Symbol.iterator](){return yr(this,Symbol.iterator,Ee)},concat(...t){return ps(this).concat(...t.map(e=>D(e)?ps(e):e))},entries(){return yr(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,s=>s.map(Ee),arguments)},find(t,e){return vt(this,"find",t,e,Ee,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return wr(this,"includes",t)},indexOf(...t){return wr(this,"indexOf",t)},join(t){return ps(this).join(t)},lastIndexOf(...t){return wr(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return Ws(this,"pop")},push(...t){return Ws(this,"push",t)},reduce(t,...e){return Ec(this,"reduce",t,e)},reduceRight(t,...e){return Ec(this,"reduceRight",t,e)},shift(){return Ws(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return Ws(this,"splice",t)},toReversed(){return ps(this).toReversed()},toSorted(t){return ps(this).toSorted(t)},toSpliced(...t){return ps(this).toSpliced(...t)},unshift(...t){return Ws(this,"unshift",t)},values(){return yr(this,"values",Ee)}};function yr(t,e,s){const n=Hn(t),i=n[e]();return n!==t&&!We(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=s(r.value)),r}),i}const xh=Array.prototype;function vt(t,e,s,n,i,r){const o=Hn(t),c=o!==t&&!We(t),a=o[e];if(a!==xh[e]){const f=a.apply(t,r);return c?Ee(f):f}let u=s;o!==t&&(c?u=function(f,p){return s.call(this,Ee(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const l=a.call(o,u,n);return c&&i?i(l):l}function Ec(t,e,s,n){const i=Hn(t);let r=s;return i!==t&&(We(t)?s.length>3&&(r=function(o,c,a){return s.call(this,o,c,a,t)}):r=function(o,c,a){return s.call(this,o,Ee(c),a,t)}),i[e](r,...n)}function wr(t,e,s){const n=Z(t);Oe(n,"iterate",Qs);const i=n[e](...s);return(i===-1||i===!1)&&Tr(s[0])?(s[0]=Z(s[0]),n[e](...s)):i}function Ws(t,e,s=[]){ft(),dr();const n=Z(t)[e].apply(t,s);return hr(),dt(),n}const Rh=nr("__proto__,__v_isRef,__isVue"),Sc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ft));function Lh(t){Ft(t)||(t=String(t));const e=Z(this);return Oe(e,"has",t),e.hasOwnProperty(t)}class Tc{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?xc:Ic:r?Cc:Oc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=D(e);if(!i){let a;if(o&&(a=Ih[s]))return a;if(s==="hasOwnProperty")return Lh}const c=Reflect.get(e,s,Se(e)?e:n);if((Ft(s)?Sc.has(s):Rh(s))||(i||Oe(e,"get",s),r))return c;if(Se(c)){const a=o&&or(s)?c:c.value;return i&&re(a)?Sr(a):a}return re(c)?i?Sr(c):Gn(c):c}}class vc extends Tc{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const a=Bt(r);if(!We(n)&&!Bt(n)&&(r=Z(r),n=Z(n)),!D(e)&&Se(r)&&!Se(n))return a||(r.value=n),!0}const o=D(e)&&or(s)?Number(s)<e.length:J(e,s),c=Reflect.set(e,s,n,Se(e)?e:i);return e===Z(i)&&(o?qt(n,r)&&Tt(e,"set",s,n):Tt(e,"add",s,n)),c}deleteProperty(e,s){const n=J(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&Tt(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!Ft(s)||!Sc.has(s))&&Oe(e,"has",s),n}ownKeys(e){return Oe(e,"iterate",D(e)?"length":Xt),Reflect.ownKeys(e)}}class Ac extends Tc{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const kh=new vc,$h=new Ac,Nh=new vc(!0),Ph=new Ac(!0),Er=t=>t,Vn=t=>Reflect.getPrototypeOf(t);function Uh(t,e,s){return function(...n){const i=this.__v_raw,r=Z(i),o=_s(r),c=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,u=i[t](...n),l=s?Er:e?Yn:Ee;return!e&&Oe(r,"iterate",a?br:Xt),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:c?[l(f[0]),l(f[1])]:l(f),done:p}},[Symbol.iterator](){return this}}}}function Qn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Dh(t,e){const s={get(i){const r=this.__v_raw,o=Z(r),c=Z(i);t||(qt(i,c)&&Oe(o,"get",i),Oe(o,"get",c));const{has:a}=Vn(o),u=e?Er:t?Yn:Ee;if(a.call(o,i))return u(r.get(i));if(a.call(o,c))return u(r.get(c));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Oe(Z(i),"iterate",Xt),i.size},has(i){const r=this.__v_raw,o=Z(r),c=Z(i);return t||(qt(i,c)&&Oe(o,"has",i),Oe(o,"has",c)),i===c?r.has(i):r.has(i)||r.has(c)},forEach(i,r){const o=this,c=o.__v_raw,a=Z(c),u=e?Er:t?Yn:Ee;return!t&&Oe(a,"iterate",Xt),c.forEach((l,f)=>i.call(r,u(l),u(f),o))}};return we(s,t?{add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear")}:{add(i){!e&&!We(i)&&!Bt(i)&&(i=Z(i));const r=Z(this);return Vn(r).has.call(r,i)||(r.add(i),Tt(r,"add",i,i)),this},set(i,r){!e&&!We(r)&&!Bt(r)&&(r=Z(r));const o=Z(this),{has:c,get:a}=Vn(o);let u=c.call(o,i);u||(i=Z(i),u=c.call(o,i));const l=a.call(o,i);return o.set(i,r),u?qt(r,l)&&Tt(o,"set",i,r):Tt(o,"add",i,r),this},delete(i){const r=Z(this),{has:o,get:c}=Vn(r);let a=o.call(r,i);a||(i=Z(i),a=o.call(r,i)),c&&c.call(r,i);const u=r.delete(i);return a&&Tt(r,"delete",i,void 0),u},clear(){const i=Z(this),r=i.size!==0,o=i.clear();return r&&Tt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Uh(i,t,e)}),s}function Wn(t,e){const s=Dh(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(J(s,i)&&i in n?s:n,i,r)}const Fh={get:Wn(!1,!1)},Mh={get:Wn(!1,!0)},jh={get:Wn(!0,!1)},qh={get:Wn(!0,!0)},Oc=new WeakMap,Cc=new WeakMap,Ic=new WeakMap,xc=new WeakMap;function Bh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zh(t){return t.__v_skip||!Object.isExtensible(t)?0:Bh(ph(t))}function Gn(t){return Bt(t)?t:Kn(t,!1,kh,Fh,Oc)}function Hh(t){return Kn(t,!1,Nh,Mh,Cc)}function Sr(t){return Kn(t,!0,$h,jh,Ic)}function GA(t){return Kn(t,!0,Ph,qh,xc)}function Kn(t,e,s,n,i){if(!re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=zh(t);if(r===0)return t;const o=i.get(t);if(o)return o;const c=new Proxy(t,r===2?n:s);return i.set(t,c),c}function ms(t){return Bt(t)?ms(t.__v_raw):!!(t&&t.__v_isReactive)}function Bt(t){return!!(t&&t.__v_isReadonly)}function We(t){return!!(t&&t.__v_isShallow)}function Tr(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function vr(t){return!J(t,"__v_skip")&&Object.isExtensible(t)&&cc(t,"__v_skip",!0),t}const Ee=t=>re(t)?Gn(t):t,Yn=t=>re(t)?Sr(t):t;function Se(t){return t?t.__v_isRef===!0:!1}function At(t){return Vh(t,!1)}function Vh(t,e){return Se(t)?t:new Qh(t,e)}class Qh{constructor(e,s){this.dep=new mr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Z(e),this._value=s?e:Ee(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||We(e)||Bt(e);e=n?e:Z(e),qt(e,s)&&(this._rawValue=e,this._value=n?e:Ee(e),this.dep.trigger())}}function be(t){return Se(t)?t.value:t}const Wh={get:(t,e,s)=>e==="__v_raw"?t:be(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return Se(i)&&!Se(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function Rc(t){return ms(t)?t:new Proxy(t,Wh)}class Gh{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new mr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return _c(this,!0),!0}get value(){const e=this.dep.track();return gc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Kh(t,e,s=!1){let n,i;return B(t)?n=t:(n=t.get,i=t.set),new Gh(n,i,s)}const Zn={},Jn=new WeakMap;let es;function Yh(t,e=!1,s=es){if(s){let n=Jn.get(s);n||Jn.set(s,n=[]),n.push(t)}}function Zh(t,e,s=ne){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:c,call:a}=s,u=L=>i?L:We(L)||i===!1||i===0?Ot(L,1):Ot(L);let l,f,p,g,_=!1,w=!1;if(Se(t)?(f=()=>t.value,_=We(t)):ms(t)?(f=()=>u(t),_=!0):D(t)?(w=!0,_=t.some(L=>ms(L)||We(L)),f=()=>t.map(L=>{if(Se(L))return L.value;if(ms(L))return u(L);if(B(L))return a?a(L,2):L()})):B(t)?e?f=a?()=>a(t,2):t:f=()=>{if(p){ft();try{p()}finally{dt()}}const L=es;es=l;try{return a?a(t,3,[g]):t(g)}finally{es=L}}:f=lt,e&&i){const L=f,z=i===!0?1/0:i;f=()=>Ot(L(),z)}const T=Ah(),$=()=>{l.stop(),T&&T.active&&rr(T.effects,l)};if(r&&e){const L=e;e=(...z)=>{L(...z),$()}}let M=w?new Array(t.length).fill(Zn):Zn;const F=L=>{if(!(!(l.flags&1)||!l.dirty&&!L))if(e){const z=l.run();if(i||_||(w?z.some((G,K)=>qt(G,M[K])):qt(z,M))){p&&p();const G=es;es=l;try{const K=[z,M===Zn?void 0:w&&M[0]===Zn?[]:M,g];M=z,a?a(e,3,K):e(...K)}finally{es=G}}}else l.run()};return c&&c(F),l=new dc(f),l.scheduler=o?()=>o(F,!1):F,g=L=>Yh(L,!1,l),p=l.onStop=()=>{const L=Jn.get(l);if(L){if(a)a(L,4);else for(const z of L)z();Jn.delete(l)}},e?n?F(!0):M=l.run():o?o(F.bind(null,!0),!0):l.run(),$.pause=l.pause.bind(l),$.resume=l.resume.bind(l),$.stop=$,$}function Ot(t,e=1/0,s){if(e<=0||!re(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Se(t))Ot(t.value,e,s);else if(D(t))for(let n=0;n<t.length;n++)Ot(t[n],e,s);else if(sc(t)||_s(t))t.forEach(n=>{Ot(n,e,s)});else if(rc(t)){for(const n in t)Ot(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ot(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gs=[];let Ar=!1;function KA(t,...e){if(Ar)return;Ar=!0,ft();const s=Gs.length?Gs[Gs.length-1].component:null,n=s&&s.appContext.config.warnHandler,i=Jh();if(n)gs(n,s,11,[t+e.map(r=>{var o,c;return(c=(o=r.toString)==null?void 0:o.call(r))!=null?c:JSON.stringify(r)}).join(""),s&&s.proxy,i.map(({vnode:r})=>`at <${Pa(s,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${t}`,...e];i.length&&r.push(`
`,...Xh(i)),console.warn(...r)}dt(),Ar=!1}function Jh(){let t=Gs[Gs.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function Xh(t){const e=[];return t.forEach((s,n)=>{e.push(...n===0?[]:[`
`],...e_(s))}),e}function e_({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,i=` at <${Pa(t.component,t.type,n)}`,r=">"+s;return t.props?[i,...t_(t.props),r]:[i+r]}function t_(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(n=>{e.push(...Lc(n,t[n]))}),s.length>3&&e.push(" ..."),e}function Lc(t,e,s){return he(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:Se(e)?(e=Lc(t,Z(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):B(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Z(e),s?e:[`${t}=`,e])}function gs(t,e,s,n){try{return n?t(...n):t()}catch(i){Xn(i,e,s)}}function nt(t,e,s,n){if(B(t)){const i=gs(t,e,s,n);return i&&nc(i)&&i.catch(r=>{Xn(r,e,s)}),i}if(D(t)){const i=[];for(let r=0;r<t.length;r++)i.push(nt(t[r],e,s,n));return i}}function Xn(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ne;if(e){let c=e.parent;const a=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const l=c.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,a,u)===!1)return}c=c.parent}if(r){ft(),gs(r,null,10,[t,a,u]),dt();return}}s_(t,s,i,n,o)}function s_(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const Le=[];let ht=-1;const bs=[];let zt=null,ys=0;const kc=Promise.resolve();let ei=null;function n_(t){const e=ei||kc;return t?e.then(this?t.bind(this):t):e}function i_(t){let e=ht+1,s=Le.length;for(;e<s;){const n=e+s>>>1,i=Le[n],r=Ks(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function Or(t){if(!(t.flags&1)){const e=Ks(t),s=Le[Le.length-1];!s||!(t.flags&2)&&e>=Ks(s)?Le.push(t):Le.splice(i_(e),0,t),t.flags|=1,$c()}}function $c(){ei||(ei=kc.then(Uc))}function r_(t){D(t)?bs.push(...t):zt&&t.id===-1?zt.splice(ys+1,0,t):t.flags&1||(bs.push(t),t.flags|=1),$c()}function Nc(t,e,s=ht+1){for(;s<Le.length;s++){const n=Le[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Le.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Pc(t){if(bs.length){const e=[...new Set(bs)].sort((s,n)=>Ks(s)-Ks(n));if(bs.length=0,zt){zt.push(...e);return}for(zt=e,ys=0;ys<zt.length;ys++){const s=zt[ys];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}zt=null,ys=0}}const Ks=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Uc(t){try{for(ht=0;ht<Le.length;ht++){const e=Le[ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ht<Le.length;ht++){const e=Le[ht];e&&(e.flags&=-2)}ht=-1,Le.length=0,Pc(),ei=null,(Le.length||bs.length)&&Uc()}}let Ge=null,Dc=null;function ti(t){const e=Ge;return Ge=t,Dc=t&&t.type.__scopeId||null,e}function Fc(t,e=Ge,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&_i(-1);const r=ti(e);let o;try{o=t(...i)}finally{ti(r),n._d&&_i(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Mc(t,e){if(Ge===null)return t;const s=bi(Ge),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,c,a=ne]=e[i];r&&(B(r)&&(r={mounted:r,updated:r}),r.deep&&Ot(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:c,modifiers:a}))}return t}function ts(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const c=i[o];r&&(c.oldValue=r[o].value);let a=c.dir[n];a&&(ft(),nt(a,s,8,[t.el,c,t,e]),dt())}}const jc=Symbol("_vte"),qc=t=>t.__isTeleport,Ys=t=>t&&(t.disabled||t.disabled===""),Bc=t=>t&&(t.defer||t.defer===""),zc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Hc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Cr=(t,e)=>{const s=t&&t.to;return he(s)?e?e(s):null:s},Vc={name:"Teleport",__isTeleport:!0,process(t,e,s,n,i,r,o,c,a,u){const{mc:l,pc:f,pbc:p,o:{insert:g,querySelector:_,createText:w,createComment:T}}=u,$=Ys(e.props);let{shapeFlag:M,children:F,dynamicChildren:L}=e;if(t==null){const z=e.el=w(""),G=e.anchor=w("");g(z,s,n),g(G,s,n);const K=(N,V)=>{M&16&&l(F,N,V,i,r,o,c,a)},ce=()=>{const N=e.target=Cr(e.props,_),V=Qc(N,e,w,g);N&&(o!=="svg"&&zc(N)?o="svg":o!=="mathml"&&Hc(N)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(N),$||(K(N,V),ni(e,!1)))};$&&(K(s,G),ni(e,!0)),Bc(e.props)?(e.el.__isMounted=!1,$e(()=>{ce(),delete e.el.__isMounted},r)):ce()}else{if(Bc(e.props)&&t.el.__isMounted===!1){$e(()=>{Vc.process(t,e,s,n,i,r,o,c,a,u)},r);return}e.el=t.el,e.targetStart=t.targetStart;const z=e.anchor=t.anchor,G=e.target=t.target,K=e.targetAnchor=t.targetAnchor,ce=Ys(t.props),N=ce?s:G,V=ce?z:K;if(o==="svg"||zc(G)?o="svg":(o==="mathml"||Hc(G))&&(o="mathml"),L?(p(t.dynamicChildren,L,N,i,r,o,c),Fr(t,e,!0)):a||f(t,e,N,V,i,r,o,c,!1),$)ce?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):si(e,s,z,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ee=e.target=Cr(e.props,_);ee&&si(e,ee,null,u,0)}else ce&&si(e,G,K,u,1);ni(e,$)}},remove(t,e,s,{um:n,o:{remove:i}},r){const{shapeFlag:o,children:c,anchor:a,targetStart:u,targetAnchor:l,target:f,props:p}=t;if(f&&(i(u),i(l)),r&&i(a),o&16){const g=r||!Ys(p);for(let _=0;_<c.length;_++){const w=c[_];n(w,e,s,g,!!w.dynamicChildren)}}},move:si,hydrate:o_};function si(t,e,s,{o:{insert:n},m:i},r=2){r===0&&n(t.targetAnchor,e,s);const{el:o,anchor:c,shapeFlag:a,children:u,props:l}=t,f=r===2;if(f&&n(o,e,s),(!f||Ys(l))&&a&16)for(let p=0;p<u.length;p++)i(u[p],e,s,2);f&&n(c,e,s)}function o_(t,e,s,n,i,r,{o:{nextSibling:o,parentNode:c,querySelector:a,insert:u,createText:l}},f){function p(w,T,$,M){T.anchor=f(o(w),T,c(w),s,n,i,r),T.targetStart=$,T.targetAnchor=M}const g=e.target=Cr(e.props,a),_=Ys(e.props);if(g){const w=g._lpa||g.firstChild;if(e.shapeFlag&16)if(_)p(t,e,w,w&&o(w));else{e.anchor=o(t);let T=w;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")e.targetStart=T;else if(T.data==="teleport anchor"){e.targetAnchor=T,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}T=o(T)}e.targetAnchor||Qc(g,e,l,u),f(w&&o(w),e,g,s,n,i,r)}ni(e,_)}else _&&e.shapeFlag&16&&p(t,e,t,o(t));return e.anchor&&o(e.anchor)}const c_=Vc;function ni(t,e){const s=t.ctx;if(s&&s.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Qc(t,e,s,n){const i=e.targetStart=s(""),r=e.targetAnchor=s("");return i[jc]=r,t&&(n(i,t),n(r,t)),r}const Ct=Symbol("_leaveCb"),ii=Symbol("_enterCb");function a_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{t.isMounted=!0}),sa(()=>{t.isUnmounting=!0}),t}const Ke=[Function,Array],Wc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ke,onEnter:Ke,onAfterEnter:Ke,onEnterCancelled:Ke,onBeforeLeave:Ke,onLeave:Ke,onAfterLeave:Ke,onLeaveCancelled:Ke,onBeforeAppear:Ke,onAppear:Ke,onAfterAppear:Ke,onAppearCancelled:Ke},Gc=t=>{const e=t.subTree;return e.component?Gc(e.component):e},l_={name:"BaseTransition",props:Wc,setup(t,{slots:e}){const s=Ra(),n=a_();return()=>{const i=e.default&&Jc(e.default(),!0);if(!i||!i.length)return;const r=Kc(i),o=Z(t),{mode:c}=o;if(n.isLeaving)return xr(r);const a=Zc(r);if(!a)return xr(r);let u=Ir(a,o,n,s,f=>u=f);a.type!==Pe&&Zs(a,u);let l=s.subTree&&Zc(s.subTree);if(l&&l.type!==Pe&&!ns(l,a)&&Gc(s).type!==Pe){let f=Ir(l,o,n,s);if(Zs(l,f),c==="out-in"&&a.type!==Pe)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,l=void 0},xr(r);c==="in-out"&&a.type!==Pe?f.delayLeave=(p,g,_)=>{const w=Yc(n,l);w[String(l.key)]=l,p[Ct]=()=>{g(),p[Ct]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{_(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return r}}};function Kc(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Pe){e=s;break}}return e}const u_=l_;function Yc(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function Ir(t,e,s,n,i){const{appear:r,mode:o,persisted:c=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:l,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:_,onLeaveCancelled:w,onBeforeAppear:T,onAppear:$,onAfterAppear:M,onAppearCancelled:F}=e,L=String(t.key),z=Yc(s,t),G=(N,V)=>{N&&nt(N,n,9,V)},K=(N,V)=>{const ee=V[1];G(N,V),D(N)?N.every(k=>k.length<=1)&&ee():N.length<=1&&ee()},ce={mode:o,persisted:c,beforeEnter(N){let V=a;if(!s.isMounted)if(r)V=T||a;else return;N[Ct]&&N[Ct](!0);const ee=z[L];ee&&ns(t,ee)&&ee.el[Ct]&&ee.el[Ct](),G(V,[N])},enter(N){let V=u,ee=l,k=f;if(!s.isMounted)if(r)V=$||u,ee=M||l,k=F||f;else return;let X=!1;const de=N[ii]=tt=>{X||(X=!0,tt?G(k,[N]):G(ee,[N]),ce.delayedLeave&&ce.delayedLeave(),N[ii]=void 0)};V?K(V,[N,de]):de()},leave(N,V){const ee=String(t.key);if(N[ii]&&N[ii](!0),s.isUnmounting)return V();G(p,[N]);let k=!1;const X=N[Ct]=de=>{k||(k=!0,V(),de?G(w,[N]):G(_,[N]),N[Ct]=void 0,z[ee]===t&&delete z[ee])};z[ee]=t,g?K(g,[N,X]):X()},clone(N){const V=Ir(N,e,s,n,i);return i&&i(V),V}};return ce}function xr(t){if(oi(t))return t=Ht(t),t.children=null,t}function Zc(t){if(!oi(t))return qc(t.type)&&t.children?Kc(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&B(s.default))return s.default()}}function Zs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Zs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Jc(t,e=!1,s){let n=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const c=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===Ne?(o.patchFlag&128&&i++,n=n.concat(Jc(o.children,e,c))):(e||o.type!==Pe)&&n.push(c!=null?Ht(o,{key:c}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function Xc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ri=new WeakMap;function Js(t,e,s,n,i=!1){if(D(t)){t.forEach((_,w)=>Js(_,e&&(D(e)?e[w]:e),s,n,i));return}if(Xs(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Js(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?bi(n.component):n.el,o=i?null:r,{i:c,r:a}=t,u=e&&e.r,l=c.refs===ne?c.refs={}:c.refs,f=c.setupState,p=Z(f),g=f===ne?tc:_=>J(p,_);if(u!=null&&u!==a){if(ea(e),he(u))l[u]=null,g(u)&&(f[u]=null);else if(Se(u)){u.value=null;const _=e;_.k&&(l[_.k]=null)}}if(B(a))gs(a,c,12,[o,l]);else{const _=he(a),w=Se(a);if(_||w){const T=()=>{if(t.f){const $=_?g(a)?f[a]:l[a]:a.value;if(i)D($)&&rr($,r);else if(D($))$.includes(r)||$.push(r);else if(_)l[a]=[r],g(a)&&(f[a]=l[a]);else{const M=[r];a.value=M,t.k&&(l[t.k]=M)}}else _?(l[a]=o,g(a)&&(f[a]=o)):w&&(a.value=o,t.k&&(l[t.k]=o))};if(o){const $=()=>{T(),ri.delete(t)};$.id=-1,ri.set(t,$),$e($,s)}else ea(t),T()}}}function ea(t){const e=ri.get(t);e&&(e.flags|=8,ri.delete(t))}zn().requestIdleCallback,zn().cancelIdleCallback;const Xs=t=>!!t.type.__asyncLoader,oi=t=>t.type.__isKeepAlive;function f_(t,e){ta(t,"a",e)}function d_(t,e){ta(t,"da",e)}function ta(t,e,s=Ue){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ci(e,n,s),s){let i=s.parent;for(;i&&i.parent;)oi(i.parent.vnode)&&h_(n,e,s,i),i=i.parent}}function h_(t,e,s,n){const i=ci(e,t,n,!0);tn(()=>{rr(n[e],i)},s)}function ci(t,e,s=Ue,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ft();const c=cn(s),a=nt(e,s,t,o);return c(),dt(),a});return n?i.unshift(r):i.push(r),r}}const It=t=>(e,s=Ue)=>{(!an||t==="sp")&&ci(t,(...n)=>e(...n),s)},__=It("bm"),en=It("m"),p_=It("bu"),m_=It("u"),sa=It("bum"),tn=It("um"),g_=It("sp"),b_=It("rtg"),y_=It("rtc");function w_(t,e=Ue){ci("ec",t,e)}const E_=Symbol.for("v-ndc");function ai(t,e,s,n){let i;const r=s,o=D(t);if(o||he(t)){const c=o&&ms(t);let a=!1,u=!1;c&&(a=!We(t),u=Bt(t),t=Hn(t)),i=new Array(t.length);for(let l=0,f=t.length;l<f;l++)i[l]=e(a?u?Yn(Ee(t[l])):Ee(t[l]):t[l],l,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let c=0;c<t;c++)i[c]=e(c+1,c,void 0,r)}else if(re(t))if(t[Symbol.iterator])i=Array.from(t,(c,a)=>e(c,a,void 0,r));else{const c=Object.keys(t);i=new Array(c.length);for(let a=0,u=c.length;a<u;a++){const l=c[a];i[a]=e(t[l],l,a,r)}}else i=[];return i}const Rr=t=>t?ka(t)?bi(t):Rr(t.parent):null,sn=we(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Rr(t.parent),$root:t=>Rr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oa(t),$forceUpdate:t=>t.f||(t.f=()=>{Or(t.update)}),$nextTick:t=>t.n||(t.n=n_.bind(t.proxy)),$watch:t=>z_.bind(t)}),Lr=(t,e)=>t!==ne&&!t.__isScriptSetup&&J(t,e),S_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:c,appContext:a}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(Lr(n,e))return o[e]=1,n[e];if(i!==ne&&J(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&J(u,e))return o[e]=3,r[e];if(s!==ne&&J(s,e))return o[e]=4,s[e];kr&&(o[e]=0)}}const l=sn[e];let f,p;if(l)return e==="$attrs"&&Oe(t.attrs,"get",""),l(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(s!==ne&&J(s,e))return o[e]=4,s[e];if(p=a.config.globalProperties,J(p,e))return p[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return Lr(i,e)?(i[e]=s,!0):n!==ne&&J(n,e)?(n[e]=s,!0):J(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:o}},c){let a,u;return!!(s[c]||t!==ne&&c[0]!=="$"&&J(t,c)||Lr(e,c)||(a=r[0])&&J(a,c)||J(n,c)||J(sn,c)||J(i.config.globalProperties,c)||(u=o.__cssModules)&&u[c])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:J(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function na(t){return D(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let kr=!0;function T_(t){const e=oa(t),s=t.proxy,n=t.ctx;kr=!1,e.beforeCreate&&ia(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:c,provide:a,inject:u,created:l,beforeMount:f,mounted:p,beforeUpdate:g,updated:_,activated:w,deactivated:T,beforeDestroy:$,beforeUnmount:M,destroyed:F,unmounted:L,render:z,renderTracked:G,renderTriggered:K,errorCaptured:ce,serverPrefetch:N,expose:V,inheritAttrs:ee,components:k,directives:X,filters:de}=e;if(u&&v_(u,n,null),o)for(const ae in o){const Q=o[ae];B(Q)&&(n[ae]=Q.bind(s))}if(i){const ae=i.call(s,s);re(ae)&&(t.data=Gn(ae))}if(kr=!0,r)for(const ae in r){const Q=r[ae],yt=B(Q)?Q.bind(s,s):B(Q.get)?Q.get.bind(s,s):lt,Fs=!B(Q)&&B(Q.set)?Q.set.bind(s):lt,Re=mt({get:yt,set:Fs});Object.defineProperty(n,ae,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Ae=>Re.value=Ae})}if(c)for(const ae in c)ra(c[ae],n,s,ae);if(a){const ae=B(a)?a.call(s):a;Reflect.ownKeys(ae).forEach(Q=>{R_(Q,ae[Q])})}l&&ia(l,t,"c");function te(ae,Q){D(Q)?Q.forEach(yt=>ae(yt.bind(s))):Q&&ae(Q.bind(s))}if(te(__,f),te(en,p),te(p_,g),te(m_,_),te(f_,w),te(d_,T),te(w_,ce),te(y_,G),te(b_,K),te(sa,M),te(tn,L),te(g_,N),D(V))if(V.length){const ae=t.exposed||(t.exposed={});V.forEach(Q=>{Object.defineProperty(ae,Q,{get:()=>s[Q],set:yt=>s[Q]=yt,enumerable:!0})})}else t.exposed||(t.exposed={});z&&t.render===lt&&(t.render=z),ee!=null&&(t.inheritAttrs=ee),k&&(t.components=k),X&&(t.directives=X),N&&Xc(t)}function v_(t,e,s=lt){D(t)&&(t=$r(t));for(const n in t){const i=t[n];let r;re(i)?"default"in i?r=ui(i.from||n,i.default,!0):r=ui(i.from||n):r=ui(i),Se(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function ia(t,e,s){nt(D(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function ra(t,e,s,n){let i=n.includes(".")?Sa(s,n):()=>s[n];if(he(t)){const r=e[t];B(r)&&Es(i,r)}else if(B(t))Es(i,t.bind(s));else if(re(t))if(D(t))t.forEach(r=>ra(r,e,s,n));else{const r=B(t.handler)?t.handler.bind(s):e[t.handler];B(r)&&Es(i,r,t)}}function oa(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,c=r.get(e);let a;return c?a=c:!i.length&&!s&&!n?a=e:(a={},i.length&&i.forEach(u=>li(a,u,o,!0)),li(a,e,o)),re(e)&&r.set(e,a),a}function li(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&li(t,r,s,!0),i&&i.forEach(o=>li(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const c=A_[o]||s&&s[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const A_={data:ca,props:aa,emits:aa,methods:nn,computed:nn,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:nn,directives:nn,watch:C_,provide:ca,inject:O_};function ca(t,e){return e?t?function(){return we(B(t)?t.call(this,this):t,B(e)?e.call(this,this):e)}:e:t}function O_(t,e){return nn($r(t),$r(e))}function $r(t){if(D(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ke(t,e){return t?[...new Set([].concat(t,e))]:e}function nn(t,e){return t?we(Object.create(null),t,e):e}function aa(t,e){return t?D(t)&&D(e)?[...new Set([...t,...e])]:we(Object.create(null),na(t),na(e??{})):e}function C_(t,e){if(!t)return e;if(!e)return t;const s=we(Object.create(null),t);for(const n in e)s[n]=ke(t[n],e[n]);return s}function la(){return{app:null,config:{isNativeTag:tc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let I_=0;function x_(t,e){return function(n,i=null){B(n)||(n=we({},n)),i!=null&&!re(i)&&(i=null);const r=la(),o=new WeakSet,c=[];let a=!1;const u=r.app={_uid:I_++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:_p,get config(){return r.config},set config(l){},use(l,...f){return o.has(l)||(l&&B(l.install)?(o.add(l),l.install(u,...f)):B(l)&&(o.add(l),l(u,...f))),u},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),u},component(l,f){return f?(r.components[l]=f,u):r.components[l]},directive(l,f){return f?(r.directives[l]=f,u):r.directives[l]},mount(l,f,p){if(!a){const g=u._ceVNode||_e(n,i);return g.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),t(g,l,p),a=!0,u._container=l,l.__vue_app__=u,bi(g.component)}},onUnmount(l){c.push(l)},unmount(){a&&(nt(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return r.provides[l]=f,u},runWithContext(l){const f=ws;ws=u;try{return l()}finally{ws=f}}};return u}}let ws=null;function R_(t,e){if(Ue){let s=Ue.provides;const n=Ue.parent&&Ue.parent.provides;n===s&&(s=Ue.provides=Object.create(n)),s[t]=e}}function ui(t,e,s=!1){const n=Ra();if(n||ws){let i=ws?ws._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&B(e)?e.call(n&&n.proxy):e}}const ua={},fa=()=>Object.create(ua),da=t=>Object.getPrototypeOf(t)===ua;function L_(t,e,s,n=!1){const i={},r=fa();t.propsDefaults=Object.create(null),ha(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Hh(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function k_(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,c=Z(i),[a]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let p=l[f];if(fi(t.emitsOptions,p))continue;const g=e[p];if(a)if(J(r,p))g!==r[p]&&(r[p]=g,u=!0);else{const _=Mt(p);i[_]=Nr(a,c,_,g,t,!1)}else g!==r[p]&&(r[p]=g,u=!0)}}}else{ha(t,e,i,r)&&(u=!0);let l;for(const f in c)(!e||!J(e,f)&&((l=jt(f))===f||!J(e,l)))&&(a?s&&(s[f]!==void 0||s[l]!==void 0)&&(i[f]=Nr(a,c,f,void 0,t,!0)):delete i[f]);if(r!==c)for(const f in r)(!e||!J(e,f))&&(delete r[f],u=!0)}u&&Tt(t.attrs,"set","")}function ha(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,c;if(e)for(let a in e){if(qs(a))continue;const u=e[a];let l;i&&J(i,l=Mt(a))?!r||!r.includes(l)?s[l]=u:(c||(c={}))[l]=u:fi(t.emitsOptions,a)||(!(a in n)||u!==n[a])&&(n[a]=u,o=!0)}if(r){const a=Z(s),u=c||ne;for(let l=0;l<r.length;l++){const f=r[l];s[f]=Nr(i,a,f,u[f],t,!J(u,f))}}return o}function Nr(t,e,s,n,i,r){const o=t[s];if(o!=null){const c=J(o,"default");if(c&&n===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&B(a)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const l=cn(i);n=u[s]=a.call(null,e),l()}}else n=a;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!c?n=!1:o[1]&&(n===""||n===jt(s))&&(n=!0))}return n}const $_=new WeakMap;function _a(t,e,s=!1){const n=s?$_:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},c=[];let a=!1;if(!B(t)){const l=f=>{a=!0;const[p,g]=_a(f,e,!0);we(o,p),g&&c.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!r&&!a)return re(t)&&n.set(t,hs),hs;if(D(r))for(let l=0;l<r.length;l++){const f=Mt(r[l]);pa(f)&&(o[f]=ne)}else if(r)for(const l in r){const f=Mt(l);if(pa(f)){const p=r[l],g=o[f]=D(p)||B(p)?{type:p}:we({},p),_=g.type;let w=!1,T=!0;if(D(_))for(let $=0;$<_.length;++$){const M=_[$],F=B(M)&&M.name;if(F==="Boolean"){w=!0;break}else F==="String"&&(T=!1)}else w=B(_)&&_.name==="Boolean";g[0]=w,g[1]=T,(w||J(g,"default"))&&c.push(f)}}const u=[o,c];return re(t)&&n.set(t,u),u}function pa(t){return t[0]!=="$"&&!qs(t)}const Pr=t=>t==="_"||t==="_ctx"||t==="$stable",Ur=t=>D(t)?t.map(_t):[_t(t)],N_=(t,e,s)=>{if(e._n)return e;const n=Fc((...i)=>Ur(e(...i)),s);return n._c=!1,n},ma=(t,e,s)=>{const n=t._ctx;for(const i in t){if(Pr(i))continue;const r=t[i];if(B(r))e[i]=N_(i,r,n);else if(r!=null){const o=Ur(r);e[i]=()=>o}}},ga=(t,e)=>{const s=Ur(e);t.slots.default=()=>s},ba=(t,e,s)=>{for(const n in e)(s||!Pr(n))&&(t[n]=e[n])},P_=(t,e,s)=>{const n=t.slots=fa();if(t.vnode.shapeFlag&32){const i=e._;i?(ba(n,e,s),s&&cc(n,"_",i,!0)):ma(e,n)}else e&&ga(t,e)},U_=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=ne;if(n.shapeFlag&32){const c=e._;c?s&&c===1?r=!1:ba(i,e,s):(r=!e.$stable,ma(e,i)),o=e}else e&&(ga(t,e),o={default:1});if(r)for(const c in i)!Pr(c)&&o[c]==null&&delete i[c]},$e=Z_;function D_(t){return F_(t)}function F_(t,e){const s=zn();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:c,createComment:a,setText:u,setElementText:l,parentNode:f,nextSibling:p,setScopeId:g=lt,insertStaticContent:_}=t,w=(d,h,y,v=null,E=null,S=null,x=void 0,I=null,O=!!h.dynamicChildren)=>{if(d===h)return;d&&!ns(d,h)&&(v=sr(d),Ae(d,E,S,!0),d=null),h.patchFlag===-2&&(O=!1,h.dynamicChildren=null);const{type:A,ref:U,shapeFlag:R}=h;switch(A){case di:T(d,h,y,v);break;case Pe:$(d,h,y,v);break;case hi:d==null&&M(h,y,v,x);break;case Ne:k(d,h,y,v,E,S,x,I,O);break;default:R&1?z(d,h,y,v,E,S,x,I,O):R&6?X(d,h,y,v,E,S,x,I,O):(R&64||R&128)&&A.process(d,h,y,v,E,S,x,I,O,Un)}U!=null&&E?Js(U,d&&d.ref,S,h||d,!h):U==null&&d&&d.ref!=null&&Js(d.ref,null,S,d,!0)},T=(d,h,y,v)=>{if(d==null)n(h.el=c(h.children),y,v);else{const E=h.el=d.el;h.children!==d.children&&u(E,h.children)}},$=(d,h,y,v)=>{d==null?n(h.el=a(h.children||""),y,v):h.el=d.el},M=(d,h,y,v)=>{[d.el,d.anchor]=_(d.children,h,y,v,d.el,d.anchor)},F=({el:d,anchor:h},y,v)=>{let E;for(;d&&d!==h;)E=p(d),n(d,y,v),d=E;n(h,y,v)},L=({el:d,anchor:h})=>{let y;for(;d&&d!==h;)y=p(d),i(d),d=y;i(h)},z=(d,h,y,v,E,S,x,I,O)=>{h.type==="svg"?x="svg":h.type==="math"&&(x="mathml"),d==null?G(h,y,v,E,S,x,I,O):N(d,h,E,S,x,I,O)},G=(d,h,y,v,E,S,x,I)=>{let O,A;const{props:U,shapeFlag:R,transition:P,dirs:q}=d;if(O=d.el=o(d.type,S,U&&U.is,U),R&8?l(O,d.children):R&16&&ce(d.children,O,null,v,E,Dr(d,S),x,I),q&&ts(d,null,v,"created"),K(O,d,d.scopeId,x,v),U){for(const le in U)le!=="value"&&!qs(le)&&r(O,le,null,U[le],S,v);"value"in U&&r(O,"value",null,U.value,S),(A=U.onVnodeBeforeMount)&&pt(A,v,d)}q&&ts(d,null,v,"beforeMount");const Y=M_(E,P);Y&&P.beforeEnter(O),n(O,h,y),((A=U&&U.onVnodeMounted)||Y||q)&&$e(()=>{A&&pt(A,v,d),Y&&P.enter(O),q&&ts(d,null,v,"mounted")},E)},K=(d,h,y,v,E)=>{if(y&&g(d,y),v)for(let S=0;S<v.length;S++)g(d,v[S]);if(E){let S=E.subTree;if(h===S||Oa(S.type)&&(S.ssContent===h||S.ssFallback===h)){const x=E.vnode;K(d,x,x.scopeId,x.slotScopeIds,E.parent)}}},ce=(d,h,y,v,E,S,x,I,O=0)=>{for(let A=O;A<d.length;A++){const U=d[A]=I?Vt(d[A]):_t(d[A]);w(null,U,h,y,v,E,S,x,I)}},N=(d,h,y,v,E,S,x)=>{const I=h.el=d.el;let{patchFlag:O,dynamicChildren:A,dirs:U}=h;O|=d.patchFlag&16;const R=d.props||ne,P=h.props||ne;let q;if(y&&ss(y,!1),(q=P.onVnodeBeforeUpdate)&&pt(q,y,h,d),U&&ts(h,d,y,"beforeUpdate"),y&&ss(y,!0),(R.innerHTML&&P.innerHTML==null||R.textContent&&P.textContent==null)&&l(I,""),A?V(d.dynamicChildren,A,I,y,v,Dr(h,E),S):x||Q(d,h,I,null,y,v,Dr(h,E),S,!1),O>0){if(O&16)ee(I,R,P,y,E);else if(O&2&&R.class!==P.class&&r(I,"class",null,P.class,E),O&4&&r(I,"style",R.style,P.style,E),O&8){const Y=h.dynamicProps;for(let le=0;le<Y.length;le++){const se=Y[le],ze=R[se],He=P[se];(He!==ze||se==="value")&&r(I,se,ze,He,E,y)}}O&1&&d.children!==h.children&&l(I,h.children)}else!x&&A==null&&ee(I,R,P,y,E);((q=P.onVnodeUpdated)||U)&&$e(()=>{q&&pt(q,y,h,d),U&&ts(h,d,y,"updated")},v)},V=(d,h,y,v,E,S,x)=>{for(let I=0;I<h.length;I++){const O=d[I],A=h[I],U=O.el&&(O.type===Ne||!ns(O,A)||O.shapeFlag&198)?f(O.el):y;w(O,A,U,null,v,E,S,x,!0)}},ee=(d,h,y,v,E)=>{if(h!==y){if(h!==ne)for(const S in h)!qs(S)&&!(S in y)&&r(d,S,h[S],null,E,v);for(const S in y){if(qs(S))continue;const x=y[S],I=h[S];x!==I&&S!=="value"&&r(d,S,I,x,E,v)}"value"in y&&r(d,"value",h.value,y.value,E)}},k=(d,h,y,v,E,S,x,I,O)=>{const A=h.el=d?d.el:c(""),U=h.anchor=d?d.anchor:c("");let{patchFlag:R,dynamicChildren:P,slotScopeIds:q}=h;q&&(I=I?I.concat(q):q),d==null?(n(A,y,v),n(U,y,v),ce(h.children||[],y,U,E,S,x,I,O)):R>0&&R&64&&P&&d.dynamicChildren?(V(d.dynamicChildren,P,y,E,S,x,I),(h.key!=null||E&&h===E.subTree)&&Fr(d,h,!0)):Q(d,h,y,U,E,S,x,I,O)},X=(d,h,y,v,E,S,x,I,O)=>{h.slotScopeIds=I,d==null?h.shapeFlag&512?E.ctx.activate(h,y,v,x,O):de(h,y,v,E,S,x,O):tt(d,h,O)},de=(d,h,y,v,E,S,x)=>{const I=d.component=ip(d,v,E);if(oi(d)&&(I.ctx.renderer=Un),rp(I,!1,x),I.asyncDep){if(E&&E.registerDep(I,te,x),!d.el){const O=I.subTree=_e(Pe);$(null,O,h,y),d.placeholder=O.el}}else te(I,d,h,y,E,S,x)},tt=(d,h,y)=>{const v=h.component=d.component;if(K_(d,h,y))if(v.asyncDep&&!v.asyncResolved){ae(v,h,y);return}else v.next=h,v.update();else h.el=d.el,v.vnode=h},te=(d,h,y,v,E,S,x)=>{const I=()=>{if(d.isMounted){let{next:R,bu:P,u:q,parent:Y,vnode:le}=d;{const Et=ya(d);if(Et){R&&(R.el=le.el,ae(d,R,x)),Et.asyncDep.then(()=>{d.isUnmounted||I()});return}}let se=R,ze;ss(d,!1),R?(R.el=le.el,ae(d,R,x)):R=le,P&&Bn(P),(ze=R.props&&R.props.onVnodeBeforeUpdate)&&pt(ze,Y,R,le),ss(d,!0);const He=va(d),wt=d.subTree;d.subTree=He,w(wt,He,f(wt.el),sr(wt),d,E,S),R.el=He.el,se===null&&Y_(d,He.el),q&&$e(q,E),(ze=R.props&&R.props.onVnodeUpdated)&&$e(()=>pt(ze,Y,R,le),E)}else{let R;const{el:P,props:q}=h,{bm:Y,m:le,parent:se,root:ze,type:He}=d,wt=Xs(h);ss(d,!1),Y&&Bn(Y),!wt&&(R=q&&q.onVnodeBeforeMount)&&pt(R,se,h),ss(d,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(He);const Et=d.subTree=va(d);w(null,Et,y,v,d,E,S),h.el=Et.el}if(le&&$e(le,E),!wt&&(R=q&&q.onVnodeMounted)){const Et=h;$e(()=>pt(R,se,Et),E)}(h.shapeFlag&256||se&&Xs(se.vnode)&&se.vnode.shapeFlag&256)&&d.a&&$e(d.a,E),d.isMounted=!0,h=y=v=null}};d.scope.on();const O=d.effect=new dc(I);d.scope.off();const A=d.update=O.run.bind(O),U=d.job=O.runIfDirty.bind(O);U.i=d,U.id=d.uid,O.scheduler=()=>Or(U),ss(d,!0),A()},ae=(d,h,y)=>{h.component=d;const v=d.vnode.props;d.vnode=h,d.next=null,k_(d,h.props,v,y),U_(d,h.children,y),ft(),Nc(d),dt()},Q=(d,h,y,v,E,S,x,I,O=!1)=>{const A=d&&d.children,U=d?d.shapeFlag:0,R=h.children,{patchFlag:P,shapeFlag:q}=h;if(P>0){if(P&128){Fs(A,R,y,v,E,S,x,I,O);return}else if(P&256){yt(A,R,y,v,E,S,x,I,O);return}}q&8?(U&16&&Pn(A,E,S),R!==A&&l(y,R)):U&16?q&16?Fs(A,R,y,v,E,S,x,I,O):Pn(A,E,S,!0):(U&8&&l(y,""),q&16&&ce(R,y,v,E,S,x,I,O))},yt=(d,h,y,v,E,S,x,I,O)=>{d=d||hs,h=h||hs;const A=d.length,U=h.length,R=Math.min(A,U);let P;for(P=0;P<R;P++){const q=h[P]=O?Vt(h[P]):_t(h[P]);w(d[P],q,y,null,E,S,x,I,O)}A>U?Pn(d,E,S,!0,!1,R):ce(h,y,v,E,S,x,I,O,R)},Fs=(d,h,y,v,E,S,x,I,O)=>{let A=0;const U=h.length;let R=d.length-1,P=U-1;for(;A<=R&&A<=P;){const q=d[A],Y=h[A]=O?Vt(h[A]):_t(h[A]);if(ns(q,Y))w(q,Y,y,null,E,S,x,I,O);else break;A++}for(;A<=R&&A<=P;){const q=d[R],Y=h[P]=O?Vt(h[P]):_t(h[P]);if(ns(q,Y))w(q,Y,y,null,E,S,x,I,O);else break;R--,P--}if(A>R){if(A<=P){const q=P+1,Y=q<U?h[q].el:v;for(;A<=P;)w(null,h[A]=O?Vt(h[A]):_t(h[A]),y,Y,E,S,x,I,O),A++}}else if(A>P)for(;A<=R;)Ae(d[A],E,S,!0),A++;else{const q=A,Y=A,le=new Map;for(A=Y;A<=P;A++){const Qe=h[A]=O?Vt(h[A]):_t(h[A]);Qe.key!=null&&le.set(Qe.key,A)}let se,ze=0;const He=P-Y+1;let wt=!1,Et=0;const Dn=new Array(He);for(A=0;A<He;A++)Dn[A]=0;for(A=q;A<=R;A++){const Qe=d[A];if(ze>=He){Ae(Qe,E,S,!0);continue}let St;if(Qe.key!=null)St=le.get(Qe.key);else for(se=Y;se<=P;se++)if(Dn[se-Y]===0&&ns(Qe,h[se])){St=se;break}St===void 0?Ae(Qe,E,S,!0):(Dn[St-Y]=A+1,St>=Et?Et=St:wt=!0,w(Qe,h[St],y,null,E,S,x,I,O),ze++)}const uh=wt?j_(Dn):hs;for(se=uh.length-1,A=He-1;A>=0;A--){const Qe=Y+A,St=h[Qe],fh=h[Qe+1],dh=Qe+1<U?fh.el||fh.placeholder:v;Dn[A]===0?w(null,St,y,dh,E,S,x,I,O):wt&&(se<0||A!==uh[se]?Re(St,y,dh,2):se--)}}},Re=(d,h,y,v,E=null)=>{const{el:S,type:x,transition:I,children:O,shapeFlag:A}=d;if(A&6){Re(d.component.subTree,h,y,v);return}if(A&128){d.suspense.move(h,y,v);return}if(A&64){x.move(d,h,y,Un);return}if(x===Ne){n(S,h,y);for(let R=0;R<O.length;R++)Re(O[R],h,y,v);n(d.anchor,h,y);return}if(x===hi){F(d,h,y);return}if(v!==2&&A&1&&I)if(v===0)I.beforeEnter(S),n(S,h,y),$e(()=>I.enter(S),E);else{const{leave:R,delayLeave:P,afterLeave:q}=I,Y=()=>{d.ctx.isUnmounted?i(S):n(S,h,y)},le=()=>{S._isLeaving&&S[Ct](!0),R(S,()=>{Y(),q&&q()})};P?P(S,Y,le):le()}else n(S,h,y)},Ae=(d,h,y,v=!1,E=!1)=>{const{type:S,props:x,ref:I,children:O,dynamicChildren:A,shapeFlag:U,patchFlag:R,dirs:P,cacheIndex:q}=d;if(R===-2&&(E=!1),I!=null&&(ft(),Js(I,null,y,d,!0),dt()),q!=null&&(h.renderCache[q]=void 0),U&256){h.ctx.deactivate(d);return}const Y=U&1&&P,le=!Xs(d);let se;if(le&&(se=x&&x.onVnodeBeforeUnmount)&&pt(se,h,d),U&6)tr(d.component,y,v);else{if(U&128){d.suspense.unmount(y,v);return}Y&&ts(d,null,h,"beforeUnmount"),U&64?d.type.remove(d,h,y,Un,v):A&&!A.hasOnce&&(S!==Ne||R>0&&R&64)?Pn(A,h,y,!1,!0):(S===Ne&&R&384||!E&&U&16)&&Pn(O,h,y),v&&Ms(d)}(le&&(se=x&&x.onVnodeUnmounted)||Y)&&$e(()=>{se&&pt(se,h,d),Y&&ts(d,null,h,"unmounted")},y)},Ms=d=>{const{type:h,el:y,anchor:v,transition:E}=d;if(h===Ne){js(y,v);return}if(h===hi){L(d);return}const S=()=>{i(y),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(d.shapeFlag&1&&E&&!E.persisted){const{leave:x,delayLeave:I}=E,O=()=>x(y,S);I?I(d.el,S,O):O()}else S()},js=(d,h)=>{let y;for(;d!==h;)y=p(d),i(d),d=y;i(h)},tr=(d,h,y)=>{const{bum:v,scope:E,job:S,subTree:x,um:I,m:O,a:A}=d;wa(O),wa(A),v&&Bn(v),E.stop(),S&&(S.flags|=8,Ae(x,d,h,y)),I&&$e(I,h),$e(()=>{d.isUnmounted=!0},h)},Pn=(d,h,y,v=!1,E=!1,S=0)=>{for(let x=S;x<d.length;x++)Ae(d[x],h,y,v,E)},sr=d=>{if(d.shapeFlag&6)return sr(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=p(d.anchor||d.el),y=h&&h[jc];return y?p(y):h};let ec=!1;const lh=(d,h,y)=>{d==null?h._vnode&&Ae(h._vnode,null,null,!0):w(h._vnode||null,d,h,null,null,null,y),h._vnode=d,ec||(ec=!0,Nc(),Pc(),ec=!1)},Un={p:w,um:Ae,m:Re,r:Ms,mt:de,mc:ce,pc:Q,pbc:V,n:sr,o:t};return{render:lh,hydrate:void 0,createApp:x_(lh)}}function Dr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ss({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function M_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fr(t,e,s=!1){const n=t.children,i=e.children;if(D(n)&&D(i))for(let r=0;r<n.length;r++){const o=n[r];let c=i[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[r]=Vt(i[r]),c.el=o.el),!s&&c.patchFlag!==-2&&Fr(o,c)),c.type===di&&c.patchFlag!==-1&&(c.el=o.el),c.type===Pe&&!c.el&&(c.el=o.el)}}function j_(t){const e=t.slice(),s=[0];let n,i,r,o,c;const a=t.length;for(n=0;n<a;n++){const u=t[n];if(u!==0){if(i=s[s.length-1],t[i]<u){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)c=r+o>>1,t[s[c]]<u?r=c+1:o=c;u<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function ya(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ya(e)}function wa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const q_=Symbol.for("v-scx"),B_=()=>ui(q_);function Es(t,e,s){return Ea(t,e,s)}function Ea(t,e,s=ne){const{immediate:n,deep:i,flush:r,once:o}=s,c=we({},s),a=e&&n||!e&&r!=="post";let u;if(an){if(r==="sync"){const g=B_();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!a){const g=()=>{};return g.stop=lt,g.resume=lt,g.pause=lt,g}}const l=Ue;c.call=(g,_,w)=>nt(g,l,_,w);let f=!1;r==="post"?c.scheduler=g=>{$e(g,l&&l.suspense)}:r!=="sync"&&(f=!0,c.scheduler=(g,_)=>{_?g():Or(g)}),c.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,l&&(g.id=l.uid,g.i=l))};const p=Zh(t,e,c);return an&&(u?u.push(p):a&&p()),p}function z_(t,e,s){const n=this.proxy,i=he(t)?t.includes(".")?Sa(n,t):()=>n[t]:t.bind(n,n);let r;B(e)?r=e:(r=e.handler,s=e);const o=cn(this),c=Ea(i,r.bind(n),s);return o(),c}function Sa(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const H_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Mt(e)}Modifiers`]||t[`${jt(e)}Modifiers`];function V_(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ne;let i=s;const r=e.startsWith("update:"),o=r&&H_(n,e.slice(7));o&&(o.trim&&(i=s.map(l=>he(l)?l.trim():l)),o.number&&(i=s.map(ar)));let c,a=n[c=cr(e)]||n[c=cr(Mt(e))];!a&&r&&(a=n[c=cr(jt(e))]),a&&nt(a,t,6,i);const u=n[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,nt(u,t,6,i)}}const Q_=new WeakMap;function Ta(t,e,s=!1){const n=s?Q_:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},c=!1;if(!B(t)){const a=u=>{const l=Ta(u,e,!0);l&&(c=!0,we(o,l))};!s&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!c?(re(t)&&n.set(t,null),null):(D(r)?r.forEach(a=>o[a]=null):we(o,r),re(t)&&n.set(t,o),o)}function fi(t,e){return!t||!Mn(e)?!1:(e=e.slice(2).replace(/Once$/,""),J(t,e[0].toLowerCase()+e.slice(1))||J(t,jt(e))||J(t,e))}function YA(){}function va(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:c,emit:a,render:u,renderCache:l,props:f,data:p,setupState:g,ctx:_,inheritAttrs:w}=t,T=ti(t);let $,M;try{if(s.shapeFlag&4){const L=i||n,z=L;$=_t(u.call(z,L,l,f,g,p,_)),M=c}else{const L=e;$=_t(L.length>1?L(f,{attrs:c,slots:o,emit:a}):L(f,null)),M=e.props?c:W_(c)}}catch(L){rn.length=0,Xn(L,t,1),$=_e(Pe)}let F=$;if(M&&w!==!1){const L=Object.keys(M),{shapeFlag:z}=F;L.length&&z&7&&(r&&L.some(ir)&&(M=G_(M,r)),F=Ht(F,M,!1,!0))}return s.dirs&&(F=Ht(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(s.dirs):s.dirs),s.transition&&Zs(F,s.transition),$=F,ti(T),$}const W_=t=>{let e;for(const s in t)(s==="class"||s==="style"||Mn(s))&&((e||(e={}))[s]=t[s]);return e},G_=(t,e)=>{const s={};for(const n in t)(!ir(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function K_(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:c,patchFlag:a}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?Aa(n,o,u):!!o;if(a&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const p=l[f];if(o[p]!==n[p]&&!fi(u,p))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:n===o?!1:n?o?Aa(n,o,u):!0:!!o;return!1}function Aa(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!fi(s,r))return!0}return!1}function Y_({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Oa=t=>t.__isSuspense;function Z_(t,e){e&&e.pendingBranch?D(t)?e.effects.push(...t):e.effects.push(t):r_(t)}const Ne=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),Pe=Symbol.for("v-cmt"),hi=Symbol.for("v-stc"),rn=[];let Ve=null;function ie(t=!1){rn.push(Ve=t?null:[])}function J_(){rn.pop(),Ve=rn[rn.length-1]||null}let on=1;function _i(t,e=!1){on+=t,t<0&&Ve&&e&&(Ve.hasOnce=!0)}function Ca(t){return t.dynamicChildren=on>0?Ve||hs:null,J_(),on>0&&Ve&&Ve.push(t),t}function ue(t,e,s,n,i,r){return Ca(C(t,e,s,n,i,r,!0))}function Ia(t,e,s,n,i){return Ca(_e(t,e,s,n,i,!0))}function pi(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const xa=({key:t})=>t??null,mi=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?he(t)||Se(t)||B(t)?{i:Ge,r:t,k:e,f:!!s}:t:null);function C(t,e=null,s=null,n=0,i=null,r=t===Ne?0:1,o=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xa(e),ref:e&&mi(e),scopeId:Dc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ge};return c?(qr(a,s),r&128&&t.normalize(a)):s&&(a.shapeFlag|=he(s)?8:16),on>0&&!o&&Ve&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Ve.push(a),a}const _e=X_;function X_(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===E_)&&(t=Pe),pi(t)){const c=Ht(t,e,!0);return s&&qr(c,s),on>0&&!r&&Ve&&(c.shapeFlag&6?Ve[Ve.indexOf(t)]=c:Ve.push(c)),c.patchFlag=-2,c}if(dp(t)&&(t=t.__vccOpts),e){e=ep(e);let{class:c,style:a}=e;c&&!he(c)&&(e.class=Bs(c)),re(a)&&(Tr(a)&&!D(a)&&(a=we({},a)),e.style=lr(a))}const o=he(t)?1:Oa(t)?128:qc(t)?64:re(t)?4:B(t)?2:0;return C(t,e,s,n,i,o,r,!0)}function ep(t){return t?Tr(t)||da(t)?we({},t):t:null}function Ht(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:c,transition:a}=t,u=e?tp(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&xa(u),ref:e&&e.ref?s&&r?D(r)?r.concat(mi(e)):[r,mi(e)]:mi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ht(t.ssContent),ssFallback:t.ssFallback&&Ht(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&n&&Zs(l,a.clone(l)),l}function Mr(t=" ",e=0){return _e(di,null,t,e)}function jr(t,e){const s=_e(hi,null,t);return s.staticCount=e,s}function it(t="",e=!1){return e?(ie(),Ia(Pe,null,t)):_e(Pe,null,t)}function _t(t){return t==null||typeof t=="boolean"?_e(Pe):D(t)?_e(Ne,null,t.slice()):pi(t)?Vt(t):_e(di,null,String(t))}function Vt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ht(t)}function qr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(D(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),qr(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!da(e)?e._ctx=Ge:i===3&&Ge&&(Ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else B(e)?(e={default:e,_ctx:Ge},s=32):(e=String(e),n&64?(s=16,e=[Mr(e)]):s=8);t.children=e,t.shapeFlag|=s}function tp(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Bs([e.class,n.class]));else if(i==="style")e.style=lr([e.style,n.style]);else if(Mn(i)){const r=e[i],o=n[i];o&&r!==o&&!(D(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function pt(t,e,s,n=null){nt(t,e,7,[s,n])}const sp=la();let np=0;function ip(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||sp,r={uid:np++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_a(n,i),emitsOptions:Ta(n,i),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:n.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=V_.bind(null,r),t.ce&&t.ce(r),r}let Ue=null;const Ra=()=>Ue||Ge;let gi,Br;{const t=zn(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};gi=e("__VUE_INSTANCE_SETTERS__",s=>Ue=s),Br=e("__VUE_SSR_SETTERS__",s=>an=s)}const cn=t=>{const e=Ue;return gi(t),t.scope.on(),()=>{t.scope.off(),gi(e)}},La=()=>{Ue&&Ue.scope.off(),gi(null)};function ka(t){return t.vnode.shapeFlag&4}let an=!1;function rp(t,e=!1,s=!1){e&&Br(e);const{props:n,children:i}=t.vnode,r=ka(t);L_(t,n,r,e),P_(t,i,s||e);const o=r?op(t,e):void 0;return e&&Br(!1),o}function op(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,S_);const{setup:n}=s;if(n){ft();const i=t.setupContext=n.length>1?ap(t):null,r=cn(t),o=gs(n,t,0,[t.props,i]),c=nc(o);if(dt(),r(),(c||t.sp)&&!Xs(t)&&Xc(t),c){if(o.then(La,La),e)return o.then(a=>{$a(t,a)}).catch(a=>{Xn(a,t,0)});t.asyncDep=o}else $a(t,o)}else Na(t)}function $a(t,e,s){B(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:re(e)&&(t.setupState=Rc(e)),Na(t)}function Na(t,e,s){const n=t.type;t.render||(t.render=n.render||lt);{const i=cn(t);ft();try{T_(t)}finally{dt(),i()}}}const cp={get(t,e){return Oe(t,"get",""),t[e]}};function ap(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,cp),slots:t.slots,emit:t.emit,expose:e}}function bi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Rc(vr(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in sn)return sn[s](t)},has(e,s){return s in e||s in sn}})):t.proxy}const lp=/(?:^|[-_])\w/g,up=t=>t.replace(lp,e=>e.toUpperCase()).replace(/[-_]/g,"");function fp(t,e=!0){return B(t)?t.displayName||t.name:t.name||e&&t.__name}function Pa(t,e,s=!1){let n=fp(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&t&&t.parent){const i=r=>{for(const o in r)if(r[o]===e)return o};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?up(n):s?"App":"Anonymous"}function dp(t){return B(t)&&"__vccOpts"in t}const mt=(t,e)=>Kh(t,e,an);function hp(t,e,s){try{_i(-1);const n=arguments.length;return n===2?re(e)&&!D(e)?pi(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&pi(s)&&(s=[s]),_e(t,e,s))}finally{_i(1)}}const _p="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zr;const Ua=typeof window<"u"&&window.trustedTypes;if(Ua)try{zr=Ua.createPolicy("vue",{createHTML:t=>t})}catch{}const Da=zr?t=>zr.createHTML(t):t=>t,pp="http://www.w3.org/2000/svg",mp="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,Fa=xt&&xt.createElement("template"),gp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?xt.createElementNS(pp,t):e==="mathml"?xt.createElementNS(mp,t):s?xt.createElement(t,{is:s}):xt.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>xt.createTextNode(t),createComment:t=>xt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Fa.innerHTML=Da(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const c=Fa.content;if(n==="svg"||n==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}e.insertBefore(c,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Qt="transition",ln="animation",un=Symbol("_vtc"),Ma={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bp=we({},Wc,Ma),yp=(t=>(t.displayName="Transition",t.props=bp,t))((t,{slots:e})=>hp(u_,wp(t),e)),is=(t,e=[])=>{D(t)?t.forEach(s=>s(...e)):t&&t(...e)},ja=t=>t?D(t)?t.some(e=>e.length>1):t.length>1:!1;function wp(t){const e={};for(const k in t)k in Ma||(e[k]=t[k]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:c=`${s}-enter-to`,appearFromClass:a=r,appearActiveClass:u=o,appearToClass:l=c,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,_=Ep(i),w=_&&_[0],T=_&&_[1],{onBeforeEnter:$,onEnter:M,onEnterCancelled:F,onLeave:L,onLeaveCancelled:z,onBeforeAppear:G=$,onAppear:K=M,onAppearCancelled:ce=F}=e,N=(k,X,de,tt)=>{k._enterCancelled=tt,rs(k,X?l:c),rs(k,X?u:o),de&&de()},V=(k,X)=>{k._isLeaving=!1,rs(k,f),rs(k,g),rs(k,p),X&&X()},ee=k=>(X,de)=>{const tt=k?K:M,te=()=>N(X,k,de);is(tt,[X,te]),qa(()=>{rs(X,k?a:r),Rt(X,k?l:c),ja(tt)||Ba(X,n,w,te)})};return we(e,{onBeforeEnter(k){is($,[k]),Rt(k,r),Rt(k,o)},onBeforeAppear(k){is(G,[k]),Rt(k,a),Rt(k,u)},onEnter:ee(!1),onAppear:ee(!0),onLeave(k,X){k._isLeaving=!0;const de=()=>V(k,X);Rt(k,f),k._enterCancelled?(Rt(k,p),Va(k)):(Va(k),Rt(k,p)),qa(()=>{k._isLeaving&&(rs(k,f),Rt(k,g),ja(L)||Ba(k,n,T,de))}),is(L,[k,de])},onEnterCancelled(k){N(k,!1,void 0,!0),is(F,[k])},onAppearCancelled(k){N(k,!0,void 0,!0),is(ce,[k])},onLeaveCancelled(k){V(k),is(z,[k])}})}function Ep(t){if(t==null)return null;if(re(t))return[Hr(t.enter),Hr(t.leave)];{const e=Hr(t);return[e,e]}}function Hr(t){return bh(t)}function Rt(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[un]||(t[un]=new Set)).add(e)}function rs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[un];s&&(s.delete(e),s.size||(t[un]=void 0))}function qa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sp=0;function Ba(t,e,s,n){const i=t._endId=++Sp,r=()=>{i===t._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:o,timeout:c,propCount:a}=Tp(t,e);if(!o)return n();const u=o+"end";let l=0;const f=()=>{t.removeEventListener(u,p),r()},p=g=>{g.target===t&&++l>=a&&f()};setTimeout(()=>{l<a&&f()},c+1),t.addEventListener(u,p)}function Tp(t,e){const s=window.getComputedStyle(t),n=_=>(s[_]||"").split(", "),i=n(`${Qt}Delay`),r=n(`${Qt}Duration`),o=za(i,r),c=n(`${ln}Delay`),a=n(`${ln}Duration`),u=za(c,a);let l=null,f=0,p=0;e===Qt?o>0&&(l=Qt,f=o,p=r.length):e===ln?u>0&&(l=ln,f=u,p=a.length):(f=Math.max(o,u),l=f>0?o>u?Qt:ln:null,p=l?l===Qt?r.length:a.length:0);const g=l===Qt&&/\b(?:transform|all)(?:,|$)/.test(n(`${Qt}Property`).toString());return{type:l,timeout:f,propCount:p,hasTransform:g}}function za(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Ha(s)+Ha(t[n])))}function Ha(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Va(t){return(t?t.ownerDocument:document).body.offsetHeight}function vp(t,e,s){const n=t[un];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const yi=Symbol("_vod"),Qa=Symbol("_vsh"),Ap={name:"show",beforeMount(t,{value:e},{transition:s}){t[yi]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):fn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),fn(t,!0),n.enter(t)):n.leave(t,()=>{fn(t,!1)}):fn(t,e))},beforeUnmount(t,{value:e}){fn(t,e)}};function fn(t,e){t.style.display=e?t[yi]:"none",t[Qa]=!e}const Op=Symbol(""),Cp=/(?:^|;)\s*display\s*:/;function Ip(t,e,s){const n=t.style,i=he(s);let r=!1;if(s&&!i){if(e)if(he(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();s[c]==null&&wi(n,c,"")}else for(const o in e)s[o]==null&&wi(n,o,"");for(const o in s)o==="display"&&(r=!0),wi(n,o,s[o])}else if(i){if(e!==s){const o=n[Op];o&&(s+=";"+o),n.cssText=s,r=Cp.test(s)}}else e&&t.removeAttribute("style");yi in t&&(t[yi]=r?n.display:"",t[Qa]&&(n.display="none"))}const Wa=/\s*!important$/;function wi(t,e,s){if(D(s))s.forEach(n=>wi(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=xp(t,e);Wa.test(s)?t.setProperty(jt(n),s.replace(Wa,""),"important"):t[n]=s}}const Ga=["Webkit","Moz","ms"],Vr={};function xp(t,e){const s=Vr[e];if(s)return s;let n=Mt(e);if(n!=="filter"&&n in t)return Vr[e]=n;n=oc(n);for(let i=0;i<Ga.length;i++){const r=Ga[i]+n;if(r in t)return Vr[e]=r}return e}const Ka="http://www.w3.org/1999/xlink";function Ya(t,e,s,n,i,r=Th(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ka,e.slice(6,e.length)):t.setAttributeNS(Ka,e,s):s==null||r&&!lc(s)?t.removeAttribute(e):t.setAttribute(e,r?"":Ft(s)?String(s):s)}function Za(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Da(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?t.type==="checkbox"?"on":"":String(s);(c!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=lc(s):s==null&&c==="string"?(s="",o=!0):c==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function Ss(t,e,s,n){t.addEventListener(e,s,n)}function Rp(t,e,s,n){t.removeEventListener(e,s,n)}const Ja=Symbol("_vei");function Lp(t,e,s,n,i=null){const r=t[Ja]||(t[Ja]={}),o=r[e];if(n&&o)o.value=n;else{const[c,a]=kp(e);if(n){const u=r[e]=Pp(n,i);Ss(t,c,u,a)}else o&&(Rp(t,c,o,a),r[e]=void 0)}}const Xa=/(?:Once|Passive|Capture)$/;function kp(t){let e;if(Xa.test(t)){e={};let n;for(;n=t.match(Xa);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jt(t.slice(2)),e]}let Qr=0;const $p=Promise.resolve(),Np=()=>Qr||($p.then(()=>Qr=0),Qr=Date.now());function Pp(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;nt(Up(n,s.value),e,5,[n])};return s.value=t,s.attached=Np(),s}function Up(t,e){if(D(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const el=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Dp=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?vp(t,n,o):e==="style"?Ip(t,s,n):Mn(e)?ir(e)||Lp(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Fp(t,e,n,o))?(Za(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ya(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!he(n))?Za(t,Mt(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Ya(t,e,n,o))};function Fp(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&el(e)&&B(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return el(e)&&he(s)?!1:e in t}const tl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return D(e)?s=>Bn(e,s):e};function Mp(t){t.target.composing=!0}function sl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Wr=Symbol("_assign"),jp={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[Wr]=tl(i);const r=n||i.props&&i.props.type==="number";Ss(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;s&&(c=c.trim()),r&&(c=ar(c)),t[Wr](c)}),s&&Ss(t,"change",()=>{t.value=t.value.trim()}),e||(Ss(t,"compositionstart",Mp),Ss(t,"compositionend",sl),Ss(t,"change",sl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(t[Wr]=tl(o),t.composing)return;const c=(r||t.type==="number")&&!/^0\d/.test(t.value)?ar(t.value):t.value,a=e??"";c!==a&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===a)||(t.value=a))}},qp=["ctrl","shift","alt","meta"],Bp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>qp.some(s=>t[`${s}Key`]&&!e.includes(s))},zp=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((i,...r)=>{for(let o=0;o<e.length;o++){const c=Bp[e[o]];if(c&&c(i,e))return}return t(i,...r)}))},Hp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vp=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(i=>{if(!("key"in i))return;const r=jt(i.key);if(e.some(o=>o===r||Hp[o]===r))return t(i)}))},Qp=we({patchProp:Dp},gp);let nl;function Wp(){return nl||(nl=D_(Qp))}const Gp=((...t)=>{const e=Wp().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=Yp(n);if(!i)return;const r=e._component;!B(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,Kp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Kp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yp(t){return he(t)?document.querySelector(t):t}const Lt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},Zp={},Jp={class:"mi-header"};function Xp(t,e){return ie(),ue("div",Jp,[...e[0]||(e[0]=[jr('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none" data-v-96a976e4><path d="M14.3594 13.6406L22.9756 16.5127L14.3594 19.3848L11.4873 28L8.61621 19.3848L0 16.5127L8.61621 13.6406L11.4873 5.02539L14.3594 13.6406ZM22.6152 5.38477L28 7.17969L22.6152 8.97461L20.8203 14.3594L19.0254 8.97461L13.6406 7.17969L19.0254 5.38477L20.8203 0L22.6152 5.38477Z" fill="url(#paint0_linear_1_4156)" data-v-96a976e4></path><defs data-v-96a976e4><linearGradient id="paint0_linear_1_4156" x1="17.2308" y1="20.8205" x2="7.17949" y2="4.30769" gradientUnits="userSpaceOnUse" data-v-96a976e4><stop stop-color="#303FC8" data-v-96a976e4></stop><stop offset="1" stop-color="#0F1864" data-v-96a976e4></stop></linearGradient></defs></svg><h1 class="mi-header-title" data-v-96a976e4>Investopedia Answers</h1>',2)])])}const em=Lt(Zp,[["render",Xp],["__scopeId","data-v-96a976e4"]]),tm=["onDesktopSponsoredPlaceholderReady","onMobileSponsoredPlaceholderReady"],il={...{onDesktopSponsoredPlaceholderReady:(t,e,s)=>{},onMobileSponsoredPlaceholderReady:(t,e)=>{}}},rl=t=>{!t||typeof t!="object"||tm.forEach(e=>{t[e]&&typeof t[e]=="function"&&(il[e]=t[e])})},ol=()=>il;function cl(t,e){return function(){return t.apply(e,arguments)}}const{toString:sm}=Object.prototype,{getPrototypeOf:Gr}=Object,{iterator:Ei,toStringTag:al}=Symbol,Si=(t=>e=>{const s=sm.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),rt=t=>(t=t.toLowerCase(),e=>Si(e)===t),Ti=t=>e=>typeof e===t,{isArray:Ts}=Array,vs=Ti("undefined");function dn(t){return t!==null&&!vs(t)&&t.constructor!==null&&!vs(t.constructor)&&Me(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ll=rt("ArrayBuffer");function nm(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ll(t.buffer),e}const im=Ti("string"),Me=Ti("function"),ul=Ti("number"),hn=t=>t!==null&&typeof t=="object",rm=t=>t===!0||t===!1,vi=t=>{if(Si(t)!=="object")return!1;const e=Gr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(al in t)&&!(Ei in t)},om=t=>{if(!hn(t)||dn(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cm=rt("Date"),am=rt("File"),lm=rt("Blob"),um=rt("FileList"),fm=t=>hn(t)&&Me(t.pipe),dm=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Me(t.append)&&((e=Si(t))==="formdata"||e==="object"&&Me(t.toString)&&t.toString()==="[object FormData]"))},hm=rt("URLSearchParams"),[_m,pm,mm,gm]=["ReadableStream","Request","Response","Headers"].map(rt),bm=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _n(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ts(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(dn(t))return;const r=s?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let c;for(n=0;n<o;n++)c=r[n],e.call(null,t[c],c,t)}}function fl(t,e){if(dn(t))return null;e=e.toLowerCase();const s=Object.keys(t);let n=s.length,i;for(;n-- >0;)if(i=s[n],e===i.toLowerCase())return i;return null}const os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dl=t=>!vs(t)&&t!==os;function Kr(){const{caseless:t,skipUndefined:e}=dl(this)&&this||{},s={},n=(i,r)=>{const o=t&&fl(s,r)||r;vi(s[o])&&vi(i)?s[o]=Kr(s[o],i):vi(i)?s[o]=Kr({},i):Ts(i)?s[o]=i.slice():(!e||!vs(i))&&(s[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&_n(arguments[i],n);return s}const ym=(t,e,s,{allOwnKeys:n}={})=>(_n(e,(i,r)=>{s&&Me(i)?t[r]=cl(i,s):t[r]=i},{allOwnKeys:n}),t),wm=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Em=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Sm=(t,e,s,n)=>{let i,r,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=s!==!1&&Gr(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Tm=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},vm=t=>{if(!t)return null;if(Ts(t))return t;let e=t.length;if(!ul(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Am=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Gr(Uint8Array)),Om=(t,e)=>{const n=(t&&t[Ei]).call(t);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},Cm=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},Im=rt("HTMLFormElement"),xm=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),hl=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Rm=rt("RegExp"),_l=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};_n(s,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(n[r]=o||i)}),Object.defineProperties(t,n)},Lm=t=>{_l(t,(e,s)=>{if(Me(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(Me(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},km=(t,e)=>{const s={},n=i=>{i.forEach(r=>{s[r]=!0})};return Ts(t)?n(t):n(String(t).split(e)),s},$m=()=>{},Nm=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Pm(t){return!!(t&&Me(t.append)&&t[al]==="FormData"&&t[Ei])}const Um=t=>{const e=new Array(10),s=(n,i)=>{if(hn(n)){if(e.indexOf(n)>=0)return;if(dn(n))return n;if(!("toJSON"in n)){e[i]=n;const r=Ts(n)?[]:{};return _n(n,(o,c)=>{const a=s(o,i+1);!vs(a)&&(r[c]=a)}),e[i]=void 0,r}}return n};return s(t,0)},Dm=rt("AsyncFunction"),Fm=t=>t&&(hn(t)||Me(t))&&Me(t.then)&&Me(t.catch),pl=((t,e)=>t?setImmediate:e?((s,n)=>(os.addEventListener("message",({source:i,data:r})=>{i===os&&r===s&&n.length&&n.shift()()},!1),i=>{n.push(i),os.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Me(os.postMessage)),Mm=typeof queueMicrotask<"u"?queueMicrotask.bind(os):typeof process<"u"&&process.nextTick||pl,m={isArray:Ts,isArrayBuffer:ll,isBuffer:dn,isFormData:dm,isArrayBufferView:nm,isString:im,isNumber:ul,isBoolean:rm,isObject:hn,isPlainObject:vi,isEmptyObject:om,isReadableStream:_m,isRequest:pm,isResponse:mm,isHeaders:gm,isUndefined:vs,isDate:cm,isFile:am,isBlob:lm,isRegExp:Rm,isFunction:Me,isStream:fm,isURLSearchParams:hm,isTypedArray:Am,isFileList:um,forEach:_n,merge:Kr,extend:ym,trim:bm,stripBOM:wm,inherits:Em,toFlatObject:Sm,kindOf:Si,kindOfTest:rt,endsWith:Tm,toArray:vm,forEachEntry:Om,matchAll:Cm,isHTMLForm:Im,hasOwnProperty:hl,hasOwnProp:hl,reduceDescriptors:_l,freezeMethods:Lm,toObjectSet:km,toCamelCase:xm,noop:$m,toFiniteNumber:Nm,findKey:fl,global:os,isContextDefined:dl,isSpecCompliantForm:Pm,toJSONObject:Um,isAsyncFn:Dm,isThenable:Fm,setImmediate:pl,asap:Mm,isIterable:t=>t!=null&&Me(t[Ei])};function H(t,e,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}m.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const ml=H.prototype,gl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gl[t]={value:t}}),Object.defineProperties(H,gl),Object.defineProperty(ml,"isAxiosError",{value:!0}),H.from=(t,e,s,n,i,r)=>{const o=Object.create(ml);m.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const c=t&&t.message?t.message:"Error",a=e==null&&t?t.code:e;return H.call(o,c,a,s,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const jm=null;function Yr(t){return m.isPlainObject(t)||m.isArray(t)}function bl(t){return m.endsWith(t,"[]")?t.slice(0,-2):t}function yl(t,e,s){return t?t.concat(e).map(function(i,r){return i=bl(i),!s&&r?"["+i+"]":i}).join(s?".":""):e}function qm(t){return m.isArray(t)&&!t.some(Yr)}const Bm=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function Ai(t,e,s){if(!m.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=m.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,T){return!m.isUndefined(T[w])});const n=s.metaTokens,i=s.visitor||l,r=s.dots,o=s.indexes,a=(s.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(e);if(!m.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(m.isDate(_))return _.toISOString();if(m.isBoolean(_))return _.toString();if(!a&&m.isBlob(_))throw new H("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(_)||m.isTypedArray(_)?a&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function l(_,w,T){let $=_;if(_&&!T&&typeof _=="object"){if(m.endsWith(w,"{}"))w=n?w:w.slice(0,-2),_=JSON.stringify(_);else if(m.isArray(_)&&qm(_)||(m.isFileList(_)||m.endsWith(w,"[]"))&&($=m.toArray(_)))return w=bl(w),$.forEach(function(F,L){!(m.isUndefined(F)||F===null)&&e.append(o===!0?yl([w],L,r):o===null?w:w+"[]",u(F))}),!1}return Yr(_)?!0:(e.append(yl(T,w,r),u(_)),!1)}const f=[],p=Object.assign(Bm,{defaultVisitor:l,convertValue:u,isVisitable:Yr});function g(_,w){if(!m.isUndefined(_)){if(f.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(_),m.forEach(_,function($,M){(!(m.isUndefined($)||$===null)&&i.call(e,$,m.isString(M)?M.trim():M,w,p))===!0&&g($,w?w.concat(M):[M])}),f.pop()}}if(!m.isObject(t))throw new TypeError("data must be an object");return g(t),e}function wl(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zr(t,e){this._pairs=[],t&&Ai(t,this,e)}const El=Zr.prototype;El.append=function(e,s){this._pairs.push([e,s])},El.toString=function(e){const s=e?function(n){return e.call(this,n,wl)}:wl;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function zm(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sl(t,e,s){if(!e)return t;const n=s&&s.encode||zm;m.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let r;if(i?r=i(e,s):r=m.isURLSearchParams(e)?e.toString():new Zr(e,s).toString(n),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Tl{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){m.forEach(this.handlers,function(n){n!==null&&e(n)})}}const vl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hm={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Zr,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Jr=typeof window<"u"&&typeof document<"u",Xr=typeof navigator=="object"&&navigator||void 0,Vm=Jr&&(!Xr||["ReactNative","NativeScript","NS"].indexOf(Xr.product)<0),Qm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wm=Jr&&window.location.href||"http://localhost",Ce={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jr,hasStandardBrowserEnv:Vm,hasStandardBrowserWebWorkerEnv:Qm,navigator:Xr,origin:Wm},Symbol.toStringTag,{value:"Module"})),...Hm};function Gm(t,e){return Ai(t,new Ce.classes.URLSearchParams,{visitor:function(s,n,i,r){return Ce.isNode&&m.isBuffer(s)?(this.append(n,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function Km(t){return m.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ym(t){const e={},s=Object.keys(t);let n;const i=s.length;let r;for(n=0;n<i;n++)r=s[n],e[r]=t[r];return e}function Al(t){function e(s,n,i,r){let o=s[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),a=r>=s.length;return o=!o&&m.isArray(i)?i.length:o,a?(m.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!m.isObject(i[o]))&&(i[o]=[]),e(s,n,i[o],r)&&m.isArray(i[o])&&(i[o]=Ym(i[o])),!c)}if(m.isFormData(t)&&m.isFunction(t.entries)){const s={};return m.forEachEntry(t,(n,i)=>{e(Km(n),i,s,0)}),s}return null}function Zm(t,e,s){if(m.isString(t))try{return(e||JSON.parse)(t),m.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const pn={transitional:vl,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,r=m.isObject(e);if(r&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return i?JSON.stringify(Al(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gm(e,this.formSerializer).toString();if((c=m.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Ai(c?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||i?(s.setContentType("application/json",!1),Zm(e)):e}],transformResponse:[function(e){const s=this.transitional||pn.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?H.from(c,H.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],t=>{pn.headers[t]={}});const Jm=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xm=t=>{const e={};let s,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||e[s]&&Jm[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},Ol=Symbol("internals");function mn(t){return t&&String(t).trim().toLowerCase()}function Oi(t){return t===!1||t==null?t:m.isArray(t)?t.map(Oi):String(t)}function eg(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const tg=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function eo(t,e,s,n,i){if(m.isFunction(n))return n.call(this,e,s);if(i&&(e=s),!!m.isString(e)){if(m.isString(n))return e.indexOf(n)!==-1;if(m.isRegExp(n))return n.test(e)}}function sg(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function ng(t,e){const s=m.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(i,r,o){return this[n].call(this,e,i,r,o)},configurable:!0})})}let je=class{constructor(e){e&&this.set(e)}set(e,s,n){const i=this;function r(c,a,u){const l=mn(a);if(!l)throw new Error("header name must be a non-empty string");const f=m.findKey(i,l);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||a]=Oi(c))}const o=(c,a)=>m.forEach(c,(u,l)=>r(u,l,a));if(m.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(m.isString(e)&&(e=e.trim())&&!tg(e))o(Xm(e),s);else if(m.isObject(e)&&m.isIterable(e)){let c={},a,u;for(const l of e){if(!m.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[u=l[0]]=(a=c[u])?m.isArray(a)?[...a,l[1]]:[a,l[1]]:l[1]}o(c,s)}else e!=null&&r(s,e,n);return this}get(e,s){if(e=mn(e),e){const n=m.findKey(this,e);if(n){const i=this[n];if(!s)return i;if(s===!0)return eg(i);if(m.isFunction(s))return s.call(this,i,n);if(m.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=mn(e),e){const n=m.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||eo(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let i=!1;function r(o){if(o=mn(o),o){const c=m.findKey(n,o);c&&(!s||eo(n,n[c],c,s))&&(delete n[c],i=!0)}}return m.isArray(e)?e.forEach(r):r(e),i}clear(e){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const r=s[n];(!e||eo(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const s=this,n={};return m.forEach(this,(i,r)=>{const o=m.findKey(n,r);if(o){s[o]=Oi(i),delete s[r];return}const c=e?sg(r):String(r).trim();c!==r&&delete s[r],s[c]=Oi(i),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return m.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=e&&m.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Ol]=this[Ol]={accessors:{}}).accessors,i=this.prototype;function r(o){const c=mn(o);n[c]||(ng(i,o),n[c]=!0)}return m.isArray(e)?e.forEach(r):r(e),this}};je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),m.reduceDescriptors(je.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}}),m.freezeMethods(je);function to(t,e){const s=this||pn,n=e||s,i=je.from(n.headers);let r=n.data;return m.forEach(t,function(c){r=c.call(s,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function Cl(t){return!!(t&&t.__CANCEL__)}function As(t,e,s){H.call(this,t??"canceled",H.ERR_CANCELED,e,s),this.name="CanceledError"}m.inherits(As,H,{__CANCEL__:!0});function Il(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new H("Request failed with status code "+s.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function ig(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rg(t,e){t=t||10;const s=new Array(t),n=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),l=n[r];o||(o=u),s[i]=a,n[i]=u;let f=r,p=0;for(;f!==i;)p+=s[f++],f=f%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),u-o<e)return;const g=l&&u-l;return g?Math.round(p*1e3/g):void 0}}function og(t,e){let s=0,n=1e3/e,i,r;const o=(u,l=Date.now())=>{s=l,i=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const l=Date.now(),f=l-s;f>=n?o(u,l):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},n-f)))},()=>i&&o(i)]}const Ci=(t,e,s=3)=>{let n=0;const i=rg(50,250);return og(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,a=o-n,u=i(a),l=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:a,rate:u||void 0,estimated:u&&c&&l?(c-o)/u:void 0,event:r,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},s)},xl=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},Rl=t=>(...e)=>m.asap(()=>t(...e)),cg=Ce.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Ce.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Ce.origin),Ce.navigator&&/(msie|trident)/i.test(Ce.navigator.userAgent)):()=>!0,ag=Ce.hasStandardBrowserEnv?{write(t,e,s,n,i,r,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];m.isNumber(s)&&c.push(`expires=${new Date(s).toUTCString()}`),m.isString(n)&&c.push(`path=${n}`),m.isString(i)&&c.push(`domain=${i}`),r===!0&&c.push("secure"),m.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lg(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ug(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ll(t,e,s){let n=!lg(e);return t&&(n||s==!1)?ug(t,e):e}const kl=t=>t instanceof je?{...t}:t;function cs(t,e){e=e||{};const s={};function n(u,l,f,p){return m.isPlainObject(u)&&m.isPlainObject(l)?m.merge.call({caseless:p},u,l):m.isPlainObject(l)?m.merge({},l):m.isArray(l)?l.slice():l}function i(u,l,f,p){if(m.isUndefined(l)){if(!m.isUndefined(u))return n(void 0,u,f,p)}else return n(u,l,f,p)}function r(u,l){if(!m.isUndefined(l))return n(void 0,l)}function o(u,l){if(m.isUndefined(l)){if(!m.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function c(u,l,f){if(f in e)return n(u,l);if(f in t)return n(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l,f)=>i(kl(u),kl(l),f,!0)};return m.forEach(Object.keys({...t,...e}),function(l){const f=a[l]||i,p=f(t[l],e[l],l);m.isUndefined(p)&&f!==c||(s[l]=p)}),s}const $l=t=>{const e=cs({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:c}=e;if(e.headers=o=je.from(o),e.url=Sl(Ll(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),m.isFormData(s)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(m.isFunction(s.getHeaders)){const a=s.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([l,f])=>{u.includes(l.toLowerCase())&&o.set(l,f)})}}if(Ce.hasStandardBrowserEnv&&(n&&m.isFunction(n)&&(n=n(e)),n||n!==!1&&cg(e.url))){const a=i&&r&&ag.read(r);a&&o.set(i,a)}return e},fg=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(s,n){const i=$l(t);let r=i.data;const o=je.from(i.headers).normalize();let{responseType:c,onUploadProgress:a,onDownloadProgress:u}=i,l,f,p,g,_;function w(){g&&g(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function $(){if(!T)return;const F=je.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:F,config:t,request:T};Il(function(K){s(K),w()},function(K){n(K),w()},z),T=null}"onloadend"in T?T.onloadend=$:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout($)},T.onabort=function(){T&&(n(new H("Request aborted",H.ECONNABORTED,t,T)),T=null)},T.onerror=function(L){const z=L&&L.message?L.message:"Network Error",G=new H(z,H.ERR_NETWORK,t,T);G.event=L||null,n(G),T=null},T.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||vl;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),n(new H(L,z.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,t,T)),T=null},r===void 0&&o.setContentType(null),"setRequestHeader"in T&&m.forEach(o.toJSON(),function(L,z){T.setRequestHeader(z,L)}),m.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),c&&c!=="json"&&(T.responseType=i.responseType),u&&([p,_]=Ci(u,!0),T.addEventListener("progress",p)),a&&T.upload&&([f,g]=Ci(a),T.upload.addEventListener("progress",f),T.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(l=F=>{T&&(n(!F||F.type?new As(null,t,T):F),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const M=ig(i.url);if(M&&Ce.protocols.indexOf(M)===-1){n(new H("Unsupported protocol "+M+":",H.ERR_BAD_REQUEST,t));return}T.send(r||null)})},dg=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,i;const r=function(u){if(!i){i=!0,c();const l=u instanceof Error?u:this.reason;n.abort(l instanceof H?l:new As(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,r(new H(`timeout ${e} of ms exceeded`,H.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=()=>m.asap(c),a}},hg=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,i;for(;n<s;)i=n+e,yield t.slice(n,i),n=i},_g=async function*(t,e){for await(const s of pg(t))yield*hg(s,e)},pg=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},Nl=(t,e,s,n)=>{const i=_g(t,e);let r=0,o,c=a=>{o||(o=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:u,value:l}=await i.next();if(u){c(),a.close();return}let f=l.byteLength;if(s){let p=r+=f;s(p)}a.enqueue(new Uint8Array(l))}catch(u){throw c(u),u}},cancel(a){return c(a),i.return()}},{highWaterMark:2})},Pl=64*1024,{isFunction:Ii}=m,mg=(({Request:t,Response:e})=>({Request:t,Response:e}))(m.global),{ReadableStream:Ul,TextEncoder:Dl}=m.global,Fl=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gg=t=>{t=m.merge.call({skipUndefined:!0},mg,t);const{fetch:e,Request:s,Response:n}=t,i=e?Ii(e):typeof fetch=="function",r=Ii(s),o=Ii(n);if(!i)return!1;const c=i&&Ii(Ul),a=i&&(typeof Dl=="function"?(_=>w=>_.encode(w))(new Dl):async _=>new Uint8Array(await new s(_).arrayBuffer())),u=r&&c&&Fl(()=>{let _=!1;const w=new s(Ce.origin,{body:new Ul,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!w}),l=o&&c&&Fl(()=>m.isReadableStream(new n("").body)),f={stream:l&&(_=>_.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!f[_]&&(f[_]=(w,T)=>{let $=w&&w[_];if($)return $.call(w);throw new H(`Response type '${_}' is not supported`,H.ERR_NOT_SUPPORT,T)})});const p=async _=>{if(_==null)return 0;if(m.isBlob(_))return _.size;if(m.isSpecCompliantForm(_))return(await new s(Ce.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(m.isArrayBufferView(_)||m.isArrayBuffer(_))return _.byteLength;if(m.isURLSearchParams(_)&&(_=_+""),m.isString(_))return(await a(_)).byteLength},g=async(_,w)=>{const T=m.toFiniteNumber(_.getContentLength());return T??p(w)};return async _=>{let{url:w,method:T,data:$,signal:M,cancelToken:F,timeout:L,onDownloadProgress:z,onUploadProgress:G,responseType:K,headers:ce,withCredentials:N="same-origin",fetchOptions:V}=$l(_),ee=e||fetch;K=K?(K+"").toLowerCase():"text";let k=dg([M,F&&F.toAbortSignal()],L),X=null;const de=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let tt;try{if(G&&u&&T!=="get"&&T!=="head"&&(tt=await g(ce,$))!==0){let Re=new s(w,{method:"POST",body:$,duplex:"half"}),Ae;if(m.isFormData($)&&(Ae=Re.headers.get("content-type"))&&ce.setContentType(Ae),Re.body){const[Ms,js]=xl(tt,Ci(Rl(G)));$=Nl(Re.body,Pl,Ms,js)}}m.isString(N)||(N=N?"include":"omit");const te=r&&"credentials"in s.prototype,ae={...V,signal:k,method:T.toUpperCase(),headers:ce.normalize().toJSON(),body:$,duplex:"half",credentials:te?N:void 0};X=r&&new s(w,ae);let Q=await(r?ee(X,V):ee(w,ae));const yt=l&&(K==="stream"||K==="response");if(l&&(z||yt&&de)){const Re={};["status","statusText","headers"].forEach(tr=>{Re[tr]=Q[tr]});const Ae=m.toFiniteNumber(Q.headers.get("content-length")),[Ms,js]=z&&xl(Ae,Ci(Rl(z),!0))||[];Q=new n(Nl(Q.body,Pl,Ms,()=>{js&&js(),de&&de()}),Re)}K=K||"text";let Fs=await f[m.findKey(f,K)||"text"](Q,_);return!yt&&de&&de(),await new Promise((Re,Ae)=>{Il(Re,Ae,{data:Fs,headers:je.from(Q.headers),status:Q.status,statusText:Q.statusText,config:_,request:X})})}catch(te){throw de&&de(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,_,X),{cause:te.cause||te}):H.from(te,te&&te.code,_,X)}}},bg=new Map,Ml=t=>{let e=t&&t.env||{};const{fetch:s,Request:n,Response:i}=e,r=[n,i,s];let o=r.length,c=o,a,u,l=bg;for(;c--;)a=r[c],u=l.get(a),u===void 0&&l.set(a,u=c?new Map:gg(e)),l=u;return u};Ml();const so={http:jm,xhr:fg,fetch:{get:Ml}};m.forEach(so,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jl=t=>`- ${t}`,yg=t=>m.isFunction(t)||t===null||t===!1;function wg(t,e){t=m.isArray(t)?t:[t];const{length:s}=t;let n,i;const r={};for(let o=0;o<s;o++){n=t[o];let c;if(i=n,!yg(n)&&(i=so[(c=String(n)).toLowerCase()],i===void 0))throw new H(`Unknown adapter '${c}'`);if(i&&(m.isFunction(i)||(i=i.get(e))))break;r[c||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=s?o.length>1?`since :
`+o.map(jl).join(`
`):" "+jl(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const ql={getAdapter:wg,adapters:so};function no(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new As(null,t)}function Bl(t){return no(t),t.headers=je.from(t.headers),t.data=to.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ql.getAdapter(t.adapter||pn.adapter,t)(t).then(function(n){return no(t),n.data=to.call(t,t.transformResponse,n),n.headers=je.from(n.headers),n},function(n){return Cl(n)||(no(t),n&&n.response&&(n.response.data=to.call(t,t.transformResponse,n.response),n.response.headers=je.from(n.response.headers))),Promise.reject(n)})}const zl="1.13.2",xi={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xi[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Hl={};xi.transitional=function(e,s,n){function i(r,o){return"[Axios v"+zl+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,c)=>{if(e===!1)throw new H(i(o," has been removed"+(s?" in "+s:"")),H.ERR_DEPRECATED);return s&&!Hl[o]&&(Hl[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(r,o,c):!0}},xi.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Eg(t,e,s){if(typeof t!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const r=n[i],o=e[r];if(o){const c=t[r],a=c===void 0||o(c,r,t);if(a!==!0)throw new H("option "+r+" must be "+a,H.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new H("Unknown option "+r,H.ERR_BAD_OPTION)}}const Ri={assertOptions:Eg,validators:xi},gt=Ri.validators;let as=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Tl,response:new Tl}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=cs(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:r}=s;n!==void 0&&Ri.assertOptions(n,{silentJSONParsing:gt.transitional(gt.boolean),forcedJSONParsing:gt.transitional(gt.boolean),clarifyTimeoutError:gt.transitional(gt.boolean)},!1),i!=null&&(m.isFunction(i)?s.paramsSerializer={serialize:i}:Ri.assertOptions(i,{encode:gt.function,serialize:gt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ri.assertOptions(s,{baseUrl:gt.spelling("baseURL"),withXsrfToken:gt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=r&&m.merge(r.common,r[s.method]);r&&m.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),s.headers=je.concat(o,r);const c=[];let a=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(a=a&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let l,f=0,p;if(!a){const _=[Bl.bind(this),void 0];for(_.unshift(...c),_.push(...u),p=_.length,l=Promise.resolve(s);f<p;)l=l.then(_[f++],_[f++]);return l}p=c.length;let g=s;for(;f<p;){const _=c[f++],w=c[f++];try{g=_(g)}catch(T){w.call(this,T);break}}try{l=Bl.call(this,g)}catch(_){return Promise.reject(_)}for(f=0,p=u.length;f<p;)l=l.then(u[f++],u[f++]);return l}getUri(e){e=cs(this.defaults,e);const s=Ll(e.baseURL,e.url,e.allowAbsoluteUrls);return Sl(s,e.params,e.paramsSerializer)}};m.forEach(["delete","get","head","options"],function(e){as.prototype[e]=function(s,n){return this.request(cs(n||{},{method:e,url:s,data:(n||{}).data}))}}),m.forEach(["post","put","patch"],function(e){function s(n){return function(r,o,c){return this.request(cs(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}as.prototype[e]=s(),as.prototype[e+"Form"]=s(!0)});let Sg=class hh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(c=>{n.subscribe(c),r=c}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,c){n.reason||(n.reason=new As(r,o,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new hh(function(i){e=i}),cancel:e}}};function Tg(t){return function(s){return t.apply(null,s)}}function vg(t){return m.isObject(t)&&t.isAxiosError===!0}const io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(io).forEach(([t,e])=>{io[e]=t});function Vl(t){const e=new as(t),s=cl(as.prototype.request,e);return m.extend(s,as.prototype,e,{allOwnKeys:!0}),m.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return Vl(cs(t,i))},s}const me=Vl(pn);me.Axios=as,me.CanceledError=As,me.CancelToken=Sg,me.isCancel=Cl,me.VERSION=zl,me.toFormData=Ai,me.AxiosError=H,me.Cancel=me.CanceledError,me.all=function(e){return Promise.all(e)},me.spread=Tg,me.isAxiosError=vg,me.mergeConfig=cs,me.AxiosHeaders=je,me.formToJSON=t=>Al(m.isHTMLForm(t)?new FormData(t):t),me.getAdapter=ql.getAdapter,me.HttpStatusCode=io,me.default=me;const{Axios:rO,AxiosError:oO,CanceledError:cO,isCancel:aO,CancelToken:lO,VERSION:uO,all:fO,Cancel:dO,isAxiosError:hO,spread:_O,toFormData:pO,AxiosHeaders:mO,HttpStatusCode:gO,formToJSON:bO,getAdapter:yO,mergeConfig:wO}=me,Ql="oB6D6G5TNRmMlOatuPHxKAsWXatp5YBm32dJ2Oy6",Ag="MisoCustomScript",ro="miso-answer-page",Wl=me.create({baseURL:"https://api-edge.askmiso.com/v1",headers:{"Content-Type":"application/json"},params:{api_key:Ql}}),Og=async t=>(await Wl.post("/ask/questions",t)).data,Cg=async t=>(await Wl.get(`/ask/questions/${t}/answer`)).data,Gl="1.12.7";function Ig(){return new AbortController().signal}function xg(...t){const e=t.length;if(e===0)return Ig();if(e===1)return t[0];const s=new AbortController;for(const n of t)if(!(!n||!n.addEventListener)){if(n.aborted)return AbortSignal.abort(n.reason);n.addEventListener("abort",()=>s.abort(n.reason))}return s.signal}const Te=Object.freeze({ASK:"ask",SEARCH:"search",RECOMMENDATION:"recommendation",INTERACTIONS:"interactions"}),Ye=Object.freeze({QUESTIONS:"questions",RELATED_QUESTIONS:"related_questions",TRENDING_QUESTIONS:"trending_questions",SEARCH:"search",AUTOCOMPLETE:"autocomplete",SEARCH_AUTOCOMPLETE:"search_autocomplete",MGET:"mget",USER_TO_PRODUCTS:"user_to_products",USER_TO_CATEGORIES:"user_to_categories",USER_TO_ATTRIBUTES:"user_to_attributes",USER_TO_TRENDING:"user_to_trending",USER_TO_HISTORY:"user_to_history",PRODUCT_TO_PRODUCTS:"product_to_products",UPLOAD:"upload"}),gn=Object.freeze(Object.defineProperty({__proto__:null,GROUP:Te,NAME:Ye},Symbol.toStringTag,{value:"Module"}));function oo(t,e){if(!t)return;const s=t.indexOf(e);s>-1&&t.splice(s,1)}function Rg(t,e){if(!t)return;const s=t.findIndex(e);s>-1&&t.splice(s,1)}function ls(t){return Array.isArray(t)?t:t===void 0?[]:[t]}function W(t){if(typeof t!="object")return t;const e={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&t[s]!==void 0&&(e[s]=t[s]);return e}function Li(t){return t==null}function Lg(t,e,s){if(t.has(e))return t.get(e);const n=s(e);return t.set(e,n),n}function Wt(t,e,s){s=typeof s=="string"?[s]:s,Object.defineProperties(t,s.reduce((n,i)=>(n[i]={get:()=>{const r=e[i];return typeof r=="function"?r.bind(e):r}},n),{}))}function kg(t,e,s){s=typeof s=="string"?[s]:s,Object.defineProperties(t,s.reduce((n,i)=>(n[i]={get:()=>e[i],set:r=>{e[i]=r}},n),{}))}function fe(t,e){for(const s in e)e.hasOwnProperty(s)&&Object.defineProperty(t,s,{value:e[s]})}function $g(t,e){const s=Symbol.for(e);Object.defineProperty(t,s,{value:!0}),Object.defineProperty(t,"isTypeOf",{value:n=>n&&n instanceof t||typeof n.constructor=="function"&&n.constructor[s]===!0})}function Kl(t){return t.replace(/-([a-z])/g,e=>e[1].toUpperCase())}function Yl(t){return t.replace(/[-_][a-z]/g,e=>e[1].toUpperCase())}function Zl(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Ng(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function Pg(t){return t.replaceAll("-","_")}function Ug(t){return t.replace(/[-_]([a-zA-Z])/g,(e,s)=>` ${s}`)}class Jl{constructor(e,{duration:s=0,onDuration:n,offDuration:i,state:r}={}){if(typeof e!="function")throw new Error(`Callback must be a function: ${e}`);this._callback=e,Object.defineProperty(this,"durations",{value:Object.freeze({on:n!==void 0?n:s,off:i!==void 0?i:s})}),this._value=this._state=!!r,this._active=!0}get active(){return this._active}get state(){return this._state}get value(){return this._value}set value(e){if(e=!!e,this._value===e)return;Dg(this);const s=this.durations[e?"on":"off"];s?this._timeout=setTimeout(()=>Xl(this,e),s):Xl(this,e),this._value=e}disconnect(){this._active=!1}}function Dg(t){t._timeout&&(clearTimeout(t._timeout),t._timeout=void 0)}function Xl(t,e){t._state!==e&&(t._state=e,t._active&&t._callback(e))}function Fg(t){return typeof t=="string"?document.querySelector(t):t}function co(t,e,{root:s=t.ownerDocument}={}){for(;t&&t!==s;t=t.parentElement){const n=e(t);if(n!==void 0)return n}}function Mg(t){const{tagName:e}=t;customElements.define(e,t);for(const s of document.querySelectorAll(e))customElements.upgrade(s)}async function ki(t){return new Promise((e,s)=>{window.requestAnimationFrame(async n=>{try{await t(n),e()}catch(i){s(i)}})})}async function ao(t,{area:e=.5,duration:s=1e3,signal:n}={}){return t=Fg(t),new Promise((i,r)=>{const o=new Jl(a=>{a&&(o.disconnect(),c.disconnect(),i())},{onDuration:s}),c=new IntersectionObserver(a=>{o.value=a[0].isIntersecting},{threshold:e});c.observe(t),n&&n.addEventListener&&n.addEventListener("abort",()=>{o.disconnect(),c.disconnect(),r(new DOMException("Aborted","AbortError"))})})}async function jg(){document.readyState==="loading"&&await new Promise(t=>{document.addEventListener("DOMContentLoaded",t,{once:!0})})}function ot(t){return t=`${t}`,t&&t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function bn(){return qg()||Bg()||zg()}function qg(){return crypto&&crypto.randomUUID?crypto.randomUUID():void 0}function Bg(){if(!URL||!URL.createObjectURL||URL.revokeObjectURL||!Blob)return;const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substring(e.lastIndexOf("/")+1)}function zg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function Hg(t,e){const s=$i(()=>window.localStorage.getItem(t)),n=$i(()=>Vg(t)),i=s||n||`${e()}`;return i&&!s&&$i(()=>window.localStorage.setItem(t,i)),i&&!n&&$i(()=>Qg(t,i)),i}function Vg(t){const e=`; ${document.cookie}`,s=`; ${encodeURIComponent(t)}=`,n=e.indexOf(s);if(n<0)return;const i=n+s.length,r=e.indexOf(";",i);return decodeURIComponent(r<0?e.substring(i):e.substring(i,r))}function Qg(t,e){document.cookie=`${encodeURIComponent(t)}=${encodeURIComponent(e)}; max-age=31536000; path=/`}function $i(t){try{return t()}catch(e){if(!Wg(e))throw e}}function Wg(t){return t.name==="SecurityError"}function Gg(t,e,s){return t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(e)+"="+encodeURIComponent(`${s}`)}function Ni(t){return new Kg(t)}class Kg{constructor(e){this._value=e;const s=n=>{this._value=n};fe(this,{set:s,args:(...n)=>s(n),t:()=>s(!0),f:()=>s(!1),merge:n=>s({...this._value,...n})})}get value(){return this._value}}class kt{constructor(){const e=this;e.promise=new Promise((s,n)=>{e.resolve=s,e.reject=n}),Object.freeze(this)}}class Yg{constructor(){this._index=-1,this._done=!1,this._aborted=!1,this._abortReason=void 0,this._error=void 0}get aborted(){return this._aborted}get abortReason(){return this._abortReason}get done(){return this._done}update(e,s=!1){this._done||(this._value=e,this._done=s,this._index++,this._resolution&&(this._resolution.resolve(),this._resolution=void 0))}error(e){this._error=e,this._resolution&&(this._resolution.reject(e),this._resolution=void 0)}abort(e){this._aborted=!0,this._abortReason=e,this._resolution&&(e instanceof Error?this._resolution.reject(e):this._resolution.resolve(),this._resolution=void 0)}async*[Symbol.asyncIterator](){let e=0;for(;;){if(this._error)throw this._error;if(this._aborted||(e>this._index&&(this._resolution||(this._resolution=new kt),await this._resolution.promise),this._aborted))break;const s=this._done,n=this._index+1;if(yield this._value,this._aborted||s)break;e=n}}}function Zg(t,{interval:e=1e3,errorLimit:s=10,onError:n,onResponse:i,signal:r}={}){if(r&&r.aborted)return[];let o=0,c,a=!1,u;function l(){c&&clearInterval(c),a=!0}const f=new Yg;return c=setInterval(async()=>{let p,g,_;try{if([p,g,_]=await t(r?{signal:r}:{}),a||!Li(u)&&_<=u)return;Li(_)||(u=_),i&&i(p,g,_),o=0}catch(w){n&&n(w),o++,o>s&&(l(),f.error(w));return}f.update(p,g),g&&l()},e),r&&r.addEventListener&&r.addEventListener("abort",()=>{l(),f.abort(r.reason)}),f}function Jg(t,{onError:e=n=>console.error(n),transform:s=n=>n}={}){try{s(t)()}catch(n){e(n)}}function eu(t,e){const s=window[t]||(window[t]=[]);if(s._processed)return;s._processed=!0;const n=i=>Jg(i,e);Object.defineProperty(s,"push",{value:n});for(const i of s)n(i)}const Xg="1.12.7";let eb;try{eb=document.currentScript}catch{}async function tu(t){try{let e=tb(t);return e||(e=document.createElement("link"),e.rel="stylesheet",e.href=t,document.head.appendChild(e)),sb(e)}catch(e){console.error(e)}}function su(t){return`https://cdn.jsdelivr.net/npm/@miso.ai/client-sdk@${Xg}/dist/css/${t}.css`}function tb(t){return document.head.querySelector(`link[href="${t}"]`)}async function sb(t){await nb(t),await ib(t)}async function nb(t){if(!t.sheet)return new Promise((e,s)=>{let n;t.onerror=()=>{n&&clearInterval(n),s()},n=setInterval(()=>{t.sheet&&(n&&clearInterval(n),e())},100)})}async function ib(t){if(!nu(t))return new Promise(e=>{let s;s=setInterval(()=>{nu(t)&&(s&&clearInterval(s),e())},100)})}function nu(t){for(const e of document.styleSheets)if(e.ownerNode===t)return!0;return!1}function iu(t){let e;return s=>{e&&clearTimeout(e),e=setTimeout(()=>{e=void 0,s()},t)}}function ru(t,{depth:e=5,...s}={}){return lo(t,e)}function lo(t,e,s){if(e<=0)return"(...)";switch(typeof t){case"object":if(t)return t.length!==void 0?Array.prototype.map.call(t,n=>lo(n,e-1)):t instanceof Node?ob(t):rb(t,e);default:return t}}function rb(t,e,s){const n={};if(e<=0)return n;for(const i in t){const r=t[i];typeof r!="function"&&(i.startsWith("_")&&typeof r=="object"&&r.constructor.name!=="Object"||(n[i]=lo(r,e-1)))}return n}function ob(t){return t instanceof Element?`<${t.tagName.toLowerCase()}${t.id?` id="${t.id}"`:""}${t.className?` class="${t.className}"`:""}>`:`[TextNode](${t.length})`}function yn(t,e){const s=Object.getOwnPropertyDescriptors(e),n=Object.getOwnPropertyDescriptors(t);for(const[i,r]of Object.entries(s))i!=="constructor"&&n[i]===void 0&&Object.defineProperty(t,i,r)}function Pi(t){const e={},s=new Set;for(let n=t;n!==Object.prototype;n=Object.getPrototypeOf(n)){const i=Object.getOwnPropertyDescriptors(n);for(const r in i){if(r==="constructor"||r.startsWith("_")||s.has(r))continue;s.add(r);const{value:o}=i[r];o&&(e[r]=typeof o=="function"?o.bind(t):o)}}return Object.freeze(e)}function Ui(t={},e={}){const s=t.metadata||e.metadata?W({...t.metadata,...e.metadata}):void 0,n=t._meta||e._meta?W({...t._meta,...e._meta}):void 0;return W({...t,...e,metadata:s,_meta:n})}function Ze(t={},e={}){const s=t.context&&t.context.custom_context||e.context&&e.context.custom_context?W({...t.context&&t.context.custom_context,...e.context&&e.context.custom_context}):void 0,n=t.context||e.context?W({...t.context,...e.context,custom_context:s}):void 0;return W({...t,...e,context:n})}const cb=100,ab=4;function lb(t){const e=ub(t);return(s,n,i,r)=>{const o=e(i,n);return s+Math.max(r-i,0)*o/1e3}}function ub({speed:t=cb,acceleration:e=ab}={}){if(typeof t=="function")return t;if(typeof t!="number")throw new Error(`Invalid speed: ${t}`);if(typeof e!="number")throw new Error(`Invalid acceleration: ${e}`);return(s,n)=>{let i=t*(Math.random()+.5);return e>0&&n!==void 0&&s>n&&(i*=1+(s-n)*e/1e3),i}}const uo=Symbol.for("miso:resources");class fb{constructor(){this._resources=new Map;const e=window[uo]||[];for(const s of e)try{const[n,i]=s;this.push([n,i])}catch{}}push([e,s]){ou(this._resources,e).resolve(s)}async get(e){return ou(this._resources,e).promise}}function ou(t,e){if(t.has(e))return t.get(e);const s=new kt;return t.set(e,s),s}function db(){return window[uo]||(window[uo]=new fb)}class hb{constructor(e,s){this._dispatchRequested=!1,this._requests=[],this._run=e,this._error=s||(n=>console.error(n)),this._bulkId=0,this._dispatch=this._dispatch.bind(this)}get info(){return{bulkId:this._bulkId,index:this._requests.length}}async run(e){const s=new kt;return this._requests.push({action:e,resolution:s}),this._requestDispatch(),s.promise}_requestDispatch(){this._dispatchRequested||(this._dispatchRequested=!0,setTimeout(this._dispatch))}_dispatch(){if(!this._dispatchRequested)return;this._dispatchRequested=!1;const e=this._requests,s=this._bulkId++;this._requests=[];try{this._run(e,{bulkId:s})}catch(n){this._error(n)}}}class Os{constructor({target:e,error:s,replays:n=[]}={}){if(this._error=s||(i=>console.error(i)),!Array.isArray(n))throw new Error(`Replays option must be an array of strings: ${n}`);this._replays=new Set(n),this._namedCallbacks={},this._unnamedCallbacks=[],this._pastEvents={},e&&this._injectSubscribeInterface(e)}emit(e,s){const n={data:s,meta:{name:e,ts:Date.now()}},i=this._namedCallbacks[e];if(i)for(const r of i)r(n);for(const r of this._unnamedCallbacks)r(n);this._shallStoreForReplay(e)&&(this._pastEvents[e]||(this._pastEvents[e]=[])).push(n)}on(e,s){return this._checkName(e),this._checkCallback(s),this._on(e,this._wrapCallback(s))}once(e){this._checkName(e);const s=this;return new Promise((n,i)=>{const r=s._on(e,o=>{setTimeout(()=>r());try{n(o)}catch(c){i(c)}})})}clear(){this._namedCallbacks={},this._unnamedCallbacks=[],this._pastEvents={}}_checkName(e){if(typeof e!="string")throw new Error(`Event name should be a string: ${e}`)}_checkCallback(e){if(typeof e!="function")throw new Error(`Event callback should be a function: ${e}`)}_shallStoreForReplay(e){return this._replays.has(e)}_wrapCallback(e){const s=this;return({data:n,meta:i})=>{try{e(n,i)}catch(r){s._error(r)}}}_on(e,s){if(e==="*"?this._unnamedCallbacks.push(s):(this._namedCallbacks[e]||(this._namedCallbacks[e]=[])).push(s),e==="*")for(const n in this._pastEvents)this._pastEvents[n].forEach(s);else this._pastEvents[e]&&this._pastEvents[e].forEach(s);return()=>this._off(e,s)}_off(e,s){if(e==="*")oo(this._unnamedCallbacks,s);else{const n=this._namedCallbacks[e];n&&oo(n,s)}}_injectSubscribeInterface(e){Wt(e,this,["on","once"])}}function _b(t,e){if(t!==void 0&&typeof t!="string"&&e===void 0&&(e=t,t=void 0),t!==void 0&&(typeof t!="string"||!t))throw new Error(`Invalid Component name: "${t}"`);return Object.freeze({name:t,parent:e,path:pb(t,e),uuid:bn()})}function pb(t,e){return Object.freeze([...e&&e.meta&&e.meta.path||[],...t?[t]:[]])}class qe{constructor(e,s){const n=_b(e,s);fe(this,{meta:n});const i=this._error=this._error.bind(this);this._events=new Os({target:this,error:i,replays:["child"]}),this._warn=this._warn.bind(this),s=n.parent,s&&s._events&&s._events.emit("child",this)}_warn(...e){const s=this.meta.parent;(s&&s._warn||console.warn)(...e)}_error(...e){const s=this.meta.parent;(s&&s._error||console.error)(...e)}}$g(qe,"miso:component");class cu extends qe{constructor(e,s,{libName:n,keyName:i}={}){switch(super(e,s),this._events._replays.add("register"),this._libraries={},this._libResolutions={},this._libName=n,typeof i){case"string":this._keyFn=(r=>r[i]);break;case"function":this._keyFn=i;break;default:throw new Error(`Expect keyName to be a string or a function: ${i}`)}}isRegistered(e){return this._checkKey(e),!!this._libraries[e]}get registered(){return Object.values(this._libraries)}async whenRegistered(e){if(this.isRegistered(e))return this._libraries[e];const{promise:s}=this._libResolutions[e]||(this._libResolutions[e]=new kt);return s}register(...e){for(const s of e)this._register(s)}_checkKey(e){if(typeof e!="string"||!e)throw new Error(`Expect key to be a non-empty string: ${e}`)}_checkLib(e){if(typeof e!="function")throw new Error(`Expect lib to be a class or function: ${e}`)}_register(e){this._checkLib(e);const s=this._keyFn(e);this._checkKey(s);const n=this._libraries||(this._libraries={});n[s],n[s]=e,this._libResolutions[s]&&this._libResolutions[s].resolve(e),this._events.emit("register",e)}}class mb{constructor(e,s){this._callback=e,this._options=s||{},s!==!1&&(this._intersection=new IntersectionObserver(this._handleIntersection.bind(this),{threshold:s.area||.5}),this._continuity=new Jl(this._handleContinuity.bind(this),{onDuration:s.duration||1e3})),this._displayed=void 0,this._intersecting=!1,this._triggered=new Set}observe(e){this._options!==!1&&this._intersection.observe(e)}unobserve(e){this._options!==!1&&this._intersection.unobserve(e)}display(e){this._options!==!1&&(this._triggered.has(e)&&(e=void 0),this._displayed!==e&&(this._displayed=e,this._continuity.value=!1,this._syncContinuity()))}disconnect(){this._options!==!1&&(this._continuity.disconnect(),this._intersection.disconnect())}get triggeredCount(){return this._triggered.size}get triggered(){return new Set(this._triggered)}_syncContinuity(){this._continuity.value=this._intersecting&&this._displayed!==void 0}_handleIntersection(e){this._intersecting=e[0].isIntersecting,this._syncContinuity()}_handleContinuity(e){const s=this._displayed;if(e&&s!==void 0){if(this._triggered.has(s))return;this._triggered.add(s),this._displayed=void 0,this._callback(s)}}}class gb{constructor(e){this._ac=new AbortController,this._timeout=e,this.touch()}clear(){this._timeoutId!==void 0&&(clearTimeout(this._timeoutId),this._timeoutId=void 0)}touch(){this.clear(),this._timeoutId=setTimeout(()=>this.abort(),this._timeout)}get signal(){return this._ac.signal}abort(e){this.clear(),this._ac.abort(e||new Error(`Stall timeout: data stay unchanged for ${this._timeout/1e3} seconds.`))}}const au=Object.freeze({DATA_ENDPOINT:"https://api-edge.askmiso.com/v1",EVENT_ENDPOINT:"https://api.askmiso.com/v1"});class lu{constructor(e,s){this._client=e,this._root=s,this._bulk=new hb(this._runBulkFetch.bind(this),e._error.bind(e))}async fetch(e,s,{method:n="POST",headers:i,timeout:r}={}){const{apiKey:o,request:c={}}=this._client.options;r=r||c.timeout;const a=n!=="GET"&&s!=null?JSON.stringify(s):void 0,u=r?AbortSignal.timeout(r):void 0,l=await(this._root._customFetch||window.fetch)(e,W({method:n,headers:i,body:a,cache:"no-cache",mode:"cors",signal:u})),f=await l.json();if(l.status>=400||f.errors){var p=new Error(f.message);throw p.data=f,p.status=l.status,p}return f}get bulkInfo(){return this._bulk.info}async fetchForBulk(e,s,n,{method:i}={}){if(i&&i!=="POST")throw new Error(`Non-POST API is not supported in bulk mode: ${url}`);return this._bulk.run({apiGroup:e,apiName:s,payload:n})}async _runBulkFetch(e){const s=this.url(["bulk"]),n={requests:e.map(({action:{apiGroup:r,apiName:o,payload:c}})=>({api_name:`${r}/${o}`,body:c}))},{data:i}=await this.fetch(s,n);for(let r=0,o=e.length;r<o;r++){const{resolution:c}=e[r],{error:a,status_code:u,body:l}=i[r];u>=400||a?c.reject({status_code:u,body:l}):c.resolve(l)}}sendBeacon(e,s,{method:n}={}){if(n&&n!=="POST")throw new Error(`Non-POST API is not supported in useBeacon mode: ${e}`);if(!(this._root._customSendBeacon?this._root._customSendBeacon(e,JSON.stringify(s)):window.navigator.sendBeacon(e,JSON.stringify(s))))throw new Error(`Send beacon unsuccessful: ${e}`)}url(e){const{apiKey:s}=this._client.options,n=e.filter(r=>r).join("/");return`${`${this.getApiEndpoint(n)}/${n}`}?api_key=${window.encodeURIComponent(s)}`}getApiEndpoint(e){const{dataEndpoint:s=au.DATA_ENDPOINT,eventEndpoint:n=au.EVENT_ENDPOINT}=this._client.options;return e==="interactions"?n:s}applyUrlPasses(e,{apiGroup:s,apiName:n,url:i}){const r=this._client;for(const o of this._root._urlPasses)try{i=o({client:r,apiGroup:s,apiName:n,url:i})||i}catch(c){(e._error||console.error)(c)}return i}applyPayloadPasses(e,{apiGroup:s,apiName:n,payload:i}){const r=this._client;for(const o of this._root._payloadPasses)try{i=o({client:r,apiGroup:s,apiName:n,payload:i})||i}catch(c){(e._error||console.error)(c)}return i}applyHeaderPasses(e,{apiGroup:s,apiName:n,payload:i,headers:r,options:o}){const c=this._client;for(const a of this._root._headersPasses)try{r=a({client:c,apiGroup:s,apiName:n,payload:i,headers:r,options:o})||r}catch(u){(e._error||console.error)(u)}return r}}class wn extends qe{constructor(e,s){super(s,e),this._apiPath=s,this.helpers=e.helpers,this.clientOptions=e._client.options,this.context=e._client.context}async _run(e,s,n={}){const{bulk:i}=n,r=i?{bulk:this.helpers.bulkInfo}:void 0,o=this._apiPath,c=this._url({apiGroup:o,apiName:e,payload:s,options:n}),a=this._headers({apiGroup:o,apiName:e,payload:s,options:n});s=this._preprocess({apiGroup:o,apiName:e,payload:s,options:n});const u={apiGroup:o,apiName:e,payload:s,url:c,headers:a,options:n};this._events.emit("request",{...u,...r});const l=await this._send(u),f={...u,response:l};return this._events.emit("response",{...f,...r}),this._postprocess(f)}_headers({apiGroup:e,apiName:s,payload:n,options:i}){return this.helpers.applyHeaderPasses(this,{apiGroup:e,apiName:s,payload:n,headers:{},options:i})}_preprocess({apiGroup:e,apiName:s,payload:n,options:i}){return this.helpers.applyPayloadPasses(this,{apiGroup:e,apiName:s,payload:n,options:i})}_url({apiGroup:e,apiName:s,options:n}){const i=this.helpers.url([e,s],n);return this.helpers.applyUrlPasses(this,{apiGroup:e,apiName:s,url:i,options:n})}async _send({apiGroup:e,apiName:s,url:n,headers:i,payload:r,options:{bulk:o,...c}={}}){return o?this.helpers.fetchForBulk(e,s,r):this.helpers.fetch(n,r,{...c,headers:i})}_postprocess({response:e}){return e.data}}const{GROUP:bb,NAME:uu}=gn;class fu extends wn{constructor(e){super(e,bb.INTERACTIONS)}async upload(e,s){try{return await this._run(uu.UPLOAD,e,s)}catch(n){if(n.status===400&&n.message&&n.message.toLowerCase().indexOf("playground")>-1)this._warn("Ignore interactions uploaded to playground app.");else throw n}}_url({apiGroup:e,apiName:s,options:n}){const i=this.helpers.url([this._apiPath],n);return this.helpers.applyUrlPasses(this,{apiGroup:e,apiName:s,url:i,options:n})}_preprocess({apiGroup:e,apiName:s,payload:n}){return s===uu.UPLOAD&&(n=this._normalizeUploadPayload(n)),super._preprocess({apiGroup:e,apiName:s,payload:n})}_normalizeUploadPayload(e){if(typeof e!="object")throw new Error(`Interactions payload has to be either an object or an array of objects: ${e}`);return Array.isArray(e)||(e=[e]),{data:e}}async _send({options:{useBeacon:e=!0,...s}={},...n}){if(e){const{url:i,payload:r}=n;return this.helpers.sendBeacon(i,r,s),{}}else return super._send({...n,options:s})}}class yb{constructor(e={}){this._ac=new AbortController,this._options=e}async get(e){return this._get({...this._options,...e})}_get(e){throw new Error("Not implemented")}abort(e){this._ac.abort(e)}[Symbol.asyncIterator](){const e=async({signal:u}={})=>{const l=await this.get();return[l,this._isFinished(l),this._revisionOf(l)]};let{pollingInterval:s,signal:n,stallTimeout:i=12e4,...r}=this._options;const o=new gb(i);n=xg(this._ac.signal,o.signal,n);let c;return Zg(e,{interval:s,signal:n,onResponse:(u,l)=>{l?o.clear():this._isUpdated(c,u)&&o.touch(),c=u},...r})[Symbol.asyncIterator]()}_isFinished(e){return!!(e&&e.finished)}_isUpdated(e,s){return!e||e.answer_stage!==s.answer_stage||Di(e.answer)!==Di(s.answer)||Di(e.reasoning)!==Di(s.reasoning)}_revisionOf(e){return e&&e.revision}}class du extends yb{constructor(e,s,n,i){super(i),this._api=e,this._method=s,this._id=n}async _get(e){return this._api[this._method](this._id,e)}}function Di(t=""){return t.length}const{GROUP:wb,NAME:$t}=gn;let hu=class extends wn{constructor(e){super(e,wb.ASK)}async questions(e,s={}){if(mu(e)&&(e={question_id:e}),e.question_id)return new _u(this,e,s);const n=await this._run($t.QUESTIONS,e,s);return new _u(this,n,s)}async _questions(e,s){return this._run($t.QUESTIONS,e,s)}async _questionGet(e,s){return this._run(`${$t.QUESTIONS}/${e}/answer`,void 0,{...s,method:"GET"})}async relatedQuestions(e,s={}){return this._run($t.RELATED_QUESTIONS,e,s)}async trendingQuestions(e,s={}){return this._run($t.TRENDING_QUESTIONS,e,s)}async search(e,s={}){if(mu(e)&&(e={question_id:e}),e.question_id)return new pu(this,e,s);const n=await this._run($t.SEARCH,e,s);return n.question_id?new pu(this,n,s):n}async _searchGet(e,s){return this._run(`${$t.QUESTIONS}/${e}/answer`,void 0,{...s,method:"GET"})}async autocomplete(e,s){return this._run($t.AUTOCOMPLETE,e,s)}async searchAutocomplete(e,s){return this._run($t.SEARCH_AUTOCOMPLETE,e,s)}};class _u extends du{constructor(e,s,n={}){super(e,"_questionGet",s.question_id,n),this._response=s}get questionId(){return this._id}}class pu extends du{constructor(e,s,n={}){super(e,"_searchGet",s.question_id,n),fe(this,s),this._response=s}get questionId(){return this._id}}function mu(t){return typeof t=="string"&&t.charAt(0)!=="{"}const{GROUP:Eb,NAME:fo}=gn;let gu=class extends wn{constructor(e){super(e,Eb.SEARCH)}async search(e,s){return this._run(fo.SEARCH,e,s)}async autocomplete(e,s){return this._run(fo.AUTOCOMPLETE,e,s)}async multipleGet(e,s){return this._run(fo.MGET,e,s)}};const{GROUP:Sb,NAME:Cs}=gn;let bu=class extends wn{constructor(e){super(e,Sb.RECOMMENDATION)}async userToProducts(e,s){return this._run(Cs.USER_TO_PRODUCTS,e,s)}async userToCategories(e,s){return this._run(Cs.USER_TO_CATEGORIES,e,s)}async userToAttributes(e,s){return this._run(Cs.USER_TO_ATTRIBUTES,e,s)}async userToTrending(e,s){return this._run(Cs.USER_TO_TRENDING,e,s)}async userToHistory(e,s){return this._run(Cs.USER_TO_HISTORY,e,s)}async productToProducts(e,s){return this._run(Cs.PRODUCT_TO_PRODUCTS,e,s)}};class yu extends qe{constructor(e,s){super("api",e),this._client=e,this.helpers=new lu(e,s),this.interactions=new fu(this),this.ask=new hu(this),this.search=new gu(this),this.recommendation=new bu(this)}}const Tb=Object.freeze(Object.defineProperty({__proto__:null,Api:yu,ApiBase:wn,ApiHelpers:lu,Ask:hu,Interactions:fu,Recommendation:bu,Search:gu},Symbol.toStringTag,{value:"Module"}));let wu=class extends qe{constructor(e){super("context",e),this._client=e}};const vb={api:Tb,context:{Context:wu}};class Ab{constructor(e){fe(this,{install:e})}}function Ob(t,e,s){const n=t.slice(4);if(e==="dev"){const i=s.src,r=i.indexOf("?"),o=r<0?i.length:r,c=i.lastIndexOf("/",o)+1,a=i.indexOf(".",c),u=a<0?"":i.slice(a,o);return`${i.slice(0,c)}plugins/${n}${u}`}else return`https://cdn.jsdelivr.net/npm/@miso.ai/client-sdk@${e}/dist/umd/plugins/${n}.min.js`}class Cb extends cu{constructor(e){super("plugins",e,{libName:"plugin class",keyName:"id"}),this._root=e,this._currentScript=document.currentScript,this._events._replays.add("install").add("subtree"),this._installed={},this._installedResolutions={},this._useRequests={},this._subtrees=[],this.context=new Ib(this,vb),this.plugins=new xb(this)}isInstalled(e){return this._checkKey(e),!!this._installed[e]}get installed(){return Object.values(this._installed)}get(e){return this._installed[e]}getPluginClass(e){return this._libraries[e]}use(e,s){if(typeof e=="function"&&e.id&&typeof e.id=="string"){this.register(e),this.use(e.id,s);return}let n;if(typeof e=="string"&&this.isInstalled(e)){n=this.get(e),this._tryConfig(n,s);return}if(typeof e=="string"&&!this.isRegistered(e)){(this._useRequests[e]||(this._useRequests[e]=[])).push(s);return}n=this._instantiate(e,s),this._install(n)}async install(e,s){return this.use(e,s),typeof e=="string"&&!this.isRegistered(e)&&await this._tryRegisterRemotely(e),this.whenInstalled(e)}async whenInstalled(e){if(typeof e=="function"&&e.id&&typeof e.id=="string"&&(e=e.id),this.isInstalled(e))return this.get(e);const{promise:s}=this._installedResolutions[e]||(this._installedResolutions[e]=new kt);return s}addSubtree(e){this._subtrees.push(e),this._events.emit("subtree",e)}addPayloadPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._payloadPasses.push(e)}addHeadersPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._headersPasses.push(e)}addUrlPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._urlPasses.push(e)}setCustomFetch(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._customFetch=e}setCustomSendBeacon(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._customSendBeacon=e}onHubUpdate(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._hubUpdateCallbacks.push(e)}onHubEmit(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._hubEmitCallbacks.push(e)}_tryConfig(e,s){s!==void 0&&(typeof e.config=="function"?(e.config(s),this._events.emit("config",[e,s])):this._warn(`Attempt to pass options to plugin "${e.id}", which offers no config() method.`))}_instantiate(e,s){switch(typeof e){case"string":this._checkKey(e);const n=this._libraries[e];if(!n)throw new Error(`Plugin class not found: ${e}`);const i=new n;return fe(i,{id:e}),this._tryConfig(i,s),i;case"function":return new Ab(e)}throw new Error(`Unexpected parameters: ${e}`)}_install(e){if(typeof e.install!="function")throw new Error(`Expect plugin.install to be a function: ${e}`);try{e.installed=!1,e.install(this.MisoClient,this.context),e.installed=!0}catch(s){throw s}e.id&&(this._installed[e.id]=e,this._installedResolutions[e.id]&&(this._installedResolutions[e.id].resolve(e),delete this._installedResolutions[e.id])),this._events.emit("install",e)}_register(e){super._register(e),this._fulfillUseRequests(e.id)}_fulfillUseRequests(e){const s=this._useRequests[e];if(s){for(const n of s)try{this.use(e,n)}catch(i){this._error(i)}delete this._useRequests[e]}}async _tryRegisterRemotely(e){if(e.startsWith("std:"))try{await this._registerStdRemotely(e);return}catch(s){console.error(s)}throw new Error(`Cannot register plugin remotely: ${e}`)}async _registerStdRemotely(e){const{version:s}=this._root,n=s==="dev"?`plugin:${e}@dev:${this.MisoClient.uuid}`:`plugin:${e}@${s}`;if(!document.querySelector(`script[data-request="${n}"]`)){const r=document.createElement("script");r.async=!0,r.src=Ob(e,s,this._currentScript),r.setAttribute("data-request",n),document.head.appendChild(r)}const i=await new db().get(n);!this.isRegistered(e)&&this.register(i)}}class Ib{constructor(e,s){Wt(this,e,["getPluginClass","addSubtree","addPayloadPass","addHeadersPass","addUrlPass","setCustomFetch","setCustomSendBeacon","onHubUpdate","onHubEmit","whenInstalled","whenRegistered"]),fe(this,{classes:s})}}class xb{constructor(e){Wt(this,e,["installed","registered","isInstalled","isRegistered","whenInstalled","whenRegistered","get","register","use","install"])}}class Rb extends qe{constructor(){super(),this._events._replays.add("create"),this._pluginRoot=new Cb(this),this._clients=[],this._payloadPasses=[],this._headersPasses=[],this._urlPasses=[],this._customFetch=void 0,this._customSendBeacon=void 0,this._hubUpdateCallbacks=[],this._hubEmitCallbacks=[],this.version=Gl,this._cmdRes=new kt}get instances(){return[...this._clients]}async any(){return this._clients[0]||this._any||(this._any=(await this._events.once("create")).data)}get cmdDone(){return this._cmdRes.promise}}const Gt=new Rb;function Lb(t){const e=Gt._pluginRoot;return Gt.MisoClient=e.MisoClient=t,Wt(t,Gt,["version","instances","any","meta","on","once","cmdDone"]),Wt(t,e,["plugins"]),t}function kb(t){Gt._clients.push(t),Gt._events.emit("create",t)}function $b(){Gt._cmdRes.resolve()}const Nb=Object.freeze(Object.defineProperty({__proto__:null,debounce:iu,viewable:ao},Symbol.toStringTag,{value:"Module"})),{currentScript:Eu}=document;let ho=class Fn extends qe{static attach(){if((window.MisoClients||(window.MisoClients=[])).push(Fn),window.MisoClient){window.MisoClient!==Fn&&console.warn(`window.MisoClient already exists: (${window.MisoClient.version}).`);return}window.MisoClient=Fn}static debug(){}constructor(e){super("client",Gt),this._config(e),this.context=new wu(this),this.api=new yu(this,Gt),kb(this)}get version(){return Fn.version}_config(e){this.options=Object.freeze(this._normalizeOptions(e))}_normalizeOptions(e={}){if(typeof e=="string"&&(e={apiKey:e}),e.readConfigFromScriptUrl&&(e={...this._readConfigFromScriptUrl(),...e}),!e.apiKey)throw new Error("Require API key to initialize miso client.");return e.request&&e.request.sendApiKeyByHeader&&console.warn('`sendApiKeyByHeader` option is deprecated. Please call `MisoClient.plugins.use("std:header-api-key");` instead.'),e.dataEndpoint=e.dataEndpoint||e.apiHost,e.eventEndpoint=e.eventEndpoint||e.apiHost,delete e.apiHost,W(e)}_readConfigFromScriptUrl(){const e=Eu.src||Eu.href,s=new URL(new Request(e).url).searchParams;return W({apiKey:s.get("api_key")||void 0})}};ho.helpers=Nb,fe(ho,{uuid:bn()});const Nt=Lb(ho),{GROUP:Pb,NAME:Ub}=gn,Db="std:context";class Fb extends qe{static get id(){return Db}constructor(){super("context")}install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this)),s.addHeadersPass(this._modifyHeaders.bind(this)),s.addPayloadPass(this._modifyPayload.bind(this))}_injectClient(e){const s=new jb(this);kg(e.context,s,["anonymous_id","user_id","user_hash","user_type","site","auth"])}_modifyHeaders({client:e,headers:s}){const{auth:n}=e.context;return n&&(s={...s,Authorization:n}),s}_modifyPayload({client:e,apiGroup:s,apiName:n,payload:i}){if(!i)return i;switch(s){case Pb.INTERACTIONS:return n===Ub.UPLOAD?this._modifyPayloadForInteractions(e,i):i;default:return this._modifyPayloadForQueries(e,i)}}_modifyPayloadForQueries(e,s){const{user_id:n,user_hash:i,user_type:r,anonymous_id:o,site:c}=e.context;return Ui(s,{...n?{user_id:n,user_type:r,user_hash:i}:{anonymous_id:o},metadata:c?{site:c}:void 0})}_modifyPayloadForInteractions(e,{data:s}){const{anonymous_id:n,user_id:i,site:r}=e.context,o={anonymous_id:n,user_id:i},c=r?{site:r}:void 0,a=c?{custom_context:c}:void 0;return s=s.map(u=>Ze(u,{...o,context:a})),{data:s}}}let Su;function Mb(){return Su||(Su=Hg("miso_anonymous_id",bn))}class jb{constructor(e){this._plugin=e,this._props={}}get anonymous_id(){return this._props.anonymous_id||Mb()}set anonymous_id(e){this._requireString("anonymous_id",e),this._set("anonymous_id",e)}get user_id(){return this._props.user_id}set user_id(e){this._requireString("user_id",e),this._set("user_id",e)}get user_hash(){return this._props.user_hash}set user_hash(e){this._requireString("user_hash",e),this._set("user_hash",e)}get user_type(){return this._props.user_type}set user_type(e){this._requireString("user_type",e),this._set("user_type",e)}get site(){return this._props.site}set site(e){this._requireString("site",e),this._set("site",e)}get auth(){return this._props.auth}set auth(e){this._requireString("auth",e),this._set("auth",e)}_set(e,s){this._props[e]=s,this._plugin._events.emit("set",`${e} = '${s}'`)}_requireString(e,s){if(typeof s!="string"&&typeof s<"u")throw new Error(`${e} must be a string`);return s}}const qb="std:page-info";class Bb{static get id(){return qb}constructor(){}install(e,{addPayloadPass:s}){s(this._modifyPayload.bind(this))}_modifyPayload({apiGroup:e,apiName:s,payload:n}){return e==="interactions"&&s==="upload"?this._modifyPayloadForInteractions(n):n}_modifyPayloadForInteractions({data:e}){return e=e.map(s=>({...s,context:{...zb(),...s.context}})),{data:e}}}function zb(){return W({page:Hb(),campaign:Vb()})}function Hb(){return W({url:window.location.href,referrer:document.referrer||void 0,title:document.title})}function Vb(){const t=new URLSearchParams(window.location.search);let e=W({source:t.get("utm_source")||void 0,medium:t.get("utm_medium")||void 0,name:t.get("utm_campaign")||void 0,term:t.get("utm_term")||void 0,content:t.get("utm_content")||void 0});return Object.keys(e).length===0?void 0:e}const Qb="std:auto-events";class Wb extends qe{static get id(){return Qb}constructor(){super("auto-events"),this._contexts=new WeakMap}install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this)),s.addPayloadPass(this._captureApiRequest.bind(this))}_injectClient(e){const s=new Gb(this);this._contexts.set(e,s),e.autoEvents=s.interface}_captureApiRequest({client:e,apiGroup:s,apiName:n,payload:i}){switch(s){case Te.SEARCH:switch(n){case Ye.SEARCH:this._captureSearchApiRequest(e,i);break}break}}_captureSearchApiRequest(e,{q:s}){if(!s||s==="*")return;const n=this._contexts.get(e);!n||!n._config.search||e.api.interactions.upload({type:"search",search:{keywords:s},context:{custom_context:{channel:"miso_api"}}})}}class Gb{constructor(e){this._plugin=e,this._config={search:!0},this.interface=Object.freeze({config:this.config.bind(this)})}config(e={}){if(typeof e!="object")throw new Error(`Config options must be an object or undefined: ${e}`);for(const s of e){if(!this._config.hasOwnProperty(s))continue;const n=this._config[s],i=e[s];i!==n&&(this._config[s]=n,this._plugin._events.emit("config",`${s}: ${n} -> ${i}`))}return Object.freeze({...this._config})}}const Kb="std:interactions";class Yb{static get id(){return Kb}constructor(){}install(e,{addPayloadPass:s}){s(this._modifyPayload.bind(this))}_modifyPayload({apiGroup:e,apiName:s,payload:n}){return e==="interactions"&&s==="upload"?this._modifyPayloadForInteractions(n):n}_modifyPayloadForInteractions({data:e}){return{data:e.map(Zb)}}}function Zb(t){const{context:e={}}=t,s={...e.custom_context,sdk_version:Gl};return s.uuid||(s.uuid=bn()),{...t,context:{...e,custom_context:s}}}const _o="std:native-fetch";function Jb(t){return t.toString().indexOf("[native code]")>-1}let po,Tu;const vu=(()=>{if(Jb(window.fetch))return po="original",window.fetch;try{const t=document.createElement("iframe");return t.style.display="none",document.head.appendChild(t),po="borrowed",t.contentWindow.fetch}catch(t){Tu=t}})();class Xb{static get id(){return _o}install(e,s){if(!vu){e.debug(`<plugin:${_o}>`,"[error]",`Failed to obtain native fetch: ${Tu.message}`);return}s.setCustomFetch(vu),e.debug(`<plugin:${_o}>`,"[info]",`Using ${po} native fetch`)}}const ey="std:api-patch";class ty extends qe{static get id(){return ey}constructor(){super("api-patch")}install(e,s){s.addSubtree(this),s.addPayloadPass(this._patchApiPayload.bind(this))}_patchApiPayload(e){let{payload:s,...n}=e;return s&&(s=this._copyMetadataToMeta(s,n),s=this._suppressMetadata(s,n),s=this._suppressUserType(s,n),s)}_copyMetadataToMeta(e,{apiGroup:s}){switch(s){case Te.ASK:return e.metadata?{...e,_meta:e.metadata}:e;default:return e}}_suppressMetadata(e,{apiGroup:s}){switch(s){case Te.SEARCH:case Te.RECOMMENDATION:const{_meta:n,metadata:i,...r}=e;return r;default:return e}}_suppressUserType(e,{apiGroup:s}){switch(s){case Te.SEARCH:case Te.RECOMMENDATION:const{user_type:n,...i}=e;return i;default:return e}}}const Au="std:header-api-key";class sy{static get id(){return Au}install(e,s){s.addUrlPass(this._modifyUrl.bind(this)),s.addHeadersPass(this._modifyHeaders.bind(this)),e.debug(`<plugin:${Au}>`,"[info]","Send API key in header")}_modifyUrl({url:e}){return e.replace(/[?&]api_key=[^&]*/g,"")}_modifyHeaders({client:e,headers:s}){const{apiKey:n}=e.options;return n?{...s,"X-API-KEY":n}:s}}const Fi="miso-logdump",Ou="miso-logdump",Cu=`${Ou}__download-btn`,Iu="Miso Log";class ny{constructor(e={}){this._options=e,this._logs=[]}config(e={}){this._options={...this._options,...e}}async showDownloadButton(){await ay();let e=document.getElementById(Fi);if(!e){const s=document.createElement("div");s.textContent=this._options.logDownloadButtonText||Iu,s.classList.add(Cu),s.addEventListener("click",()=>this.download()),e=document.createElement("div"),e.id=Fi,e.classList.add(Ou),e.appendChild(s),document.body.appendChild(e)}e.style.display="block"}_syncUi(){const e=document.getElementById(Fi),s=e&&e.querySelector(`.${Cu}`);s&&(s.textContent=this._options.logDownloadButtonText||Iu)}hideDownloadButton(){const e=document.getElementById(Fi);e&&(e.style.display="none")}download(){const e=this._logs,s=new Blob([ry(e)],{type:"application/json"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=this._filename(),i.click()}_filename(){let{logFilename:e}=this._options;if(typeof e=="function"){const s=xu();e=e({timestamp:s})}return e&&typeof e=="string"?e:iy()}clear(){this._logs=[]}}function iy(){return`miso-log.${xu()}.jsonl`}function xu(){return new Date().toISOString().replaceAll(/[\:\.]/g,"-")}function ry(t){return t.map(e=>JSON.stringify(ru(oy(e),{depth:10}))).join(`
`)}function oy(t){if(t[0]==="<progressive-markdown>"){const e=t.length;return[...t.slice(0,e-1),cy(t[e-1])]}return t}function cy(t){return t&&ru(t,{depth:2})}let Ru;async function ay(){return Ru||(Ru=tu(su("logdump")))}const Lu="std:debug";class ly{constructor(e={}){this._options=e,this._logs=new ny(e)}static get id(){return Lu}install(e){this._injectComponents(e),e.debug=(...s)=>this._logr(...s),e.logs=this._logs}config(e={}){this._options={...this._options,...e},this._logs.config(e),e.preserveLog&&this._log(Lu,"ua",window.navigator.userAgent)}_injectComponents(e,s=[]){e.on("child",n=>this._injectComponents(n,s)),e.on("subtree",n=>this._injectComponents(n,s.concat(e.meta.path))),e.on("*",(n,i)=>this._handleEvent(e,i,n,s))}_handleEvent(e,{name:s},n,i=[]){if(s==="child"||s==="subtree")return;const r=i.concat(e.meta.path);if(!r.length)switch(s){case"create":this._handleCreateClient(s,n);return}switch(r[0]){case"client":switch(r[1]){case"api":this._handleApiEvent(s,{...n,groupName:r[2]});return}break;case"plugins":r.length===1?this._handlePluginsEvent(s,n):this._handlePluginSpecificEvent(r[1],r.slice(2),s,n);return}this._logw(r.join("."),s,n)}_handleCreateClient(e,s){this._logw("client",e,s)}_handleApiEvent(e,{groupName:s,apiName:n,url:i,bulk:r,...o}){const c=new URL(i).pathname,a=["api",e];if(r&&a.push(`(bulk ${r.bulkId})`),a.push(`POST ${c}`),s==="interactions"){const u=o.payload.data[0],{type:l,custom_action_name:f,context:{custom_context:{property:p}={}}={}}=u,g=l==="custom"&&f?`${l}:${f}`:l;a.push(p?`${g} (${p})`:`${g}`)}a.push([{...o,url:i}]),this._log(...a)}_handlePluginsEvent(e,s){let n=[];Array.isArray(s)&&(n=s.slice(1),s=s[0]),this._log("plugins",e,`${s.id||"(anonymous)"}`,[s,...n])}_handlePluginSpecificEvent(e,s,n,i){this._logw([e,s.join(".")],n,i)}_getPath(e){const s=[];for(let n=e;n;n=n.meta.parent)n.meta.name&&s.push(n.meta.name);return s.reverse()}_logw(e,s,n){n===void 0?this._log(e,s):Array.isArray(n)?this._log(e,s,...n.map(ku)):this._log(e,s,ku(n))}_log(e,s,...n){this._logr(dy(e),hy(s),...n)}_logr(...e){const s=this._options.console||{};this._options.preserveLog&&this._logs._logs.push(e),console.log(uy(s),fy(s),...e)}}function uy({text:t="Miso"}={}){return`%c${t}`}function fy({color:t="#fff",background:e="#334cbb"}={}){return`color: ${t}; background-color: ${e}; padding: 2px 2px 1px 4px;`}function dy(t){return`<${typeof t=="string"?t:t.filter(e=>e).join("/")}>`}function hy(t){return`[${t}]`}function ku(t){const e=typeof t;return e==="function"||e==="object"&&!Array.isArray(t)?[t]:t}const _y="std:dry-run";class py{constructor(e={}){this._options=e,this.id="std:dry-run",this.name="dry-run"}static get id(){return _y}install(e,{addUrlPass:s}){s(this._modifyUrl.bind(this))}_modifyUrl({apiGroup:e,apiName:s,url:n}){return e==="interactions"&&s==="upload"?Gg(n,"dry_run","1"):n}}function $u(t,e){return e==null||e<=t?t:t+Math.floor(Math.random()*(e-t+1))}const my={"code-span":()=>["`","`"],"emphasis-1":()=>go(mo(1),2),"emphasis-2":()=>go(mo(2),2),"emphasis-3":()=>go(mo(3),2),strikethrough:()=>["~","~"],link:({url:t="https://miso.ai"}={})=>["[",`](${t})`]};function mo(t=[1,3]){return t=typeof t=="number"?t:$u(...t),"_*".charAt($u(0,1)).repeat(t)}const gy=Object.keys(my);new Set(gy);function go(t,e){const s=[];for(let n=0;n<e;n++)s.push(typeof t=="function"?t():t);return s}Nt.plugins.register(ly,py,Xb,sy),Nt.plugins.use(Fb),Nt.plugins.use(Bb),Nt.plugins.use(Wb),Nt.plugins.use(Yb),Nt.plugins.use(ty);const by="data-miso-product-id",bo="default",b=Object.freeze({CONTAINER:"container",BANNER:"banner",QUERY:"query",FEEDBACK:"feedback",PRODUCTS:"products",CATEGORIES:"categories",ATTRIBUTES:"attributes",RESULTS:"results",ITEMS:"items",QUESTION:"question",ANSWER:"answer",REASONING:"reasoning",IMAGES:"images",SOURCES:"sources",RELATED_RESOURCES:"related_resources",FOLLOW_UP_QUESTIONS:"follow_up_questions",QUERY_SUGGESTIONS:"query_suggestions",RELATED_QUESTIONS:"related_questions",AFFILIATION:"affiliation",KEYWORDS:"keywords",FACETS:"facets",TOTAL:"total",MORE:"more",SORT:"sort",ERROR:"error"}),yy=new Set([b.PRODUCTS,b.CATEGORIES,b.ATTRIBUTES,b.RESULTS,b.ITEMS,b.QUESTION,b.ANSWER,b.REASONING,b.IMAGES,b.SOURCES,b.RELATED_RESOURCES,b.FOLLOW_UP_QUESTIONS,b.QUERY_SUGGESTIONS,b.RELATED_QUESTIONS,b.AFFILIATION,b.FACETS,b.TOTAL]);function wy(t){return yy.has(t)}const Ey=new Set([b.PRODUCTS,b.IMAGES,b.SOURCES,b.RELATED_RESOURCES]);function Sy(t){return Ey.has(t)}const De=Object.freeze({IMPRESSION:"impression",VIEWABLE:"viewable",CLICK:"click",SUBMIT:"submit",FEEDBACK:"feedback"}),Nu=[De.IMPRESSION,De.VIEWABLE,De.CLICK,De.SUBMIT,De.FEEDBACK],Pu=[De.IMPRESSION,De.VIEWABLE,De.CLICK],Ty=new Set(Pu);function vy(t){return Ty.has(t)}const En=Object.freeze({UNTRACKED:"untracked",TRACKING:"tracking",TRIGGERED:"triggered"}),j=Object.freeze({INITIAL:"initial",LOADING:"loading",ERRONEOUS:"erroneous",READY:"ready",ONGOING:"ongoing",DONE:"done",EMPTY:"empty",NONEMPTY:"nonempty",UNANSWERABLE:"unanswerable"}),us=Object.freeze({ORGANIC:"_organic",SUGGESTED_QUESTIONS:"_suggested_questions",INLINE_QUESTION_LINK:"_inline_question_link"});function Uu(t){if(Nu.indexOf(t)<0)throw new Error(`Unrecognized event type: ${t}`)}function Ay(t){if(t!==En.UNTRACKED&&t!==En.TRACKING&&t!==En.TRIGGERED)throw new Error(`Unrecognized tracking status: ${t}`)}const ye=Object.freeze({API:"api",LAYOUTS:"layouts",DATA_PROCESSOR:"dataProcessor",TRACKERS:"trackers",INTERACTIONS:"interactions",FILTERS:"filters",PAGINATION:"pagination",TEMPLATES:"templates"}),Kt=Object.freeze({QUERY:"query",REFINE:"refine",MORE:"more"});function Sn(t,e){return Object.freeze({...t,...e,members:Oy(t.members,e.members),mappings:Object.freeze({...t.mappings,...e.mappings})})}function Oy(t=[],e=[]){return[...new Set([...t,...e])]}function Cy(t,e){return t&&t.length?e&&e.length?[...t,...e]:t:e}function fs(t,e){let s={};for(const n of t)n&&(s=e(s,n));return W(s)}function Mi(t){if(t===void 0)throw new Error(`Expect options to be an object or a boolean value: ${t}`);return typeof t=="boolean"&&(t={active:t}),t}function Iy([t,e]=[]){if(t===!1)return{actor:!1};typeof t=="object"&&e===void 0&&(e=t,t=void 0);let s;if(t&&t.indexOf("/")!==-1&&([s,t]=t.split("/")),t&&typeof t!="string"||e!==void 0&&typeof e!="object")throw new Error(`Invalid arguments for useApi(): ${t}, ${e}`);return W({group:s,name:t,payload:e})}function Du(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>Object.assign(e,{...s,payload:Ui(e.payload,s.payload)}))}function xy(t={}){if(t===!1)return!1;const{results:e,...s}=t;e!==void 0&&(console.warn(`useLayouts({ results: ... }) is deprecated, use useLayouts({ ${b.PRODUCTS}: ... }) instead`),t={...s,[b.PRODUCTS]:e});const n={};for(const[i,r]of Object.entries(t))n[Ry(i)]=Fu(r);return n}function Ry(t){return t=Ng(t),t=Pg(t),t}function Fu(t){if(t===void 0)return;let[e,s]=ls(t);return typeof e=="object"&&(s=e,e=void 0),[e,s]}function Ly(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>{for(const[n,i]of Object.entries(s))e[n]=ky(e[n],i);return e})}function ky(t,e){return e=Fu(e),e[0]===!1?e:t&&e?[e[0]||t[0],$y(t[1],e[1])]:e||t}function $y(t,e){return{...t,...e,link:{...t&&t.link,...e&&e.link},templates:{...t&&t.templates,...e&&e.templates}}}function Ny(t){t=ls(t);for(const e of t)if(typeof e!="function")throw new Error(`Expect data processor options to be a function: ${e}`);return t}function Py(...t){return t.flat().filter(Boolean)}const Je=Object.freeze({active:!0,impression:Object.freeze({active:!0}),viewable:Object.freeze({active:!0,area:.5,duration:1e3}),click:Object.freeze({active:!0,lenient:!1})});function Uy(t={}){t=Mi(t);const{active:e,...s}=t,n={};for(const[i,r]of Object.entries(s))n[i]=Dy(r);return{active:e,...n}}function Dy(t={}){t=Mi(t);const{active:e,...s}=t;for(const[n,i]of Object.entries(s))Fy(i);return t}function Fy(t={}){return t=Mi(t),t}function My(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>{for(const[n,i]of Object.entries(s))i!==void 0&&(e[n]=n==="active"?i:jy(e[n],i));return e})}function jy(t={},e={}){const s={...t};for(const[n,i]of Object.entries(e))i!==void 0&&(s[n]=Nu.includes(n)?qy(t[n],i):i);return s}function qy(t={},e={}){return{...t,...e}}function By(t){if(t===void 0)return;if(t===!1)return{handle:()=>{}};const e=ls(t.preprocess);for(const s of e)if(typeof s!="function")throw new Error(`Expect preprocess options to be a function: ${s}`);if(t.handle&&typeof t.handle!="function")throw new Error(`Expect handle options to be a function: ${t.handle}`);return{...t,preprocess:e}}function zy(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>Object.assign(e,{...s,preprocess:Cy(e.preprocess,s.preprocess)}))}const Hy=Mi;function Vy(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>Object.assign(e,s))}function Qy(t){if(t===void 0)throw new Error(`Expect pagination options to be an object or a boolean value: ${t}`);return typeof t=="boolean"&&(t={active:t}),t}function Wy(...t){return t[t.length-1]===!1?!1:fs(t,(e,s)=>Object.assign(e,s))}function Gy(t={}){const e={};for(const[s,n]of Object.entries(t))e[s]=Mu(n);return e}function Mu(t){return t===void 0?void 0:typeof t!="function"?()=>t:t}function Ky(...t){return fs(t,(e,s)=>{for(const[n,i]of Object.entries(s))e[n]=Yy(e[n],i);return e})}function Yy(t,e){return Mu(e)||t}const Zy=[{key:ye.API,normalize:Iy,merge:Du},{key:ye.LAYOUTS,normalize:xy,merge:Ly},{key:ye.DATA_PROCESSOR,normalize:Ny,merge:Py},{key:ye.TRACKERS,normalize:Uy,merge:My},{key:ye.INTERACTIONS,normalize:By,merge:zy},{key:ye.FILTERS,normalize:Hy,merge:Vy},{key:ye.PAGINATION,normalize:Qy,merge:Wy},{key:ye.TEMPLATES,normalize:Gy,merge:Ky}];class ju{constructor(){this._events=new Os({target:this}),this._globals={}}_notify(e){this._events.emit(e),this._events.emit("_update",e)}}class qu{constructor(e={},s={}){this._events=new Os({target:this}),this._defaults=s,this._context=e||{},this._locals={},fe(this,{resolved:new Bu(this),defaults:s}),e&&e.on&&(this._unsubscribes=[e.on("_update",n=>this._notify(n))])}_notify(e){this.resolved._invalidate(e),this._events.emit(e)}_destroy(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[]}}class Bu{constructor(e){this._options=e,this._cache={}}_invalidate(e){this._cache[e]=void 0}_get({key:e,merge:s}){if(this._cache[e]===void 0){const n=this._options,i=n._context[e];this._cache[e]=s(n._defaults[e],i&&i.get(),n._locals[e])}return this._cache[e]}}class zu{constructor(e,s,n,i,r){this._options=e,this._store=s,this._key=n,this._normalize=o=>o!==void 0?i(o):void 0,this._merge=r}get(){return this._store[this._key]}set(e){this._set(this._normalize(e))}merge(e){this._set(this._merge(this.get(),this._normalize(e)))}_set(e){this._store[this._key]=e,this._options._notify(this._key)}}for(const t of Zy){const{key:e,normalize:s,merge:n}=t;Object.defineProperty(ju.prototype,e,{get:function(){const i=`_${e}`;return this[i]||(this[i]=new zu(this,this._globals,e,s,n))}}),Object.defineProperty(qu.prototype,e,{get:function(){const i=`_${e}`;return this[i]||(this[i]=new zu(this,this._locals,e,s,n))}}),Object.defineProperty(Bu.prototype,e,{get:function(){return this._get(t)}})}const Jy=[ye.API,ye.LAYOUTS,ye.DATA_PROCESSOR,ye.TRACKERS,ye.INTERACTIONS];function Tn(t,e=Jy){for(const s of e)Xy(t,s)}function Xy(t,e){if(e==="api")Object.assign(t,{useApi(...s){return this._options.api.merge(s),this},clearApi(){return this._options.api.set(),this}});else{const s=ew(e);Object.assign(t,{[`use${s}`](n){return this._options[e].merge(n),this},[`clear${s}`](){return this._options[e].set(),this}})}}function ew(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hu="q",tw="qs";function sw({setValue:t=!0,focus:e=!0,updateUrl:s=!0,param:n=Hu,sourceParam:i=tw,...r}={}){return{setValue:t,focus:e,updateUrl:s,param:n,sourceParam:i,...r}}function Vu(t={}){const{setValue:e,focus:s,param:n,sourceParam:i}=this._autoQuery=sw(t),r=new URLSearchParams(window.location.search),o=r.get(n),c=r.get(i)||void 0,{layout:a}=this._views.get(b.QUERY);a&&(o&&e&&(a.value=o),!o&&s&&a.focus()),o&&this.query(W({q:o,qs:c}))}function Qu({value:t,request:e}){if(!this._autoQuery||!this._autoQuery.updateUrl)return;const{param:s,sourceParam:n}=this._autoQuery,i=t&&(t.question||t.keyword)||e&&e.payload&&(e.payload.question||e.payload.q),r=e&&e.payload&&e.payload.metadata&&e.payload.metadata.question_source;if(!i)return;const o=new URL(window.location),c=o.searchParams.get(s),a=o.searchParams.get(n)||us.ORGANIC;i===c&&r===a||(o.searchParams.set(s,i),r===us.ORGANIC?o.searchParams.delete(n):o.searchParams.set(n,r),window.history.replaceState({},"",o))}class yo extends qe{constructor(e,s,n){super(e,s),this._name=e,this._plugin=s,this._client=n,this._options=new ju}}Tn(yo.prototype);function ji(){return"session"}function wo(){return"completions"}function Is(){return"filters"}function Yt(){return"query"}function Eo(){return"request"}function Wu(){return"response"}function Ie(){return"data"}function Pt(t){return t?`view:${t}`:"view"}function So(){return"tracker"}function Gu(){return"interaction"}function Ku(){return"feedback"}function Yu(){return"input"}function To(){return"more"}class nw{constructor(e={}){(this._events=new Os)._injectSubscribeInterface(this),this._options=e,this._states={},fe(this,{states:new Proxy(this._states,{set(){}})})}update(e,s,n={}){this._states[e]=Object.freeze(s);const i=Object.freeze({action:"update",name:e,state:s,...n});typeof this._options.onUpdate=="function"&&this._options.onUpdate(i),n.silent||this._events.emit(e,s),typeof this._options.onEmit=="function"&&this._options.onEmit(i)}trigger(e,s){const n=Object.freeze({action:"trigger",name:e,state:s});typeof this._options.onUpdate=="function"&&this._options.onUpdate(n),this._events.emit(e,s),typeof this._options.onEmit=="function"&&this._options.onEmit(n)}}class iw{constructor(e){this._hub=e,this._sessionIndex=0}restart(){const e=Object.freeze({uuid:bn(),index:this._sessionIndex++,meta:{}});this._hub.update(ji(),e)}}function Zu(t,e){if(!e)return!1;const{session:s}=t.states;return s&&s.index===e.index}class rw{constructor(e,{source:s,options:n,polling:i=!0}){this._hub=e,this._source=s,this._options=n,this._polling=i,this._unsubscribes=[e.on(ji(),r=>this._handleSession(r)),e.on(Eo(),r=>this._handleRequest(r))]}get active(){return this._options.resolved.api.actor!==!1}get source(){return this._source}_handleSession(e){(!this._session||e.index!==this._session.index)&&(this._ac&&this._ac.abort({type:"new-session",message:"A new session is created, discarding the old one."}),this._ac=new AbortController),this._session=e}async _handleRequest(e){if(!this.active)return;const{session:s,...n}=e;try{const{signal:i}=this._ac||{},r={...e.options,signal:i},o=await this._source({session:s,...n,options:r});if(o&&o[Symbol.asyncIterator]){if(o._response&&this._emitResponseWithSessionCheck({session:s,request:n,value:o._response}),this._polling){let c;for await(c of o){if(!Zu(this._hub,s))break;this._emitResponse({session:s,request:n,value:c})}}}else this._emitResponseWithSessionCheck({session:s,request:n,value:o})}catch(i){this._error(i),this._emitResponseWithSessionCheck({session:s,request:n,error:i})}}_emitResponseWithSessionCheck(e){Zu(this._hub,e.session)&&this._emitResponse(e)}_emitResponse(e){this._hub.update(Wu(),e)}_error(e){console.error(e)}_destroy(){this._ac&&this._ac.abort({type:"data-actor-destroy",message:"Data actor is destroyed."});for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class ow{constructor(e){this._get=typeof e=="function"?e:()=>e,this._handlers=[],this._elementUpdatedHandlers=[],this.sync()}get current(){return this._element}on(e,s){if(e==="element")return this._onElementUpdated(s);const n=this._get();return n&&n.addEventListener(e,s),this._handlers.push({event:e,handler:s}),()=>this._off(e,s)}_off(e,s){const n=this._get();n&&n.removeEventListener(e,s),Rg(this._handlers,i=>i.handler===s)}_onElementUpdated(e){return this._elementUpdatedHandlers.push(e),()=>{oo(this._elementUpdatedHandlers,e)}}sync({silent:e=!1}={}){const s=this._get();if(this._element===s)return;if(this._offAllFromCurrentElement(),s)for(const{event:i,handler:r}of this._handlers)s.addEventListener(i,r);const n=this._element;if(this._element=s,!e)for(const i of this._elementUpdatedHandlers)try{i(s,n)}catch(r){console.error(r)}}_offAllFromCurrentElement(){if(this._element)for(const{event:e,handler:s}of this._handlers)this._element.removeEventListener(e,s)}destroy(){this._offAllFromCurrentElement()}}const{IMPRESSION:cw,VIEWABLE:aw,CLICK:lw}=De,{UNTRACKED:qi,TRIGGERED:uw}=En,Ju=Object.freeze({[cw]:qi,[aw]:qi,[lw]:qi});class Xu{constructor(e){this.sessionId=e,this._states=new Map}getFullState(e){const s=this._states.get(this._getKey(e));return s?{...s}:Ju}get(e,s){const n=this._states.get(this._getKey(e));return n&&n[s]||qi}set(e,s,n){Uu(s),Ay(n);for(const i of ls(e))this._setOne(i,s,n)}untriggered(e,s){return e.filter(n=>this.get(n,s)!==uw)}_getKey(e){return e.product_id||e.text||e.id||e}_setOne(e,s,n){Lg(this._states,this._getKey(e),()=>({...Ju}))[s]=n}}const fw=[Symbol("itemless")];class vo{constructor({hub:e,role:s,options:n}){this._hub=e,this._role=s,this._options=n,this._states=new Xu(this._getSessionId())}get options(){return typeof this._options=="function"?this._options():this._options}getState(e){return this._states.getFullState(e)}_trigger(e,s,n){Uu(e);const{options:i}=this;if(!i||i.active===!1)return;this._syncSession();const{deduplicated:r=!0,itemless:o=!1}=i;if(r){if(o&&(s=fw),s=this._states.untriggered(ls(s),e),s.length===0)return;this._states.set(s,e,En.TRIGGERED)}this._sendToHub({type:e,items:o?void 0:s,...n})}submit({value:e}){this._syncSession(),this._sendToHub({type:De.SUBMIT,value:e})}_sendToHub(e){this._hub.trigger(So(),Object.freeze(W({role:this._role,...e})))}_syncSession(){const e=this._getSessionId();e&&(!this._states||e!==this._states.sessionId)&&(this._states=new Xu(e))}_getSessionId(){const{session:e}=this._getViewState()||{};return e&&e.uuid}_getMisoId(){const e=this._getViewState();return e&&e.meta&&e.meta.miso_id||void 0}_getRequestPayload(){const{request:e}=this._getViewState()||{};return e&&e.payload}_getViewState(){return this._hub.states[Pt(this._role)]}}for(const t of Pu)vo.prototype[t]=function(e,s){this._trigger(t,e,s)};function dw(t,e){return t===e||t&&e&&t.status===e.status&&t.error===e.error&&t.value===e.value&&t.ongoing===e.ongoing&&ef(t)===ef(e)&&hw(t.session,e.session)}function hw(t,e){return t===e||t&&e&&t.uuid===e.uuid}function ef(t){return t&&t.meta&&t.meta.empty}class tf{constructor(e,s){this._events=new Os({target:this}),this._views=e,this._mapping=sf((e._roles.mappings||{})[s]||s),fe(this,{role:s,interface:new _w(this)})}get hub(){return this._views._hub}get element(){return this._element}set element(e){e!==this._element&&(this._element&&this._safeApplyOnLayout("unrender",this._element),this._element=e,this._proxyElement&&this._proxyElement.sync(),this._events.emit("element",e),this.refresh({force:!0}))}get proxyElement(){return this._proxyElement||(this._proxyElement=new ow(()=>this.element)),this._proxyElement}get layout(){return this._layout}set layout(e){if(e===this._layout)return;if(e&&typeof e.render!="function")throw new Error("Render function is mandatory in a layout.");const{element:s}=this;s&&this._safeApplyOnLayout("unrender",s),this._safeApplyOnLayout("destroy"),this._layout=e,e&&(e._view=this,typeof e.initialize=="function"&&e.initialize(this)),this.refresh({force:!0})}get tracker(){const{role:e}=this;if(e===b.CONTAINER)return this._views._getContainerTracker();if(!this._tracker){const{hub:s}=this;this._tracker=new vo({hub:s,role:e,options:()=>this.trackerOptions})}return this._tracker}get workflow(){return this._views._workflow}get workflowOptions(){return this._views._options.resolved}get trackerOptions(){return this._views._getTrackerOptions(this.role)}get filters(){return this._views.filters}async refresh({force:e=!1,data:s}={}){if(!this._layout)return;const{element:n}=this;if(!n)return;const i=this._data;if(this._data=s=this._sliceData(s||this._views._getData()),!e&&dw(s,i))return;const{session:r,status:o,ongoing:c,request:a,meta:u,value:l}=s,f={session:r,status:o,ongoing:c,request:a,meta:u,data:l,...pw(this.role,s)},p=(g={},_)=>{g!==!1&&this.updateState({...f,...g},_)};try{await this._layout.render(n,s,{notifyUpdate:p})}catch(g){this._error(g),p({error:g})}}updateState(e,{silent:s=!1}={}){const n=e.error?j.ERRONEOUS:e.status;e=this._state=Object.freeze(W({...e,status:n}));const{role:i}=this;this.hub.update(Pt(i),e,{silent:s})}_sliceData(e){const{value:s,error:n,status:i,meta:r,...o}=e,c={value:this._mapping(e,this),status:i,data:s,meta:r,...o};return this.role===b.CONTAINER&&(c.meta={...r,empty:this._isContainerEmpty(e)}),W(c)}_isContainerEmpty(e){const{element:s}=this;if(!s)return!1;for(const{role:n}of s.components){if(!wy(n))continue;const r=sf((this._views._roles.mappings||{})[n]||n)(e,this);if(!nf(n,r))return!1}return!0}_syncSize(){this._element&&this._safeApplyOnLayout("syncSize",this._element)}_safeApplyOnLayout(e,...s){if(!(!this._layout||typeof this._layout[e]!="function"))try{this._layout[e](...s)}catch(n){this._error(n)}}_error(e){this._views._error(e)}_destroy(){this._safeApplyOnLayout("destroy"),this._proxyElement&&this._proxyElement.destroy()}}class _w{constructor(e){Wt(this,e,["role","layout","element","proxyElement","refresh","on","tracker"])}}function sf(t){switch(typeof t){case"function":return t;case"string":return e=>e.value&&e.value[t];default:throw new Error(`Invalid mapping function: ${t}`)}}function pw(t,e){return mw(e)?{empty:!!nf(t,e&&e.value)}:{}}function mw(t){return t.status===j.READY&&!t.ongoing}function nf(t,e){switch(t){case b.ANSWER:case b.REASONING:return!e||!e.value;default:return e===void 0||(Array.isArray(e)||typeof e=="string")&&!e.length}}function gw(t={},e={}){return Object.freeze(W({...t,...e,facets:Object.freeze(W({...t.facets,...e.facets}))}))}function bw({sort:t}={}){return W({facets:Object.freeze({}),sort:yw(t)})}function yw(t){if(!t)return;const{options:e=[]}=t;for(const s of e)if(s.default)return Object.freeze(s);return Object.freeze(e[0])}class ww{constructor(e,{facets:s}={}){this._views=e,this._hub=e._hub;const n=this._error=this._error.bind(this);this._events=new Os({target:this,error:n}),fe(this,{facets:new Ew(this,s)}),this._unsubscribes=[e._options.on("filters",()=>this._syncOptions())],this._syncOptions(),this._states=void 0}_syncOptions(){const e=this._views._options.resolved.filters;this._initialStates=bw(e),this.apply({silent:!0})}_getStates(){return this._states||this._initialStates}update(e){const s=this._getStates();this._states=gw({...s,...e});const n=this._getStates();this._events.emit("update",{updates:e,states:n,oldStates:s})}reset({silent:e=!1}={}){const s=this._states;this._states=void 0;const n=this._getStates();this._hub.update(Is(),n,{silent:e}),this._events.emit("reset",{states:n,oldStates:s})}apply({silent:e=!1}={}){const s=this._getStates();this._hub.update(Is(),s,{silent:e}),!e&&this._events.emit("apply")}_error(e){this._views._error(e)}_destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class Ew{constructor(e,s={}){this._filters=e,this._options=s}isSelected(e,s){return this._getFieldValues(e).includes(s)}select(e,s){this.isSelected(e,s)||this._select(e,s)}unselect(e,s){this.isSelected(e,s)&&this._unselect(e,s)}toggle(e,s){this.isSelected(e,s)?this._unselect(e,s):this._select(e,s)}_getFieldValues(e){return this._filters._getStates().facets[e]||[]}_select(e,s){const n=this._options.multivalued?[...this._getFieldValues(e),s]:[s];n.sort(),this._filters.update({facets:{[e]:n}})}_unselect(e,s){let n=this._getFieldValues(e).filter(i=>i!==s);n.length===0&&(n=void 0),this._filters.update({facets:{[e]:n}})}}const rf=Symbol.for("miso:tracked");function Ao(t){return!!t[rf]}function Oo(t){t[rf]=!0}const Bi=Object.freeze({impression:Object.freeze({}),viewable:Object.freeze({area:.5,duration:1e3}),click:Object.freeze({lenient:!1})});function Co(t,e){return!!e&&{...t,...e}}function Sw(t){if(t===!1)return!1;if(t===!0&&(t={}),typeof t!="object")throw new Error(`Invalid options: ${t}`);const{impression:e={},viewable:s={},click:n={},...i}=t;return W({...Bi,...i,impression:Co(Bi.impression,e),viewable:Co(Bi.viewable,s),click:Co(Bi.click,n)})}function Tw(t={},e){return t?typeof t.validate=="function"?t.validate(e):t.lenient?!0:!(Ao(e)||e.button!==0||e.defaultPrevented||!co(e.target,s=>s.tagName==="A"&&s.href||void 0)):!1}class vw{constructor(e,{workflow:s,extensions:n,layouts:i,roles:r,options:o}){this._hub=e,this._workflow=s,this._workflowName=s._name,this._extensions=n,this._layoutFactory=i,this._options=o,this._roles=r,this._containers=new Map,this._containerTracker=void 0,this._views={},this._filters=new ww(this);for(const a of r.members)a!==b.CONTAINER&&(this._views[a]=new tf(this,a));fe(this,{interface:new Aw(this),trackers:new Ow(this,r.members)});const c=()=>this.syncSize();window.addEventListener("resize",c),this._unsubscribes=[()=>window.removeEventListener("resize",c),e.on(Ie(),a=>this.refresh({data:a})),o.on("layouts",()=>this._syncLayouts())],this._syncLayouts()}get filters(){return this._filters}addContainer(e){if(this._containers.has(e))return;const s=new tf(this,b.CONTAINER);s.layout=this._createLayout(b.CONTAINER),s.element=e,this._containers.set(e,s);const{components:n}=e;for(const i of n)this.addComponent(i)}removeContainer(e){const s=this._containers.get(e);if(!s)return;const{components:n}=e;for(const i of n)this.removeComponent(i);s._destroy(),this._containers.delete(e)}addComponent(e){this._getViewByElement(e).element=e}removeComponent(e){this._getViewByElement(e).element=void 0}updateComponentRole(e,s,n){}containsElement(e){return this._containers.has(e)||this._views[e.role]}refreshElement(e){const s=e.isContainer?this._containers.get(e):this._getViewByElement(e);s&&s.refresh({force:!0})}_getViewByElement(e){let{role:s}=e;if(!s)throw new Error("Component must have a role");return this.get(s)}_syncLayouts(){const{layouts:e}=this._options.resolved;if(e===!1){for(const s of this._containers.values())s.layout=void 0;for(const s of Object.values(this._views))s.layout=void 0}else for(let[s,[n,i]]of Object.entries(e)){const r=()=>this._layoutFactory.create(n,{...i,role:s,workflow:this._workflowName});if(s===b.CONTAINER)for(const o of this._containers.values())o.layout=r();else{const o=this.get(s);o&&(o.layout=r())}}}_createLayout(e){const s=this._options.resolved.layouts[e];if(!s)return;const[n,i]=s;return this._layoutFactory.create(n,{...i,role:e,workflow:this._workflowName})}get(e){return this._views[e]}get views(){return this._getViews(!0)}_getViews(e=!0){return e?[...this._containers.values(),...Object.values(this._views)]:[...Object.values(this._views),...this._containers.values()]}syncSize(){for(const e of Object.values(this._views))e._syncSize()}async refresh({force:e,data:s}={}){s=this._getData(s);let n=this._getViews(!0);await Promise.all(n.map(i=>i.refresh({force:e,data:s})))}_getData(e){return e||this._hub.states[Ie()]}_getTrackerOptions(e){const s=this._options.resolved.trackers;return Sw(s&&s[e]||!1)}_getContainerTracker(){if(!this._containerTracker){const e=this._hub,s=b.CONTAINER;this._containerTracker=new vo({hub:e,role:s,itemless:!0,options:()=>this._getTrackerOptions(s)})}return this._containerTracker}_error(e){console.error(e)}_destroy({dom:e}={}){for(const s of this._getViews(!1))s._destroy();for(const s of this._unsubscribes)s();this._unsubscribes=[],this._filters._destroy()}}class Aw{constructor(e){this._actor=e,Wt(this,e,["syncSize","refresh","trackers","filters"])}get(e){return this._actor.get(e).interface}get all(){return this._actor.views.map(e=>e.interface)}}class Ow{constructor(e,s){this._views=e;for(const n of s)n!==b.CONTAINER&&Object.defineProperty(this,n,{get:()=>e.get(n).tracker});Object.defineProperty(this,b.CONTAINER,{get:()=>e._getContainerTracker()})}}class Cw{constructor(e){this._hub=e,this._unsubscribes=[e.on(Ku(),s=>this._trigger(s))]}_trigger(e){this._hub.trigger(So(),{type:De.FEEDBACK,result_type:"answer",value:e.unselected?"unselected":e.value})}_destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class Iw{constructor(e,{client:s,options:n}){this._client=s,this._options=n,this._unsubscribes=[e.on(Gu(),i=>this._handle(i))]}_handle(e){e=ls(e),e.length!==0&&this._client.api.interactions.upload(e,{merge:!0})}destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}function of(t){return async({group:e,name:s,payload:n,options:i})=>{if(e===Te.ASK)switch(s){case Ye.QUESTIONS:return t.api.ask.questions(n,i);case Ye.SEARCH:return t.api.ask.search(n,i)}return t.api[e]._run(s,n,i)}}class Io{constructor({role:e,workflow:s,...n}={}){fe(this,{role:e,workflow:s,options:n}),this._unsubscribes=[],this._rendered=new WeakMap,this._element=void 0,this._notifyUpdate=void 0,this._pending=void 0}async render(e,s,n={}){this._syncElement(e);const i=this._rendered.get(e),r=Ni(!1);s=this._preprocess({state:s,rendered:i},{skip:r.t})||s,this._updatePending(s,n),r.value||this._handleInput({state:s,rendered:i},n)}_syncElement(e){this._element!==e&&this._rendered.delete(this._element),this._element=e}_preprocess({state:e}){return e}_updatePending(e,s){this._pending=[Object.freeze(e),s]}_takePending(){const e=this._pending;return this._pending=void 0,e}_handleInput(){this._requestRaf()}_requestRaf(){this._requested||(this._requested=!0,ki(e=>this._doRaf(e)))}_doRaf(e){this._requested&&(this._requested=!1,this._applyRender(e))}_applyRender(e,s={}){if(!this._pending)return;let[n,{notifyUpdate:i}]=this._takePending();n=Object.freeze({...n,timestamp:e});const r=this._rendered.get(this._element),o=Ni([]),c=Ni({});this._render(this._element,{state:n,rendered:r,timestamp:e},{notifyUpdate:o.args,writeToState:c.merge,...s}),n=Object.freeze({...n,...c.value}),this._rendered.set(this._element,n),i&&i(...o.value),this._afterRender(this._element,n)}_render(){throw new Error("Unimplemented")}_afterRender(){}destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[],this._view=void 0,this._element=void 0,this._notifyUpdate=void 0,this._pending=void 0}}function cf(...t){return t.reduce((e,s)=>(e[s]=xw(s),e),{})}function xw(t){return()=>{throw new Error(`Template '${t}' is not implemented.`)}}function Rw(t,e,s,n){const{templates:i}=t,[r,o]=Zt(t,s);return[r,(i.imageBlock||Rs)(t,s,n),(i.infoBlock||i.productInfoBlock||xo)(t,s,n),o].join("")}function Lw(t,e,s){const[n,i]=Zt(t,s);return`${n}${s.value||s.text||s}${i}`}function kw(t,e,s,n){const{templates:i}=t,[r,o]=Zt(t,s);return[r,(i.imageBlock||Rs)(t,s,n),(i.infoBlock||i.articleInfoBlock||lf)(t,s,n),(i.indexBlock||$o)(t,s,n),o].join("")}function af(t,e,s,n){const{templates:i}=t,[r,o]=Zt(t,s);return[r,(i.indexBlock||$o)(t,s,n),(i.infoBlock||i.articleInfoBlock||Ro)(t,s,n),o].join("")}function $w(t,e,s,n){const{templates:i}=t,[r,o]=Zt(t,s);return[r,(i.imageBlock||Rs)(t,s,n),(i.infoBlock||i.imageInfoBlock||uf)(t,s,n),o].join("")}function Nw(t,e,s,n){const{templates:i}=t,[r,o]=Zt(t,s,{link:!1});return[r,(i.infoBlock||i.affiliationInfoBlock||Pw)(t,s,n),(i.imageBlock||Rs)(t,s,{brand:!0,...n}),o].join("")}function Pw(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||xs)(t,e,s),(i.descriptionBlock||zi)(t,e,s),(i.priceBlock||ko)(t,e,s),(i.ctaBlock||No)(t,e,s)].join("")}</div>`}function xo(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||xs)(t,e,s),(i.descriptionBlock||zi)(t,e,s),(i.priceBlock||ko)(t,e,s)].join("")}</div>`}function lf(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||xs)(t,e,s),(i.dateBlock||Lo)(t,e,s),(i.descriptionBlock||zi)(t,e,s),(i.ctaBlock||No)(t,e,s)].join("")}</div>`}function Ro(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||xs)(t,e,s),(i.authorsAndDateBlock||hf)(t,e,s)].join("")}</div>`}function uf(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||xs)(t,e,s)].join("")}</div>`}function xs({className:t},{title:e,_title_with_markups:s}){const n=Po(s)||ot(e);return n?`<div class="${t}__item-title">${n}</div>`:""}function ff({className:t},{brand:e,brand_logo:s}){if(!e&&!s)return"";const n=s?`<img class="${t}__item-brand-logo" src="${s}"${e?` alt="${e}"`:""}>`:`<div class="${t}__item-brand">${e}</div>`;return`<div class="${t}__item-brand-container">${n}</div>`}function zi({className:t},{snippet:e,description:s}){return e?`<div class="${t}__item-snippet">${Po(e)}</div>`:s?`<div class="${t}__item-desc">${ot(s)}</div>`:""}function Lo({className:t,templates:e},{created_at:s,updated_at:n,published_at:i}){const r=i||s||n;return r?`<div class="${t}__item-date">${gf(r,e.date)}</div>`:""}function df({className:t},{authors:e}){return e&&Array.isArray(e)&&e.length?`<div class="${t}__item-authors">${e.join(", ")}</div>`:""}function hf(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-authors-and-date-container">${[(i.authorsBlock||df)(t,e,s),(i.dateBlock||Lo)(t,e,s)].join("")}</div>`}function ko(t,e){const{className:s,templates:n}=t,{sale_price:i,original_price:r,currency:o="USD"}=e,c=i||r;if(!c)return"";const a=r!==void 0&&i!==void 0&&i<r,u=e.discount_rate_percent||(a?Math.floor((1-i/r)*100):void 0);let l="";if(a&&(l+=`<span class="${s}__item-original-price miso-price" data-currency="${o}">${r}</span><br>`),l+=`<span class="${s}__item-price miso-price" data-currency="${o}">${c}</span>`,u){const f=(n.discountRateText||_f)(t,{...e,discount_rate_percent:u});l+=` <span class="${s}__item-discount-rate">${f}</span>`}return`<div class="${s}__item-price-container">${l}</div>`}function _f(t,{discount_rate_percent:e}){return`(${e}% off)`}function Rs(t,e,s={}){const{className:n,templates:i}=t,{cover_image:r,image_src:o,image_alt:c}=e;if(!r&&!o)return"";const a=o?"image":"cover-image",u=a==="image"?`<img class="${n}__item-${a}" src="${o}"${c?` alt="${c}"`:""}>`:`<img class="${n}__item-${a}" src="${r}">`,l=a==="cover-image"&&s.brand?(i.brandBlock||ff)(t,e,s):"";return`<div class="${n}__item-${a}-container">${u}${l}</div>`}function $o({className:t},e,{index:s}){return`<div class="${t}__item-index-container"><span class="${t}__item-index miso-citation-index" data-index="${s+1}"></span></div>`}function No(t,e,s){const{className:n,templates:i}=t,r=Ut.asFunction(i.cta)(t,e,s);return r?`<div class="${n}__item-cta-container">${r}</div>`:""}function Uw(t,e,s){const{templates:n}=t,{url:i}=e;if(!i)return"";const[r,o]=Zt(t,{url:i},{classSuffix:"item-cta",role:"cta"}),c=Ut.asFunction(n.ctaText)(t,e,s);return c?`${r}${c}${o}`:""}function Zt({className:t,options:e={}},{product_id:s,url:n},{classSuffix:i="item-body",role:r="item",...o}={}){const c=o.link!==!1&&n?"a":"div",a=o.link!==!1&&n?`href="${n}" ${Dw(e.link)}`:"",u=s?`${by}="${s}"`:"",l=r?`data-role="${r}"`:"";return[`<${c} class="${t}__${i}" ${l} ${u} ${a}>`,`</${c}>`]}function Dw(t={}){const{target:e="_blank",rel:s="noopener",open:n=!0}=t;let i="";return n&&(e&&(i+=` target="${e}"`),s&&(i+=` rel="${s}"`)),i}const pf=Object.freeze({locale:"en-US",year:"numeric",month:"short",day:"numeric"}),mf="en-US";function gf(t,e=pf){switch(typeof e){case"function":return e(t);case"string":return new Date(t).toLocaleDateString(e);case"object":return new Date(t).toLocaleDateString(e.locale||pf.locale,e);default:throw new Error(`Invalid date format: ${e}`)}}function Fw(t,e=mf){switch(typeof e){case"function":return e(t);case"string":return new Intl.NumberFormat(e).format(t);case"object":return new Intl.NumberFormat(e.locale||mf.locale,e).format(t);default:throw new Error(`Invalid number format: ${e}`)}}function Po(t){return t&&t.replace(/<\/mark>\s+<mark>/g,"</mark>&nbsp;<mark>")}function Mw(t=""){return typeof t=="function"?t:()=>t}const Ut=Object.freeze({tagPair:Zt,formatDate:gf,formatNumber:Fw,formatHtmlWithMarkup:Po,escapeHtml:ot,asFunction:Mw});class ct extends Io{constructor({className:e,templates:s,...n}={}){super(n),fe(this,{className:e,templates:{...cf("root"),...s,helpers:Ut}})}_preprocess({state:e}){const s=this.templates.root(this,e);return{...e,html:s}}_render(e,{state:s}){e.innerHTML=s.html}}const jw="miso-banner";class Hi extends HTMLElement{static get tagName(){return jw}async connectedCallback(){Hi.MisoClient.ui.layouts.create("banner").render(this)}}class bf{constructor(){this._entries=new WeakMap}isTracked(e){return this._entries.has(e)}async track(e,s={}){if(!s||this._entries.get(e))return!1;const i=new AbortController,{signal:r}=i;this._entries.set(e,{ac:i});let o=!1;try{await ao(e,{...s,signal:r}),o=!0}catch(c){if(c.name!=="AbortError")throw c}finally{this._entries.delete(e)}return o}untrack(e){const s=this._entries.get(e);s&&(s.ac.abort(),this._entries.delete(e))}}const qw="container";class yf extends Io{static get type(){return qw}constructor({logo:e="auto",...s}={}){super({logo:e,...s}),this._impression=!1,this._viewables=new bf}_syncElement(e){this._element!==e&&this._viewables.untrack(this._element),super._syncElement(e)}_render(e,s){this._syncBanner(e),this._syncStatus(e,s),this._trackInteractions(e,s)}_afterRender(e,s){this._trackInteractions(e,s)}_syncBanner(e){const s=Hi.tagName,n=this._shallRenderBanner(e),i=e.querySelector(s);n&&!i?e.insertAdjacentHTML("beforeend",`<${s} visible-when="ready"></${s}>`):!n&&i&&i.remove()}_shallRenderBanner(e){const{logo:s}=this.options,{logo:n}=e,i=n!==void 0&&n!=="auto"?n:s;return i==="auto"?e.components.some(({role:r})=>Bw(r)):!!i}_syncStatus(e,{state:s}){if(!e)return;const{status:n,ongoing:i,meta:{miso_id:r,empty:o=!1,unanswerable:c=!1}={}}=s,a=[n,o?j.EMPTY:j.NONEMPTY];n===j.READY&&a.push(i?j.ONGOING:j.DONE),c&&a.push(j.UNANSWERABLE),e.setAttribute("status",a.join(" ")),r?e.setAttribute("miso-id",r):e.removeAttribute("miso-id")}_trackInteractions(e,s){const{status:n}=s;n===j.READY&&(this._trackImpression(),this._trackViewable(e))}_trackImpression(){const{impression:e}=this._view.tracker.options||{};e&&(this._impression||(this._impression=!0,this._view.tracker.impression()))}async _trackViewable(e){const{viewable:s}=this._view.tracker.options||{};s&&await this._viewables.track(e,s)&&this._view.tracker.viewable()}}function Bw(t){return t===b.PRODUCTS||t===b.ANSWER}const zw="error",Hw="miso-error";function Vw(t,e){const{className:s,templates:n}=t,{status:i,value:r}=e;return i!=="erroneous"?"":`<div class="${s}"><div class="${s}__message">${n.message(t,r)}</div></div>`}function Qw(t,e){return`Error: ${e.message||e}`}const wf=Object.freeze({root:Vw,message:Qw});class Ef extends ct{static get type(){return zw}static get defaultTemplates(){return wf}constructor({className:e=Hw,templates:s,...n}={}){super({className:e,templates:{...wf,...s},...n})}}const Ww='<svg viewBox="0 0 500 200"><path d="M131.1,39.4 C144.3,39.4 155,43.8 163.2,52.7 C171.3,61.3 175.2,72.9 175.2,87.6 L175.2,159.1 L140.4,159.1 L140.4,90.6 C140.4,78.7 134.6,71.5 123.7,71.5 C112.3,71.5 105.5,79.7 105.5,93.4 L105.5,159.1 L70.7,159.1 L70.7,90.6 C70.7,78.7 64.9,71.5 54,71.5 C42.6,71.5 35.8,79.7 35.8,93.4 L35.8,159.1 L1,159.1 L1,42.7 L35.8,42.7 L35.8,53.4 C42.1,44.1 52.6,39.4 67,39.4 C80.5,39.4 90.7,44.5 97.4,54.8 C104.6,44.5 115.8,39.4 131.1,39.4 Z M202,42.4 L238.4,42.4 L238.4,159.1 L202,159.1 Z M202,0 L238.4,0 L202,36.4 Z M302.6,76.6 C302.6,81.2 311.7,83.8 323,86.8 C339.2,90.3 360.5,98.7 360.3,124 C360.3,136.6 355.6,146.1 346.2,152.6 C336.8,158.9 325.3,162.1 311.5,162.1 C286.9,162.1 270,152.8 261.1,134.5 L291.6,117.3 C294.6,126.3 301.4,131 311.5,131 C319.9,131 324.2,128.7 324.2,123.8 C324.2,119.1 315,116.3 303.8,113.5 C287.6,109.1 266.5,101.2 266.5,77.5 C266.5,65.4 270.9,56.1 279.6,49.4 C288.5,42.6 299.5,39.4 312.4,39.4 C331.9,39.4 348.6,48.2 358.2,64.3 L328.2,80.3 C324.4,73.6 319.2,70.1 312.4,70.1 C305.9,70.1 302.6,72.2 302.6,76.6 Z M480.4,144.5 C468.4,156.3 453.7,162.1 436.3,162.1 C419,162.1 404.2,156.3 392.2,144.5 C380.3,132.6 374.2,118 374.2,100.8 C374.2,83.6 380.3,69.1 392.2,57.3 C404.2,45.4 419,39.4 436.3,39.4 C453.7,39.4 468.4,45.4 480.4,57.3 C492.4,69.1 498.5,83.6 498.5,100.8 C498.5,118 492.4,132.6 480.4,144.5 Z M417.1,120.5 C422.2,125.6 428.6,128.2 436.3,128.2 C444.1,128.2 450.4,125.6 455.5,120.5 C460.7,115.4 463.3,108.9 463.3,100.8 C463.3,92.6 460.7,86.1 455.5,81 C450.4,75.9 444.1,73.3 436.3,73.3 C428.6,73.3 422.2,75.9 417.1,81 C411.9,86.1 409.3,92.6 409.3,100.8 C409.3,108.9 411.9,115.4 417.1,120.5 Z" /></svg>',Gw='<svg viewBox="0 0 16 16"><path d="M8.342 3.652 4.979 5.708a1 1 0 0 0-.479.852v5.561a1 1 0 0 0 .87.992l6.029.79a1 1 0 0 0 1.042-.583l2.534-5.65a1 1 0 0 0-.74-1.394l-3.543-.623.9-3.1A2.097 2.097 0 0 0 10.297 0L8.719 3.237a1 1 0 0 1-.377.415ZM1 6.5a1.5 1.5 0 0 1 3 0v6a1.5 1.5 0 0 1-3 0Z"/></svg>',Kw="banner",Yw="miso-banner";function Zw(t){const{className:e,templates:s}=t;return`<div class="${e}"><div class="${e}__logo">${s.logo(t)}</div></div>`}const Sf=Object.freeze({root:Zw,logo:()=>Ww});class Jw extends ct{static get type(){return Kw}static get defaultTemplates(){return Sf}constructor({className:e=Yw,templates:s,...n}={}){super({className:e,templates:{...Sf,...s},...n})}}function Xw(t,e,s){const n=new Map,i=new Map,r=[];for(let o=0;o<t.length;o++){const c=t[o],a=s[o],u=e[o],l=Object.freeze({index:o,key:c,value:u,element:a});n.set(c,l),i.set(a,l),r.push(l)}return{k2b:n,e2b:i,entries:r}}function Tf(t,e){const s=[];for(const n of e.entries){const i=t.e2b.get(n.element);(!i||i.key!==n.key)&&s.push(n)}return s}class vf{constructor(){this._k2b=new Map,this._e2b=new Map,this._entries=[]}get entries(){return[...this._entries]}get(e){return this._e2b.get(e)||void 0}find(e){return this._k2b.get(e)||void 0}update(e,s,n){const i=Xw(e,s,n),r={k2b:this._k2b,e2b:this._e2b,entries:this._entries},o=Tf(r,i),c=Tf(i,r);return this._k2b=i.k2b,this._e2b=i.e2b,this._entries=i.entries,{bounds:o,unbounds:c}}clear(){const e=this._entries;return this._k2b=new Map,this._e2b=new Map,this._entries=[],{bounds:[],unbounds:e}}}function Uo(t){yn(t,e1.prototype)}class e1{_initTrackable(){this._bindings=new vf,this._viewables=new bf}_syncBindings(e,s){const n=this._getItems(s)||[],i=n.map(a=>this._getItemKey(a)),r=this._getItemElements(e),{bounds:o,unbounds:c}=this._bindings.update(i,n,r);this._onBindingsUpdate(o,c)}_clearBindings(){const{bounds:e,unbounds:s}=this._bindings.clear();this._onBindingsUpdate(e,s)}_getItemKey(e){return e.product_id||e.text||e.id||e}_getItems(e){throw new Error("Not implemented.")}_getItemElements(e){throw new Error("Not implemented.")}_onBindingsUpdate(e,s){this._trackImpressions(e),this._untrackViewables(s),this._trackViewables(e)}_trackImpressions(e){if(e.length===0)return;const{impression:s}=this._view.tracker.options||{};s&&this._view.tracker.impression(e.map(({value:n})=>n))}_untrackViewables(e){for(const{element:s}of e)this._viewables.untrack(s)}_trackViewables(e){if(e.length===0)return;const{viewable:s}=this._view.tracker.options||{};if(s)for(const{value:n,element:i}of e)(async()=>await this._viewables.track(i,s)&&this._view.tracker.viewable([n]))()}_trackClick(e,s){const{click:n}=this._view.tracker.options||{};Tw(n,e)&&(Oo(e),this._view.tracker.click([s.value]))}_destroyTrackable(){const{unbounds:e}=this._bindings.clear();this._untrackViewables(e)}}function t1(t){yn(t,s1.prototype)}class s1{_initTriggerable(){this._trigger=void 0}_syncTrigger(e,s){if(!this.options.infiniteScroll)return;const n=this._view.workflowOptions.pagination;!n.active||n.mode!=="infiniteScroll"||(s.status===j.READY?this._trackTrigger(e):this._untrackTrigger())}async _trackTrigger(e){if(this._trigger)return;const s=e.querySelector('[data-role="trigger"]');if(!s)return;const n=new AbortController;this._trigger=Object.freeze({element:s,ac:n});let i=!1;try{await ao(s,{area:1,duration:0,signal:n.signal}),i=!0}catch(r){if(r.name!=="AbortError")throw r}finally{this._trigger=void 0}i&&this._onTrigger()}_onTrigger(){this._view.hub.trigger(To())}_untrackTrigger(){this._trigger&&(this._trigger.ac&&this._trigger.ac.abort(),this._trigger=void 0)}_destroyTriggerable(){this._untrackTrigger()}}function n1(t,e){const{className:s,role:n,templates:i,options:r}=t,{status:o}=e,c=n?` data-role="${n}"`:"",a=r.itemType?` data-item-type="${r.itemType}"`:"";return`<div class="${s} ${o}"${c}${a}>${o===j.READY?i[o](t,e):""}${i.trigger(t,e)}${i.loading(t,e)}</div>`}function i1(t,e){const{templates:s}=t,n=t._getItems(e)||[];return n.length>0||e.ongoing?s.body(t,e,n):s.empty(t,e)}function r1(t,e,s){return t.templates.list(t,e,s)}function o1(t,e,s){const{className:n,templates:i,options:r}=t,o=i.ordered?"ol":"ul",c=r.itemType?` data-item-type="${r.itemType}"`:"";return`<${o} class="${n}__list" data-role="list"${c}>${i.items(t,e,s)}</${o}>`}function c1(t,e,s,{offset:n=0}={}){const{templates:i}=t;let r=n;return s.map(o=>i.item(t,e,o,r++)).join("")}function a1(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r[c](t,e,s,{index:n});return`<li class="${i}__item">${a}</li>`}function l1(t,e){const{className:s}=t;return`<div class="${s}__trigger" data-role="trigger"></div>`}function u1(){return'<div class="miso-loading" aria-label="Loading" data-role="loading"></div>'}const Af=Object.freeze({product:Rw,article:kw,compactArticle:af,image:$w,question:Lw,root:n1,[j.READY]:i1,empty:()=>"",body:r1,list:o1,ordered:!1,items:c1,item:a1,productInfoBlock:xo,articleInfoBlock:lf,compactArticleInfoBlock:Ro,imageInfoBlock:uf,brandBlock:ff,titleBlock:xs,descriptionBlock:zi,dateBlock:Lo,authorsBlock:df,authorsAndDateBlock:hf,priceBlock:ko,discountRateText:_f,ctaBlock:No,cta:Uw,imageBlock:Rs,indexBlock:$o,trigger:l1,loading:u1});class Xe extends ct{static get defaultTemplates(){return Af}constructor({templates:e,itemType:s="product",...n}){super({templates:{...Af,...e},itemType:s,...n}),this._initTrackable(),this._initTriggerable()}initialize(e){this._unsubscribes.push(e.proxyElement.on("click",this._onClick.bind(this)))}_preprocess({state:e,rendered:s}){const n=this._shallRenderIncrementally(e,s),i=this._html(e,s,n);return{...e,incremental:n,html:i}}_shallRenderIncrementally(e,s){return this.options.incremental&&s&&s.value&&s.value.length>0&&e.value&&e.value.length>=s.value.length&&e.session&&s.session&&e.session.id===s.session.id}_html(e,s,n){if(n){const i=s.value.length,r=(this._getItems(e)||[]).slice(i);return r.length>0?this.templates.items(this,e,r,{offset:i}):""}else return this.templates.root(this,e)}_render(e,{state:s},{notifyUpdate:n}){const{incremental:i,html:r}=s;i?r?this._getListElement(e).insertAdjacentHTML("beforeend",r):n(!1):e.innerHTML=r}_afterRender(e,s){this._syncBindings(e,s),this._syncTrigger(e,s)}_unrender(){this._clearBindings(),this._untrackTrigger()}_getItems(e){return e.value&&(e.value.products||e.value)}_getListElement(e){return e.querySelector('[data-role="list"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="item"]')):[]}_onClick(e){const s=e.target.closest('[data-role="item"]');if(!s)return;const n=this._bindings.get(s);n&&(this._trackClick(e,n),this._emitClickEvent(e,n))}_emitClickEvent(e,s){const{session:n}=this._view._state,{value:i,element:r}=s;this._view._events.emit("click",{session:n,value:i,element:r,domEvent:e})}destroy(){this._destroyTrackable(),this._destroyTriggerable(),this._view=void 0,super.destroy()}}Uo(Xe.prototype),t1(Xe.prototype);const f1="list",Of="miso-list";class Ls extends Xe{static get type(){return f1}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return Of}constructor({className:e=Of,...s}={}){super({className:e,...s})}}const d1="horizontal",Cf="miso-horizontal";class If extends Xe{static get type(){return d1}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return Cf}constructor({className:e=Cf,...s}={}){super({className:e,...s})}}const h1="cards",xf="miso-cards";class _1 extends Xe{static get type(){return h1}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return xf}constructor({className:e=xf,...s}={}){super({className:e,...s})}}function Rf(t,e,s){s===void 0?t.removeAttribute(e):t.setAttribute(e,s)}function ks(t,e,s){s?t.classList.add(e):t.classList.remove(e)}function p1(t){if(typeof t=="number")return t;const[e,s]=m1(t);switch(s){case"":case"px":return e;case"rem":return g1(e);default:throw new Error(`Unsupported unit: ${s}`)}}function m1(t){const e=t.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*)$/);if(!e)throw new Error(`Invalid length: ${t}`);const s=parseFloat(e[1]),n=e[2]||"";return[s,n]}function g1(t=1){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function Do(t){return t===void 0||t instanceof Lf?t:new Lf(t)}class Lf{constructor(e){switch(this._width=NaN,this._height=NaN,typeof e){case"number":this._width=e,this._height=1;break;case"object":Array.isArray(e)&&(this._width=parseFloat(e[0]),this._height=parseFloat(e[1]));break;case"string":const s=e.indexOf("/");s<0?(this._width=parseFloat(e),this._height=1):(this._width=parseFloat(e.slice(0,s).trim()),this._height=parseFloat(e.slice(s+1).trim()));break}if(this._width===NaN||this._height===NaN)throw new Error(`Invalid aspect ratio value: ${e}`)}get width(){return this._width}get height(){return this._height}get floatValue(){return this._width/this._height}scaleBy(e){return e=Do(e),Do([e._width*this._width,e._height*this._height])}toString(){return this._height===1?`${this._width}`:`${this._width} / ${this._height}`}}function b1(t){yn(t,y1.prototype)}class y1{_initSwipeable(){this._swipeableContext={itemCount:void 0,itemIndex:void 0,displayedCount:void 0,displayedIndex:void 0,displayEventIndex:void 0}}get itemIndex(){return this._swipeableContext.itemIndex}set itemIndex(e){const s=this._swipeableContext;s.itemCount!==void 0&&(e<0?e=s.itemCount-1:e>=s.itemCount&&(e=0),s.itemIndex=e,ki(()=>this._syncDisplayedSwipeableItemIndex()))}next(){this._swipeableContext.itemCount!==void 0&&this.itemIndex++}previous(){this._swipeableContext.itemCount!==void 0&&this.itemIndex--}_renderSwipeable(e,s,n){this._syncSwipeableItemCount(s),this._syncDisplayedSwipeableItemCount(),this._syncDisplayedSwipeableItemIndex()}_afterRenderSwipeable(){this._emitSwipeableDisplayEvent()}_syncSwipeableItemCount({state:e}={}){const s=this._swipeableContext,n=this._getItems(e),i=s.itemCount,r=s.itemCount=n?n.length:void 0;r!==i&&(r===void 0?s.itemIndex=void 0:i===void 0&&(s.itemIndex=0))}_syncDisplayedSwipeableItemCount(){const e=this._swipeableContext,{itemCount:s}=e;if(s===e.displayedCount)return;let{element:n}=this._view;n=n.firstElementChild,n&&(Rf(n,"data-item-count",s),e.displayedCount=s)}_syncDisplayedSwipeableItemIndex(){const e=this._swipeableContext,{itemIndex:s}=e;s!==e.displayedIndex&&(e.displayedIndex=s,this._syncSwipeableListIndex(s),this._syncSwipeableIndicatorIndex(s))}_syncSwipeableListIndex(e){const{element:s}=this._view,n=s&&this._getListElement(s);n&&(n.style.left=`${-e*100}%`)}_syncSwipeableIndicatorIndex(e){const{element:s}=this._view,n=s&&this._getSwipeableIndicatorElement(s);if(!n)return;let i=0;for(const r of n.children)ks(r,"active",i===e),i++}_getSwipeableIndicatorElement(e){return e.querySelector('[data-role="index-indicator"]')}_emitSwipeableDisplayEvent(){const e=this._swipeableContext,s=e.displayedIndex;e.displayEventIndex!==s&&(e.displayEventIndex=s,this._view._events.emit("display",{index:s}))}_onClickSwipeable(e){const{target:s}=e;s.closest('[data-role="previous"]')&&(e.preventDefault(),this.previous()),s.closest('[data-role="next"]')&&(e.preventDefault(),this.next())}}const w1="1.12.7";function E1(t){const s=t*Math.tan(3*Math.PI/8),n=s*Math.sin(Math.PI/4);return`M${t} 0L${100-s} 0A${t} ${t} 0 0 1 ${100-n} ${n}L${n} ${100-n}A${t} ${t} 0 0 1 0 ${100-s}L0 ${t}Z`}const Dt="miso-ui-icon",kf=`${Dt}-svg-${w1.replaceAll(".","_")}`,et={SEND:"send",SEARCH:"search",TRIANGLE:"triangle",TRIANGLE_EQ:"triangle-eq",CHEVRON:"chevron",CHEVRON_NEGATIVE:"chevron-negative",BULB:"bulb"},S1=`<symbol id="${Dt}-${et.SEND}" viewBox="0 0 32 32"><path fill="currentColor" d="M11.499,19.173l5.801,-5.849c0.389,-0.392 1.022,-0.394 1.414,-0.006c0.392,0.389 0.395,1.022 0.006,1.414l-5.798,5.847l5.306,8.002c0.207,0.313 0.572,0.483 0.945,0.441c0.373,-0.042 0.691,-0.289 0.824,-0.64l9.024,-23.904c0.138,-0.366 0.05,-0.78 -0.226,-1.058c-0.276,-0.278 -0.689,-0.369 -1.057,-0.233l-24.004,8.892c-0.353,0.13 -0.602,0.448 -0.646,0.821c-0.044,0.373 0.125,0.74 0.438,0.948l7.973,5.325Z"/></symbol>`,T1=`<symbol id="${Dt}-${et.SEARCH}" viewBox="0 0 24 24"><path fill="currentColor" d="M4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11C18 14.866 14.866 18 11 18C7.13401 18 4 14.866 4 11ZM11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C13.125 20 15.078 19.2635 16.6177 18.0319L20.2929 21.7071C20.6834 22.0976 21.3166 22.0976 21.7071 21.7071C22.0976 21.3166 22.0976 20.6834 21.7071 20.2929L18.0319 16.6177C19.2635 15.078 20 13.125 20 11C20 6.02944 15.9706 2 11 2Z"/></symbol>`,v1=`<symbol id="${Dt}-${et.TRIANGLE}" viewBox="-5 -5 105 105"><path d="${E1(5)}"/></symbol>`,A1=`<symbol id="${Dt}-${et.TRIANGLE_EQ}" viewBox="-100 -100 200 200"><path d="M12.99 -77.5A15 15,0,0,0,-12.99 -77.5L-73.61 27.5A15 15,0,0,0,-60.62 50L60.62 50A15 15,0,0,0,73.61 27.5L12.99 -77.5Z"/></symbol>`,O1=`<symbol id="${Dt}-${et.CHEVRON}" viewBox="-100 -100 200 200"><path d="M10.61 -43.94A15 15,0,0,0,-10.61 -43.94L-60.61 6.06A15 15,0,0,0,-39.39 27.27L0 -12.12L39.39 27.27A15 15,0,0,0,60.61 6.06L10.61 -43.94Z"/></symbol>`,C1=`<symbol id="${Dt}-${et.CHEVRON_NEGATIVE}" viewBox="-100 -100 200 200"><path d="M100 100V-200H-200V200H200ZM-10.61 -43.94A15 15,0,0,1,10.61 -43.94L60.61 6.06A15 15,0,0,1,39.39 27.27L0 -12.12L-39.39 27.27A15 15,0,0,1,-60.61 6.06L-10.61 -43.94Z"/></symbol>`,I1=`<symbol id="${Dt}-${et.BULB}" viewBox="0 0 16 16"><path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1"/></symbol>`,x1=`<svg id="${kf}" style="display:none;">${[S1,T1,v1,A1,O1,C1,I1].join("")}</svg>`;let $f=!1;function R1(){$f||document.head.querySelector(`#${kf}`)||($f=!0,document.head.insertAdjacentHTML("beforeend",x1))}R1();function vn(t){return`<svg class="miso-ui-icon miso-ui-icon-${t}"><use href="#${Dt}-${t}"></use></svg>`}const L1=new Set(Object.values(et));function k1(t){return L1.has(t)?vn(t):""}const $1=vn(et.TRIANGLE),Nf=vn(et.CHEVRON),N1=vn(et.CHEVRON_NEGATIVE),P1=vn(et.BULB),U1="carousel",Pf="miso-carousel",Uf=Object.freeze({body:F1,controls:M1,controlContainer:j1,control:q1,controlIcon:B1,indexIndicator:z1,indexIndicatorItem:()=>"",trigger:()=>""}),D1=Object.freeze({...Xe.defaultTemplates,...Uf});function F1(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__viewport"><div class="${n}__viewport-inner">${i.list(t,e,s)}</div></div>${i.controls(t,e,s)}`}function M1(t,e,s){const{templates:n}=t;return`${n.controlContainer(t,e,"previous")}${n.controlContainer(t,e,"next")}${n.indexIndicator(t,e,s)}`}function j1(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-container-${s}">${i.control(t,e,s)}</div>`}function q1(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}" data-role="${s}">${i.controlIcon(t,e,s)}</div>`}function B1(t){return t.options.itemType==="image"?N1:Nf}function z1(t,e,s){const{className:n,templates:i}=t;return`<ul class="${n}__index-indicator" data-role="index-indicator">${s.map(r=>`<li class="${n}__index-indicator-item">${i.indexIndicatorItem(t,e,r)}</li>`).join("")}</ul>`}class Df extends Xe{static get type(){return U1}static get defaultTemplates(){return D1}static get defaultClassName(){return Pf}constructor({className:e=Pf,templates:s,...n}={}){super({className:e,templates:{...Uf,...s},...n}),this._initSwipeable()}_render(e,s,n){super._render(e,s,n),this._renderSwipeable(e,s,n)}_afterRender(e,s){super._afterRender(e,s),this._afterRenderSwipeable(e,s)}_onClick(e){this._onClickSwipeable(e),super._onClick(e)}}b1(Df.prototype);function H1(t,e){const s=e*2;let n=Math.max(s-t,0),i=t;const r=Math.min(Math.floor(n/3),i);i-=r,n-=r*3;const o=Math.min(n,i);return i-=o,n-=o,[r,o,i]}function V1(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r[c](t,e,s,{index:n}),u=s._size?` ${i}__item-${s._size}`:"";return`<li class="${i}__item${u}">${a}</li>`}const Q1="16rem",Ff=Object.freeze({...Xe.defaultTemplates,item:V1}),W1="gallery",Mf="miso-gallery";class jf extends Xe{static get type(){return W1}static get defaultTemplates(){return Ff}static get defaultClassName(){return Mf}constructor({className:e=Mf,templates:s,...n}={}){super({className:e,templates:{...Ff,...s},...n}),this._galleryContext={itemAspectRatio:void 0,itemCount:void 0,columnCount:void 0}}syncSize(){const{element:e}=this._view,s=e&&this._getListElement(e);s&&(this._syncListAspectRatio(s),this._syncItemSizes(s))}_preprocess({state:e,rendered:s}){const n=this._shallRenderIncrementally(e,s),i=n?void 0:this._bodyHtml(e),r=this._itemsHtml(e,s);return{...e,...W({incremental:n,bodyHtml:i,itemsHtml:r})}}_bodyHtml(e){return this.templates.root(this,{...e,value:[]})}_itemsHtml(e,s){const n=s&&s.value&&s.value.length||0,i=(this._getItems(e)||[]).slice(n);return i.length>0?this.templates.items(this,e,i,{offset:n}):""}_render(e,s,n){this._syncItemCount(s),this._syncCssVariables();const i=this._renderListElement(e,s,n);i&&(this._syncListAspectRatio(i),this._renderItems(i,s,n))}_renderListElement(e,{state:s}){const{incremental:n,bodyHtml:i}=s;return n||(e.innerHTML=i),this._getListElement(e)}_renderItems(e,s){s.state.incremental?this._appendItems(e,s):this._updateItems(e,s)}_updateItems(e,{state:s}){const{itemSizes:n}=this._galleryContext,i=this._writeItemSizes(this._getItems(s)||[],n);e.innerHTML=this.templates.items(this,s,i)}_appendItems(e,{state:s}){const{itemSizes:n}=this._galleryContext;this._syncItemSizes(e);const i=e.children.length,r=this._writeItemSizes((this._getItems(s)||[]).slice(i),n,i);e.insertAdjacentHTML("beforeend",this.templates.items(this,s,r,{offset:i}))}_writeItemSizes(e,[s=0,n=0]=[],i=0){let r=0;i>0&&(r=Math.min(i,s),i-=r,s-=r),i>0&&(r=Math.min(i,n),i-=r,n-=r);const o=[];for(const c of e){let a="small";s>0?(a="large",s--):n>0&&(a="medium",n--),o.push({...c,_size:a})}return o}_syncCssVariables(){const e=this._galleryContext;let{itemAspectRatio:s=1}=this.options;s=e.itemAspectRatio=Do(s);const{element:n}=this._view;n&&(n.style.setProperty("--miso-gallery-item-1x1-aspect-ratio",`${s}`),n.style.setProperty("--miso-gallery-item-1x2-aspect-ratio",`${s.scaleBy([1,2])}`))}_syncListAspectRatio(e){const s=this._galleryContext,{itemCount:n,itemAspectRatio:i}=s,{height:r=Q1}=this.options,o=p1(r),c=e.clientWidth;if(c===0){s.columnCount=void 0,s.itemSizes=void 0;return}const a=s.columnCount=Math.round(c*i.width*2/(o*i.height));s.itemSizes=H1(n,a),e.style.aspectRatio=`${a} / 2`,e.style.height=n>0?"auto":"0"}_syncItemCount({state:e}={}){const s=this._getItems(e);this._galleryContext.itemCount=s?s.length:void 0}_syncItemSizes(e){const{itemSizes:s=[]}=this._galleryContext;let[n=0,i=0]=s;const{className:r}=this;for(const o of e.children){let c=!1,a=!1;n>0?(c=!0,n--):i>0&&(a=!0,i--),ks(o,`${r}__item-large`,c),ks(o,`${r}__item-medium`,a),ks(o,`${r}__item-small`,!c&&!a)}}}const G1="search-box",qf="miso-search-box",K1="miso-autocomplete";function Y1(t){const{className:e,templates:s,role:n,options:i,autocomplete:r}=t,{placeholder:o}=i,c=n?`data-role="${n}"`:"";return`
<div class="${e}" ${c}>
  <div class="${e}__input-group">
    <input class="${e}__input" type="text" data-role="input" ${o?`placeholder="${o}"`:""}>
    <button class="${e}__button" type="submit" data-role="submit">${s.buttonContent(t)}</button>
  </div>
  <div class="${r.className}" data-role="autocomplete"></div>
</div>`.trim()}function Z1(t){const{templates:e,options:s}=t;if(s.buttonText)return s.buttonText;const{buttonText:n,buttonIcon:i}=e,r=typeof n=="function"?n(t):`${n}`,o=typeof i=="function"?i(t):k1(i)||`${i}`;return r+o}function J1(t,e){const{templates:s,workflow:n,autocomplete:i}=t;t={templates:s,workflow:n,...i};const r=[],o=[];for(const c of e)(c.product?r:o).push(c);return s.queries(t,o)+(o.length>0&&r.length>0?"<hr>":"")+s.products(t,r)}function X1(t,e){const{templates:s}=t;return s.completionList(t,"query",e)}function eE(t,e){const{templates:s}=t;return s.completionList(t,"product",e)}function tE(t,{text:e,text_with_inverted_markups:s}={}){return s||ot(e)}function sE(t,{product:e}){const{templates:s}=t,[n,i]=s.helpers.tagPair(t,e,{role:!1});return[n,s.imageBlock(t,e),s.productInfoBlock(t,e),i].join("")}function nE(t,e,s){const{className:n,templates:i}=t;return`<ul class="${n}__${e}-list" data-role="${e}-list">${s.map(r=>i.completionItem(t,e,r)).join("")}</ul>`}function iE(t,e,s){const{className:n,templates:i}=t;return`
<li class="${n}__${e}-item" data-role="${e}-item" data-index="${s._index}" tabindex="0">
  ${i[e](t,s)}
</li>`.trim()}const Bf=Object.freeze({root:Y1,buttonContent:Z1,buttonText:"",buttonIcon:"search",completions:J1,completionList:nE,completionItem:iE,queries:X1,products:eE,query:tE,product:sE,imageBlock:Rs,productInfoBlock:xo}),rE=Object.freeze({className:K1,debounce:300});class $s extends ct{static get type(){return G1}static get defaultTemplates(){return Bf}static get defaultClassName(){return qf}constructor({className:e=qf,templates:s,autocomplete:n,...i}={}){super({className:e,templates:{...Bf,...s},...i}),fe(this,{autocomplete:{...rE,...n}}),this._contexts=new WeakMap,this._prevInput=void 0,this._debounce=iu(this.autocomplete.debounce)}initialize(e){const{proxyElement:s,hub:n}=e;this._unsubscribes=[...this._unsubscribes,s.on("input",i=>this._syncInput(i)),s.on("keydown",i=>this._handleKeyDown(i)),s.on("click",i=>this._handleClick(i)),s.on("focusin",i=>this._handleFocusIn(i)),s.on("focusout",i=>this._handleFocusOut(i)),n.on(wo(),()=>e.refresh({force:!0}))]}focus(){this._element?this._context().focus():this._focusRequested=!0}open(){this._element.classList.add("open")}close(){this._element.classList.remove("open")}set value(e){this._element?this._context().value=e:this._valueRequested=e}_preprocess({state:e}){return e=super._preprocess({state:e}),{...e,completions:this._view.hub.states[wo()]}}_render(e,s,n){e.childElementCount===0&&super._render(e,s,n),this._updateCompletions(e,s,n)}_afterRender(e,s){this._fullfillFocusRequest(e),this._fullfillValueRequest(e)}_updateCompletions(e,{state:s,rendered:n},{writeToState:i}){if(!s.completions)return;const{status:r=j.INITIAL,session:o,value:c}=s.completions,{index:a}=o;if(n&&n.completions.index===a&&n.completions.status===r)return;const u=this._context(e),{autocompleteElement:l}=u;if(!l)return;const f=u.trackItems(c);ks(e,"nonempty",f.length>0),l.setAttribute("data-status",r),l.innerHTML=this.templates.completions(this,f),i({completions:{index:a,status:r}})}_fullfillFocusRequest(e){!e||!this._focusRequested||(this._focusRequested=!1,this._context(e).focus())}_fullfillValueRequest(e){!e||!this._valueRequested||(this._context(e).value=this._valueRequested,this._valueRequested=void 0)}_context(e){if(e=e||this._view.element,!e)return Ns.empty();let s=this._contexts.get(e);return s||this._contexts.set(e,s=new Ns(e)),s}_syncInput(){const{inputElement:e}=this._context();if(!e)return;const s=e.value.trim();if(this._prevInput===s)return;this._prevInput=s;const n=this;this._debounce(()=>n._view.hub.update(Yu(),{value:s}))}_handleFocusIn({target:e}){this._element&&e.matches('[data-role="input"]')&&(this._syncInput(),this.open())}_handleFocusOut({relatedTarget:e}){this._element&&(!e||!co(e,s=>s===this._element||void 0))&&this.close()}_handleKeyDown({key:e,target:s,isComposing:n}){!n&&e==="Enter"&&s.matches('[data-role="input"]')&&(this._submit(s.value),s.blur())}_handleClick(e){const{target:s}=e,{inputElement:n}=this._context();for(let i=s;i&&i!==this._element;i=i.parentElement){if(i.matches('[data-role="submit"]')||i.matches('[data-role="button"]')||i.matches('[type="submit"]')){n&&(n.blur(),this._submit(n.value));return}if(i.matches('[data-role="query-item"]')){const r=i.getAttribute("data-index"),o=this._context().data.get(parseInt(r)),c=o&&o.text;c&&(n&&(n.value=c),this._view._events.emit("select",Object.freeze({value:o,index:r,domEvent:e})),e.defaultPrevented||this._submit(c)),this.close();return}if(i.matches('[data-role="product-item"]')){this._view._events.emit("select",Object.freeze({value:item,index,domEvent:e}));return}}}async _submit(e){!e||!e.trim()||(this.close(),this._view.hub.update(Yt(),{q:e}),this._trackSubmit(e))}_trackSubmit(e){const{[De.SUBMIT]:s}=this._view.tracker.options||{};s&&this._view.tracker.submit({value:e})}}class Ns{static empty(){return Ns._empty||(Ns._empty=new Ns)}constructor(e){this._element=e,this._cache={},this._data=new Map}get inputElement(){return this._get("input")}get autocompleteElement(){return this._get("autocomplete")}get data(){return this._data}trackItems(e){let s=0;const n=this._data=new Map,i=[];for(const r in e)for(const o of e[r])o.product&&!o.product.url||(o._index=s,o._field=r,n.set(s,o),i.push(o),s++);return i}focus(){if(!this._element)return;const{inputElement:e}=this;e&&e.focus()}set value(e){if(!this._element)return;const{inputElement:s}=this;s&&(s.value=e)}_get(e){return this._element?this._cache[e]||(this._cache[e]=this._element.querySelector(`[data-role="${e}"]`)):void 0}}const oE="option-list",zf="miso-option-list";function cE(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"";return`
<div class="${s}" ${r}>
  ${i.options(t,e)}
</div>
`}function aE(t,e){const{className:s,templates:n}=t,i=e.value||[];return`
<ol class="${s}__options" data-role="options">
  ${i.map((r,o)=>n.option(t,r,{index:o})).join("")}
</ol>
`}function lE(t,e){const{className:s}=t,n=ot(e.text||e);return`<li class="${s}__option" data-role="option" tabindex="0">${n}</li>`}const Hf=Object.freeze({root:cE,options:aE,option:lE});class Vi extends ct{static get type(){return oE}static get defaultTemplates(){return Hf}static get defaultClassName(){return zf}constructor({className:e=zf,templates:s,...n}={}){super({className:e,templates:{...Hf,...s},...n}),this._initTrackable()}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",n=>this._handleClick(n))]}_render(e,s,n){super._render(e,s,n);const{state:i}=s;this._syncOptionValues(e,i)}_afterRender(e,s){this._syncBindings(e,s)}_unrender(){this._clearBindings()}_syncOptionValues(e,s){const n=e&&this._getOptionsElement(e);if(!n)return;const i=this._getItems(s)||[];ks(n,"empty",i.length===0)}_getItems(e){return e.value}_getOptionsElement(e){return e.querySelector('[data-role="options"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="option"]')):[]}_handleClick(e){const s=e.target.closest('[data-role="option"]');if(!s)return;const n=this._bindings.get(s),i=n&&n.value;i&&(this._trackClick(e,n),this._select(i.text))}async _select(e){e&&this._view._events.emit("select",{value:e})}destroy(){this._destroyTrackable(),super.destroy()}}Uo(Vi.prototype);function uE(t){const{className:e,role:s,templates:n}=t,i=s?`data-role="${s}"`:"";return`
<div class="${e}" ${i}>
  ${n.options(t)}
</div>
`}function fE(t,e){const{className:s,templates:n}=t;return`
<div role="button" class="${s}__option" data-value="${e.value}">
  ${n.content(t,e)}
</div>
`}const Vf=Object.freeze({...cf("options"),root:uE,option:fE});class dE extends ct{static get defaultTemplates(){return Vf}constructor({className:e,templates:s,field:n,defaultValue:i,...r}={}){super({className:e,templates:{...Vf,...s},...r}),this._field=n,this._defaultValue=i}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,e.hub.on(this._field,()=>this._refresh()),s.on("click",n=>this._handleClick(n))],this._defaultValue?this._select(this._defaultValue,{silent:!0}):this._clear({silent:!0})}_preprocess(e,s){return e.rendered&&s.skip(),super._preprocess(e,s)}_handleClick({target:e}){const s=co(e,o=>o.hasAttribute("data-value")?o:void 0);if(!s)return;let{unselected:n,value:i}=this._view.hub.states[this._field];n=n||i===void 0;const r=s.getAttribute("data-value");n||i===void 0||i!==r?this._select(r):this._clear()}_refresh(){this._state=this._view.hub.states[this._field],ki(()=>this._syncValueAttribute())}_syncValueAttribute(){if(!this._state||!this._view)return;const{element:e}=this._view,s=e&&e.children[0];if(!s)return;let{unselected:n,value:i}=this._state;n?s.removeAttribute("data-selected"):s.setAttribute("data-selected",i),this._state=void 0}_select(e,s){this._submit({value:e},s)}_clear(e){this._submit({unselected:!0},e)}async _submit(e,s){this._view.hub.update(this._field,e,s)}}const hE="feedback",Qf="miso-feedback",_E=["helpful","unhelpful"];function pE(t){const{templates:e}=t;return _E.map(s=>e.option(t,{value:s})).join("")}function mE(t,{value:e}){const{className:s,templates:n,options:i={}}=t;return`
${i.icon!==!1?`<i class="${s}__icon">${n.icon(t,e)}</i>`:""}
${i.text!==!1?`<span class="${s}__text">${n.text(t,e)}</span>`:""}
`}function gE(t,e){switch(e){case"helpful":case"unhelpful":return Gw;default:return""}}function bE(t,e){switch(e){case"helpful":return"Helpful";case"unhelpful":return"Not helpful";default:return""}}const Wf=Object.freeze({options:pE,content:mE,icon:gE,text:bE});class Gf extends dE{static get type(){return hE}static get defaultTemplates(){return Wf}static get defaultClassName(){return Qf}constructor({className:e=Qf,templates:s,...n}={}){if(super({className:e,templates:{...Wf,...s},field:Ku(),...n}),n.text===!1&&n.icon===!1)throw new Error("At least one of options.text or options.icon must be enabled")}}const yE="text",Kf="miso-text";function wE(t,{value:e}){const{className:s,role:n,options:{raw:i=!1,tag:r}}=t,o=n?`data-role="${n}"`:"",c=e!==void 0?ot(EE(t)(e)):"";return i?c:`<${r} class="${s}" ${o}>${c}</${r}>`}function EE(t){let{format:e}=t.options;const{formatDate:s,formatNumber:n}=t.templates.helpers;if(!e)return o=>`${o}`;switch(typeof e){case"function":return e;case"string":e=[e];break}let[i,r]=e;switch(i){case"date":return o=>s(o,r);case"number":return o=>n(o,r);default:return o=>`${o}`}}const Yf=Object.freeze({root:wE});class An extends ct{static get type(){return yE}static get defaultTemplates(){return Yf}static get defaultClassName(){return Kf}constructor({className:e=Kf,templates:s,tag:n="p",...i}={}){super({className:e,templates:{...Yf,...s},tag:n,...i})}}class SE extends Io{constructor(e){super(e)}_takePending(){return this._pending}_applyRender(e,s={}){const n=Ni(!1);super._applyRender(e,{...s,loop:n.t}),n.value&&this._requestRaf()}}class TE{clear(e){return e.innerText="",{cursor:0,done:!1}}update(e,{value:s,cursor:n},{value:i,cursor:r,done:o}){const c=i.length;r=Math.min(r,c);const a=!!o&&r===c,u=s.substring(0,n),l=!i.startsWith(u);return a||l?e.innerText=i:e.insertAdjacentText("beforeend",i.substring(n,r)),a&&e.classList.add("done"),{cursor:r,done:a}}}function vE(t,e,{status:s}){if(!e)return;e.children.length===0&&(e.innerHTML=AE(t));const n=e.children[0];return n.setAttribute("data-status",s||j.INITIAL),n}function AE(t){let{className:e,role:s,options:{tag:n,format:i,builtInStyles:r=!0}}=t;n==="auto"&&(n=i==="markdown"?"div":"p");const o=s?`data-role="${s}"`:"",c=[e,Zf(e)];return r&&i==="markdown"&&c.push("miso-markdown"),`<${n} class="${c.join(" ")}" ${o} data-format="${i}"></${n}>`}function Zf(t){return`${t}__cursor`}function OE(t,e){return t&&e&&t.session&&e.session&&t.session.uuid===e.session.uuid}function CE(t){if(t===!0)return IE();if(t){if(typeof t=="function")return t;throw new Error("onDebug must be a function or a boolean")}}function IE(t=performance.now()){return function({summary:e,timestamp:s,elapsed:n,ref:i,operation:r,conflict:o}){MisoClient.debug("<progressive-markdown>",`[${xE(s-t)}](${Jf(n[0])}, ${Jf(n[1])})`,e,`${r}`,i,o)}}function xE(t){return`${Math.floor(t)/1e3}s`}function Jf(t){return`${Math.floor(t*100)/100}ms`}const RE="typewriter",Xf="miso-typewriter";class On extends SE{static get type(){return RE}static get defaultClassName(){return Xf}constructor({className:e=Xf,tag:s="auto",format:n="markdown",tooltip:i=!1,speed:r,acceleration:o,nextCursorFn:c,...a}={}){super({tag:s,format:n,tooltip:i,...a}),fe(this,{className:e}),this._prevState=void 0,this._getNextCursor=typeof c=="function"?c:lb({speed:r,acceleration:o}),this._readiness=new kt,n==="markdown"&&On.MisoClient.plugins.install("std:ui-markdown")}initialize(){this._setup()}async _setup(){try{switch(this.options.format){case"plaintext":await this._setupForPlaintext();break;default:await this._setupForMarkdown()}this._readiness.resolve()}catch(e){this._readiness.reject(e)}}async _setupForMarkdown(){const e=await this._view._views._extensions.require("markdown");if(!this._view)return;const s=Zf(this.className),{onDebug:n,onCitationLink:i,variant:r}=this.options;this._renderer=e.createRenderer({cursorClass:s,getSource:o=>this._getSource(o),onCitationLink:i,onDebug:CE(n),variant:r}),this._unsubscribes.push(this._view.proxyElement.on("click",o=>this._onClick(o)))}_getSource(e){const{data:s={}}=this._view._data,{sources:n=[]}=s;return n[e]}async _setupForPlaintext(){this._renderer=new TE}async _ready(){return this._readiness.promise}async render(...e){await this._ready(),await super.render(...e)}_preprocess({state:e}){const s=this._prevState,{value:{value:n="",stage:i,finished:r}={},session:o,status:c}=e,a=OE(s,e),u=a&&i===s.stage,l=s?u?s.streak:s.streak+1:0,f=a&&s&&s.doneAt||(c===j.READY&&r?performance.now():void 0),p=f!==void 0;return this._prevState=Object.freeze(W({session:o,status:c,value:n,stage:i,streak:l,doneAt:f,done:p}))}_render(e,{state:s,rendered:n},{notifyUpdate:i,writeToState:r,loop:o}){const c=vE(this,e,s);let a;const u=!n||s.streak!==n.streak;if(u)a=this._renderer.clear(c,n);else{const p=this._getNextCursor(n.cursor,s.doneAt,n.timestamp,s.timestamp);a=this._renderer.update(c,n,{...s,cursor:p})}r(a);const l=s.status===j.READY&&!a.done,f=l&&(!n||n.status===j.READY)&&!u;i({ongoing:l},{silent:f}),l&&o()}_onClick(e){const{target:s}=e,n=s.closest('[data-role="citation-link"]');if(n){const o=parseInt(n.dataset.index);Number.isNaN(o)||this._view._events.emit("citation-click",{event:e,index:o});return}const i=s.closest('[data-role="follow-up-link"]');if(i){let{q:o}=i.dataset;o=o?o.trim():void 0,o&&this._view._events.emit("follow-up-click",{event:e,q:o});return}const r=s.closest("a");if(r){if(!e.defaultPrevented){const{href:o,innerText:c,className:a}=r;o&&this._view._events.emit("link-click",W({event:e,url:o,text:c?c.trim():"",className:a||"",attributes:LE(r)}))}return}}}function LE(t){const{attributes:e}=t,s={};for(const{name:n,value:i}of e)n.startsWith("data-")&&(s[n]=i);try{return JSON.stringify(s)}catch{return"{}"}}const kE="affiliation",ed="miso-affiliation";function $E(t,e){const{className:s,role:n,templates:i,options:r}=t,{status:o}=e,c=n?` data-role="${n}"`:"",a=e.value||{},u=a.channel?` data-channel="${a.channel}"`:"",l=t._getItems(e),f=l?l.length:void 0,p=f!==void 0?` data-item-count="${f}"`:"",g=r.itemType?` data-item-type="${r.itemType}"`:"";return`<div class="${s} ${o}"${c}${u}${g}${p}>${o===j.READY?i[o](t,e):""}</div>`}function NE(t,e){const{templates:s}=t,n=t._getItems(e);return n&&n.length>0?s.controlContainer(t,e,"previous")+s.body(t,e)+s.controlContainer(t,e,"next"):s.empty(t,e)}function PE(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}-container">${i.control(t,e,s)}</div>`}function UE(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}" data-role="${s}">${i.controlIcon(t,e,s)}</div>`}function DE(t,e,s){return $1}function FE(t,e){const{className:s,templates:n}=t,i=t._getItems(e);return`<div class="${s}__body">${n.list(t,e,i)}</div>`}function ME(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r.itemHeader(t,e,s,{index:n}),u=r[c](t,e,s,{index:n});return`<li class="${i}__item"><div class="${i}__item-inner">${a}${u}</div></li>`}function jE(t,e,s,n){const{className:i,templates:r}=t;let{itemHeaderLeftText:o,itemHeaderRightText:c}=r;return o=Ut.asFunction(o)(t,e,s,n),c=Ut.asFunction(c)(t,e,s,n),`<div class="${i}__item-header">
  <div class="${i}__item-header-left">${o}</div>
  <div class="${i}__item-header-right">${c}</div>
</div>`}function qE(t,e,s,n){const{className:i,templates:r}=t,o=Ut.asFunction(r.logoText)(t,e,s,n)||"",c=Ut.asFunction(r.logoImg)(t,e,s,n);return c?`<span class="${i}__item-header-logo-text">${o}</span>${c}`:""}function BE(t,e,s,n){const{className:i,templates:r}=t,o=Ut.asFunction(r.logoUrl)(t,e,s,n);if(!o)return"";const c=Ut.asFunction(r.logoAltText)(t,e,s,n),a=c?` alt="${c}"`:"";return`<img class="${i}__item-header-logo" src="${o}"${a}>`}const td=Object.freeze({root:$E,[j.READY]:NE,controlContainer:PE,control:UE,controlIcon:DE,body:FE,item:ME,itemHeader:jE,affiliation:Nw,ctaText:"View deal",itemHeaderLeftText:"Today's best deals",itemHeaderRightText:qE,logoImg:BE,logoText:"Selected by"}),zE=Object.freeze({...Xe.defaultTemplates,...td});class sd extends Xe{static get type(){return kE}static get defaultTemplates(){return zE}static get defaultClassName(){return ed}constructor({className:e=ed,templates:s,autoplay:n,...i}={}){super({className:e,itemType:"affiliation",templates:{...td,...s},...i}),this._itemCount=void 0,this._itemIndex=0,this._displayedCount=void 0,this._displayedIndex=void 0,this._viewable=void 0}initialize(e){super.initialize(e);const{viewable:s}=this._view.tracker.options||{};this._viewable=new mb(this._onViewable.bind(this),s)}get itemIndex(){return this._itemIndex}set itemIndex(e){this._itemCount!==void 0&&(e<0?e=this._itemCount-1:e>=this._itemCount&&(e=0),this._itemIndex=e,ki(()=>this._syncItemIndex()))}next(){this._itemCount!==void 0&&this.itemIndex++}previous(){this._itemCount!==void 0&&this.itemIndex--}_render(e,s,n){super._render(e,s,n),this._syncItemCount(s),this._syncItemIndex()}_syncElement(e){const s=this._element;super._syncElement(e),this._syncViewableElement(s,e)}_syncViewableElement(e,s){e!==s&&(e&&this._viewable.unobserve(e),s&&this._viewable.observe(s))}_syncItemCount({state:e}={}){const s=this._getItems(e),n=this._itemCount=s?s.length:void 0;if(n===this._displayedCount)return;let{element:i}=this._view;i=i.firstElementChild,i&&(Rf(i,"data-item-count",n),this._displayedCount=n)}_syncItemIndex(){const e=this._itemIndex;if(e===this._displayedIndex)return;const{element:s}=this._view,n=s&&this._getListElement(s);n&&(this._displayedIndex=e,n.style.left=`${-e*100}%`,this._viewable.display(e),this._view._events.emit("display",{index:e}))}_onViewable(e){const s=this._getRenderedItemData(e);s&&this._view.tracker.viewable([s])}_getRenderedItemData(e){const{value:s}=this._rendered.get(this._element)||{};if(!s)return;const{products:n=[]}=s;return n[e]}_trackViewables(){}_onClick(e){const s=e.target;if(s.closest('[data-role="previous"]')){this.previous();return}if(s.closest('[data-role="next"]')){this.next();return}super._onClick(e)}}const HE="facets",nd="miso-facets",Qi="miso-facet",id="custom_attributes.";function VE(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"";return`<div class="${s}" ${r}>${i.facets(t,e)}</div>`}function QE(t,e){const{templates:s}=t,{facet_fields:n={}}=e.value||{};return Object.keys(n).map(i=>s.facet(t,{field:i,entries:n[i]},e))}function WE(t,e,s){const{facetClassName:n=Qi,templates:i}=t,{field:r}=e;return`<div class="${n}" data-role="facet" data-field="${ot(r)}">${i.header(t,e,s)}${i.options(t,e,s)}</div>`}function GE(t,e,s){const{facetClassName:n=Qi,templates:i}=t;return`<div class="${n}__header">${i.title(t,e,s)}</div>`}function KE(t,{field:e}){return e.startsWith(id)&&(e=e.substring(id.length)),ot(e)}function YE(t,{field:e,entries:s},n){const{facetClassName:i=Qi,templates:r}=t;return`<ul class="${i}__options" data-role="options">${s.map(([o,c])=>r.option(t,{field:e,value:o,count:c},n)).join("")}</ul>`}function ZE(t,e,s){const{facetClassName:n=Qi,templates:i}=t;return`
<li class="${n}__option" data-role="option" tabindex="0">
  <span class="${n}__value">${i.value(t,e,s)}</span>
  <span class="${n}__count">${i.count(t,e,s)}</span>
</li>`}function JE(t,{value:e},s){return ot(e)}function XE(t,{count:e},s){return t.templates.helpers.formatNumber(e)}const rd=Object.freeze({root:VE,facets:QE,facet:WE,header:GE,title:KE,options:YE,option:ZE,value:JE,count:XE});function e0(t,e){return`${t}:::${e}`}function od(t){const e={};for(const s in t)e[s]=new Set(t[s]);return e}class cd extends ct{static get type(){return HE}static get defaultTemplates(){return rd}static get defaultClassName(){return nd}constructor({className:e=nd,templates:s,...n}={}){super({className:e,templates:{...rd,...s},...n}),this._bindings=new vf}initialize(e){const{proxyElement:s,filters:n}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",i=>this._handleClick(i)),n.on("update",i=>this._updateSelections(i)),n.on("reset",()=>this._syncSelections())]}_render(e,s,n){super._render(e,s,n)}_afterRender(e,s){this._syncBindings(e,s),this._syncSelections()}_unrender(){this._clearBindings()}_syncSelections(){const e=od(this._view.hub.states[Is()].facets);for(const{value:{field:s,value:n},element:i}of this._bindings.entries)this._setSelected(i,e[s]&&e[s].has(n))}_updateSelections({updates:e}){const s=od(e.facets);for(const{value:{field:n,value:i},element:r}of this._bindings.entries)s[n]&&this._setSelected(r,s[n].has(i))}_setSelected(e,s){e&&(s?e.classList.add("selected"):e.classList.remove("selected"))}_syncBindings(e,s){if(!e||!s.value)return;const n=this._getItems(s),i=[],r=[],o=[];for(const c of this._getFacetElements(e)){const a=c.getAttribute("data-field"),u=n[a];if(!u)continue;const l=this._getItemElements(c);for(let f=0;f<l.length;f++){const p=l[f],g=u[f];if(!g)break;i.push(e0(a,g)),r.push({field:a,value:g}),o.push(p)}}this._bindings.update(i,r,o)}_clearBindings(){this._bindings.clear()}_getItems({value:e}={}){const{facet_fields:s={}}=e||{},n={};for(const i in s)n[ot(i)]=s[i].map(([r])=>r);return n}_getFacetElements(e){return Array.from(e.querySelectorAll('[data-role="facet"]'))}_getFacetElement(e,s){return e.querySelector(`[data-role="facet"][data-field="${s}"]`)}_getItemElements(e){return Array.from(e.querySelectorAll('[data-role="option"]'))}_handleClick(e){if(e.button!==0)return;const s=e.target.closest('[data-role="option"]');if(!s)return;const n=this._bindings.get(s),i=n&&n.value;if(!i)return;const{field:r,value:o}=i;this._view.filters.facets.toggle(r,o),this._view.filters.apply()}destroy(){this._bindings.clear(),super.destroy()}}const t0="select",ad="miso-select";function s0(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"",o=t._getItems(e),c=o.find(a=>a.selected)||o[0];return`
<div class="${s}" ${r}>
  ${i.button(t,c)}
  ${i.options(t,e)}
</div>`}function n0(t,e){const{className:s,templates:n}=t;return`<button class="${s}__button" data-role="button" tabindex="0">${n.text(t,e)}</button>`}function i0(t,e){const{className:s,templates:n}=t,i=t._getItems(e);return`<ul class="${s}__options">${i.map((r,o)=>n.option(t,r,{index:o})).join("")}</ul>`}function r0(t,e){const{className:s,templates:n}=t,i=e.selected?"selected":"";return`<li class="${s}__option ${i}" data-role="option" tabindex="0">${n.text(t,e)}</li>`}function o0(t,e){return ot(e&&e.text&&Ug(e.text)||e||"")}const ld=Object.freeze({root:s0,button:n0,options:i0,option:r0,text:o0});class Fo extends ct{static get type(){return t0}static get defaultTemplates(){return ld}static get defaultClassName(){return ad}constructor({className:e=ad,templates:s,...n}={}){super({className:e,templates:{...ld,...s},...n}),this._initTrackable()}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",n=>this._handleClick(n))]}_afterRender(e,s){this._syncBindings(e,s)}_unrender(){this._clearBindings()}_getItems(e){return e.value||[]}_getOptionsElement(e){return e.querySelector('[data-role="options"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="option"]')):[]}_handleClick(e){if(this._element)for(let s=e.target;s&&s!==this._element;s=s.parentElement){const{role:n}=s.dataset;switch(n){case"button":this._toggle();break;case"option":const i=this._bindings.get(s);this._select(i&&i.value);break}}}_toggle(){if(!this._element)return;const e=this._element.children[0];e&&e.classList.toggle("open")}async _select(e){e&&this._view._events.emit("select",{value:e})}destroy(){this._destroyTrackable(),super.destroy()}}Uo(Fo.prototype);const c0="more-button",ud="miso-more-button";function a0(t,e){const{className:s,role:n,templates:i}=t,r=n?` data-role="${n}"`:"",o=e.status!==j.READY?" disabled":"";return`
<div class="${s}"${r}${o}>
  ${i.text(t)}
</div>
`}const fd=Object.freeze({root:a0,text:l0});function l0(t){return"More"}class dd extends ct{static get type(){return c0}static get defaultTemplates(){return fd}static get defaultClassName(){return ud}constructor({className:e=ud,templates:s,...n}={}){super({className:e,templates:{...fd,...s},...n})}initialize(e){this._unsubscribes=[...this._unsubscribes,e.proxyElement.on("click",s=>this._handleClick(s))]}_handleClick(e){if(e.button!==0)return;const s=e.target.closest('[data-role="more"]');!s||s.disabled||this._view.hub.trigger(To())}}const u0=Object.freeze(Object.defineProperty({__proto__:null,AffiliationLayout:sd,BannerLayout:Jw,CardsLayout:_1,CarouselLayout:Df,CollectionLayout:Xe,ContainerLayout:yf,ErrorLayout:Ef,FacetsLayout:cd,FeedbackLayout:Gf,GalleryLayout:jf,HorizontalLayout:If,ListLayout:Ls,MoreButtonLayout:dd,OptionListLayout:Vi,SearchBoxLayout:$s,SelectLayout:Fo,TemplateBasedLayout:ct,TextLayout:An,TypewriterLayout:On},Symbol.toStringTag,{value:"Module"}));function f0(t,{hub:e,workflowOptions:s={}}={}){const{sort:{options:n=[]}={}}=s.filters||{};if(!n.length)return[];const{sort:i}=e.states[Is()]||{},r=i&&i.field||d0(n).field;return r?n.map(o=>({...o,selected:o.field===r})):n}function d0(t){for(const e of t)if(e.default)return e;return t[0]}function h0(t){if(!t||!t.value)return;const{answer:e="",answer_stage:s,finished:n}=t.value;return Object.freeze({value:e,stage:s,finished:!!n})}function _0(t){if(!t||!t.value)return;const{reasoning:e="",reasoning_finished:s}=t.value;return Object.freeze({value:e,stage:"reasoning",finished:!!s})}function p0(t,{workflow:e}={}){const s=e.previous,n=s&&s.states[Ie()].value,i=n&&(n.suggested_followup_questions||n.followup_questions||[]);return i&&i.map(r=>({text:r}))}function m0(t){if(!(!t||!t.value))return(t.value.followup_questions||[]).map(e=>({text:e}))}function hd({qs:t,...e}={}){return Ui(e,{metadata:{question_source:t||us.ORGANIC}})}function g0(t,e){return e===Kt.QUERY?t:{...t,answer:!1}}function _d(t){return t&&t.value&&t.value.revision}function b0(t,e){if(!t||!t.value||t.request||!e||!e.request)return t;const{request:s}=e;return{...t,request:s}}function y0(t){const e=w0(t),s=e===j.READY?t.ongoing:void 0;return W({status:e,ongoing:s,...t})}function w0(t){if(!t)return j.INITIAL;const{request:e,error:s,value:n}=t;return s?j.ERRONEOUS:n?j.READY:e?j.LOADING:j.INITIAL}function E0(t){const{value:e}=t;if(!e)return t;const{miso_id:s}=e;return s?{...t,meta:{...t.meta,miso_id:s}}:t}function pd(t){const{session:e,value:s}=t;if(!e||!s)return;const{miso_id:n}=s;n&&(e.meta.miso_id=n)}function S0(t){const{session:e,value:s}=t;if(!e||!s)return t;const{meta:{miso_id:n}={}}=e;return n?{...t,meta:{...t.meta,miso_id:n}}:t}function md(t){const{request:e,value:s}=t;if(!e)return t;const{payload:n}=e||{},{q:i}=n||{};return i?{...t,value:{...s,keywords:i}}:t}function T0(t){const{value:e}=t;if(!e)return t;const{answer_stage:s}=e;return s?{...t,ongoing:!e.finished,meta:{...t.meta,answer_stage:s}}:t}function v0(t,e){if(!e)return t;const{status:s,value:n}=t;switch(s){case j.INITIAL:case j.LOADING:break;default:return t}return n&&n.facet_counts?t:{...t,value:{...n,facet_counts:e}}}function A0(t){const{value:e}=t;if(!e)return t;const{miso_id:s}=e;return s?{...t,value:{...e,root_miso_id:s}}:t}function O0(t,e,{role:s=b.PRODUCTS}={}){if(!e.value)return t;const{[s]:n=[],facet_counts:i,total:r,root_miso_id:o}=t.value,{[s]:c=[]}=e.value;return{...e,value:{...e.value,facet_counts:i,total:r,root_miso_id:o,[s]:[...n,...c]}}}function C0(t,{role:e=b.PRODUCTS}={}){const{status:s,request:n,value:i}=t;if(s!==j.READY||!n||!i)return t;const{[e]:r}=i;if(!r)return t;const{rows:o}=n.payload,{length:c}=r;return c<o?{...t,meta:{...t.meta,exhausted:!0}}:t}function I0(t,e){const{question_id:s}=e&&e.value||{};return s?{...t,value:{...t.value,question_id:s}}:t}function x0(t){const{role:e,type:s,items:n}=t,i={type:s==="viewable"?"viewable_impression":s,context:{custom_context:W({property:e})}};switch(vy(s)&&(R0(e,n)?i.product_ids=(n||[]).map(r=>typeof r=="string"?r:r.product_id).filter(r=>r):(i.product_ids=[],i.context.custom_context.items=(n||[]).map(r=>r.text||r.id||r))),s){case De.SUBMIT:i.context.custom_context.value=t.value;break;case De.FEEDBACK:i.context.custom_context.value=i.value=t.value,i.context.custom_context.result_type=i.result_type=t.result_type;break}return W(i)}function R0(t,e=[]){return Sy(t)||e.length>0&&typeof e[0]=="object"&&e[0].product_id}function L0(t,e){const{data:s}=e;if(!s)return t;const n=s.request&&s.request.payload&&s.request.payload.metadata;return n?Ze(t,{context:{custom_context:n}}):t}function k0(t,e){const{data:s}=e;if(!s)return t;const n=s.request&&s.request.payload;if(!n)return t;const{question:i,q:r,fq:o}=n;return Ze(t,{context:{custom_context:{question:i,q:r,fq:o}}})}function $0(t,e){if(e.role!==b.AFFILIATION)return t;const{items:s}=e,n=s[0]&&s[0].channel||void 0,i=s.map(r=>r.position);return Ze(t,{context:{custom_context:{channel:n,positions:i}}})}function gd(t,e){return t=N0(t,e),t=P0(t,e),t=U0(t,e),t}function N0(t={},{data:e}={}){if(!e)return t;const{request:s={},value:n={}}=e,{question_source:i}=s.payload&&s.payload.metadata||{},{question_id:r}=n;return Ze(t,{context:{custom_context:{question_source:i,question_id:r}}})}function P0(t,e){if(e.role!==b.ANSWER)return t;const{items:s=[]}=e;return Ze(t,{context:{custom_context:{urls:s.map(n=>n.url),texts:s.map(n=>n.text),class_names:s.map(n=>n.className),attributes:s.map(n=>n.attributes)}}})}function U0(t,{event_target:e}={}){return e?Ze(t,{context:{custom_context:{event_target:e}}}):t}function D0(t){const{value:e}=t;return!e||!e.finished||e.finish_reason!=="success"||e.sources&&e.sources.length>0?t:{...t,meta:{...t.meta,unanswerable:!0}}}const bd=Object.freeze({}),yd=Object.freeze({[b.CONTAINER]:yf.type,[b.ERROR]:Ef.type}),wd=Object.freeze({}),F0=Object.freeze({api:bd,layouts:yd,trackers:wd}),M0=Object.freeze({mappings:{[b.ERROR]:t=>t.error}});class pe extends qe{constructor(e){super(e.name||"workflow",e.plugin);let{context:s,plugin:n,client:i,defaults:r,options:o,extraOptions:c}=e;this._context=s,this._plugin=n=n||s._plugin,this._client=i=i||s._client,e=Object.freeze({...e,plugin:n,client:i}),this._name=e.name,this._roles=e.roles,this._extensions=n._getExtensions(i),this._defaults=r,this._options=o||new qu(s&&s._options,r),this._extraOptions=c||{},this._hub=new nw({onUpdate:a=>this._onHubUpdate(a),onEmit:a=>this._onHubEmit(a)}),this._sessionContext=new WeakMap,i._events.emit("workflow",this),this._initProperties(e),this._initActors(e),this._initSubscriptions(e),this._initSession(e)}_initProperties(){}_initActors({roles:e}){const s=this._hub,n=this._client,i=this._options,r=this._extensions,o=this._plugin.layouts;this._sessions=new iw(s),this._data=new rw(s,{source:of(n),options:i,...this._extraOptions.api}),this._views=new vw(s,{extensions:r,layouts:o,roles:e,options:i,workflow:this}),this._interactions=new Iw(s,{client:n,options:i})}_initSubscriptions({roles:e}){this._unsubscribes=[this._hub.on(ji(),s=>this._onSession(s)),this._hub.on(Wu(),s=>this.updateData(s)),this._hub.on(So(),s=>this._onTracker(s))],e.main&&this._unsubscribes.push(this._hub.on(Pt(e.main),s=>this._onMainViewUpdate(s)))}_initSession(){this.restart()}_getSessionContext(e){let s=this._sessionContext.get(e);return s||this._sessionContext.set(e,s={}),s}_onHubUpdate(e){this._runCallbacks(this._client.meta.parent._hubUpdateCallbacks,e)}_onHubEmit(e){this._runCallbacks(this._client.meta.parent._hubEmitCallbacks,e),this._emitAsWorkflowEvent(e)}_emitAsWorkflowEvent({action:e,name:s,state:n,silent:i}){i||this._emit(s,{_action:e,...n})}get uuid(){return this.session&&this.session.uuid}get session(){return this._hub.states[ji()]}get states(){return this._hub.states}get status(){const e=this._hub.states[Ie()];return e&&e.status}get views(){return this._views.interface}restart(){return this._emitInterruptEventIfNecessary(),this._sessions.restart(),this}_emitInterruptEventIfNecessary(){const{main:e}=this._roles;if(!e)return;const s=this._hub.states[Pt(e)]||{};s.session&&s.status===j.LOADING&&(this._emitLifecycleEvent("interrupt",s),this._emitLifecycleEvent("finally",s))}_onSession(e){this.updateData({session:e})}_onMainViewUpdate(e){const{status:s}=e,n=s===j.READY,i=s===j.ERRONEOUS,r=i?"error":s;this._emitLifecycleEvent(r,e),n&&this._emitLifecycleEvent("done",e),(n||i)&&this._emitLifecycleEvent("finally",e)}_shallEmitLifecycleEvent(e,{session:s}){const n=this._getSessionContext(s),i=n.lifecycleEvents||(n.lifecycleEvents=new Set),r=i.has(e);return i.add(e),!r}_emitLifecycleEvent(e,s){this._shallEmitLifecycleEvent(e,s)&&this._emit(e,s)}_request(e={}){const{session:s}=this,n=Du(this._options.resolved.api,e);this.updateData({session:s,request:n}),this._hub.update(Eo(),{...n,session:s})}updateData(e){if(!e)throw new Error("Data is required.");const{session:s}=e;if(!s)throw new Error("Session is required to update data.");if(!this.session)throw new Error("No session is created yet. Call workflow.restart() to start a new session.");if(s.uuid!==this.session.uuid)return;const n=_d(e);if(!Li(n)){const i=_d(this._hub.states[Ie()]);if(!Li(i)&&n<=i)return}return this._updateData(e),this}_updateData(e){const s=this._hub.states[Ie()];e=this._defaultProcessData(e,s);for(const n of this._options.resolved.dataProcessor)e=n(e,s);this._updateDataInHub(e,s)}_defaultProcessData(e,s){return e=b0(e,s),e=y0(e),e=E0(e),e}_updateDataInHub(e){this._hub.update(Ie(),e)}notifyViewUpdate(e,s){return s={status:j.READY,session:this.session,...s},this._hub.update(Pt(e),s),this}get trackers(){return this._views.trackers}_onTracker(e){const s=this,n=this._hub.states[Ie()],i=this._buildInteraction({...e,data:n,workflow:s});this._sendInteraction(i)}_buildInteraction(e){let s=x0(e);s=this._defaultProcessInteraction(s,e);const{preprocess:n=[]}=this._options.resolved.interactions;for(const i of n)s=i(s,e);return s}_defaultProcessInteraction(e,s){return e=this._writeApiInfoToInteraction(e,s),e=this._writeMisoIdToInteraction(e,s),e=k0(e,s),e=L0(e,s),e=$0(e,s),e}_writeApiInfoToInteraction(e){const{group:s,name:n}=this._options.resolved.api;return Ze(e,{context:{custom_context:{api_group:s,api_name:n}}})}_writeMisoIdToInteraction(e,s){const n=this._hub.states[Pt(s.role)]||{},i=n.meta&&n.meta.miso_id||void 0;return i?Ze(e,{miso_id:i}):e}_sendInteraction(e){const{handle:s}=this._options.resolved.interactions;typeof s=="function"?s(e):this._hub.trigger(Gu(),e)}destroy(e){this._emit("destroy"),this._destroy(e)}get destroyed(){return!!this._destroyed}_destroy({dom:e}={}){for(const s of this._unsubscribes||[])s();this._unsubscribes=[],this._views._destroy({dom:e}),this._data._destroy(),this._destroyed=!0}_runCallbacks(e,s){for(const n of e)try{n({workflow:this,...s})}catch(i){this._error(i)}}_emit(e,s){this._events.emit(e,{_event:e,...s}),this._context&&this._context._events.emit(e,{workflow:this,_event:e,...s})}}Tn(pe.prototype),Object.assign(pe,{DEFAULT_API_OPTIONS:bd,DEFAULT_LAYOUTS:yd,DEFAULT_TRACKERS:wd,DEFAULT_OPTIONS:F0,ROLES_OPTIONS:M0});function j0(t){if(!t||!t.value)return t;const{value:e}=t;return{...t,value:q0(e)}}function q0(t){if(t.affiliation_products){const{affiliation_products:e,...s}=t;t={...s,affiliation:z0(e)}}else if(t.sovrn_aff){const{sovrn_aff:e,...s}=t;t={...s,affiliation:H0(e)}}return B0(t)}function B0(t){const{affiliation:e}=t;if(!e)return t;let{channel:s,products:n}=e;if(!n)return t;n=n.map(r=>({...r}));let i=0;for(const r of n)s&&(r.channel=s),r.position=i++;return{...t,affiliation:{...e,products:n}}}function z0(t){return{channel:"miso",products:t}}function H0({products:t,...e}){return{channel:"sovrn",...e,products:t.map(V0)}}function V0({id:t,deeplink:e,headline:s,description:n,currency:i,retailPrice:r,salePrice:o,discountRate:c,image:a,thumbnail:u,merchant:l,...f}){const p=l&&l.name,g=l&&l.logo;return W({id:`sovrn-${t}`,title:s,description:n,cover_image:a,url:e,currency:i,original_price:r,sale_price:o,discount_rate_percent:c,brand:p,brand_logo:g,custom_attributes:Ed({sovrn_id:t,thumbnail:u,merchant:l,...f})})}function Ed(t,e=""){return Object.keys(t).reduce((s,n)=>{const i=t[n];if(i===void 0)return s;const r=e?`${e}_${n}`:n;return typeof i=="object"?{...s,...Ed(i,r)}:{...s,[r]:i}},{})}function Mo(t){yn(t,jo.prototype)}class jo{useLink(e,s={}){if(typeof e!="function"&&e!==!1)throw new Error("useLink(fn) expects fn to be a function or false");return this._linkFn=e?[e,s]:!1,this}_submitToPage(e={}){if(!this._linkFn)return;const s=this._getSubmitUrl(e),[n,i={}]=this._linkFn;if(i.open===!1)window.location.href=s;else{const r=i.target||"_blank",o=i.windowFeatures||"";window.open(s,r,o)}}_getSubmitUrl({q:e,...s}={}){if(!this._linkFn)throw new Error("useLink(fn) must be called before _getSubmitUrl()");return this._linkFn[0](e,s)}}const Sd=Object.freeze({...pe.DEFAULT_API_OPTIONS,group:Te.ASK,payload:{...pe.DEFAULT_API_OPTIONS.payload,source_fl:["cover_image","url","created_at","updated_at","published_at"],cite_link:1,cite_start:"[",cite_end:"]"}}),Td=Object.freeze({actor:!1,api:{group:Te.ASK,name:Ye.AUTOCOMPLETE}}),qo=Object.freeze({...pe.DEFAULT_LAYOUTS,[b.QUERY]:[$s.type,{placeholder:"Ask a question"}],[b.QUESTION]:[An.type,{tag:"h2"}],[b.ANSWER]:On.type,[b.FEEDBACK]:Gf.type,[b.IMAGES]:[jf.type,{incremental:!0,itemType:"image"}],[b.SOURCES]:[Ls.type,{incremental:!0,itemType:"article",templates:{ordered:!0}}],[b.AFFILIATION]:[sd.type,{incremental:!0,itemType:"affiliation",link:{rel:"noopener nofollow"}}]}),vd=Object.freeze({...pe.DEFAULT_TRACKERS,[b.ANSWER]:{active:!0,itemless:!0,deduplicated:!1,click:Je.click},[b.IMAGES]:Je,[b.SOURCES]:Je,[b.AFFILIATION]:Je,[b.PRODUCTS]:Je}),Q0=Object.freeze({...pe.DEFAULT_OPTIONS,api:Sd,autocomplete:Td,layouts:qo,trackers:vd}),W0=Sn(pe.ROLES_OPTIONS,{main:b.ANSWER,members:Object.keys(qo),mappings:{[b.ANSWER]:h0,[b.REASONING]:_0}});class ve extends pe{_initProperties(e){super._initProperties(e),this._questionId=void 0,this._autoQuery=!1}_initActors(e){super._initActors(e),this._feedback=new Cw(this._hub)}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(Yt(),s=>this._query(s)),this._views.get(b.ANSWER).on("citation-click",s=>this._onCitationClick(s)),this._views.get(b.ANSWER).on("link-click",s=>this._onAnswerLinkClick(s))]}restart(){this._questionId&&(this._questionId=void 0),super.restart()}_shallEmitLifecycleEvent(e,s){return e==="answer-stage"||super._shallEmitLifecycleEvent(e,s)}_emitInterruptEventIfNecessary(){const e=this._hub.states[Pt(this._roles.main)]||{};e.session&&e.status!==j.INITIAL&&(e.status!==j.READY||e.ongoing)&&(this._emitLifecycleEvent("interrupt",e),this._emitLifecycleEvent("finally",e))}_onMainViewUpdate(e){const{status:s,session:n}=e,i=s===j.READY&&!e.ongoing,r=s===j.ERRONEOUS,o=i?"done":r?"error":s,c=this._getSessionContext(n),a=c.answerStage,u=e.meta&&e.meta.answer_stage;u&&u!==a&&(this._emitLifecycleEvent("answer-stage",Object.freeze({...e,answer_stage:u})),c.answerStage=u),this._emitLifecycleEvent(o,e),(i||r)&&this._emitLifecycleEvent("finally",e)}get questionId(){return this._questionId}autoQuery(e={}){Vu.call(this,e)}query(e){if(!e.q&&!e.questionId)throw new Error("q is required in query() call");this._hub.update(Yt(),e)}_query(e={}){if(this._linkFn){this._submitToPage(e);return}this.restart(),this._writeQuestionSourceToSession(e);const s=this._buildPayload(e);this._request({payload:s})}_writeQuestionSourceToSession(e){this.session.meta.question_source=e.qs||us.ORGANIC}_buildPayload(){throw new Error("Not implemented")}_writeWikiLinkTemplateToPayload(e){return!this._autoQuery||!this._autoQuery.param||this._autoQuery.param===Hu?e:{...e,wiki_link_template:`?${this._autoQuery.param}=%s`}}_updateData(e){if(this._writeQuestionIdFromData(e),e.value&&!e.value.answer_stage){this._handleHeadResponse(e);return}super._updateData(e),Qu.call(this,e)}_handleHeadResponse(e){}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=j0(e),e=T0(e),e}_writeQuestionIdFromData({value:e}){e&&this._writeQuestionId(e.question_id)}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=gd(e,s),e}_getQuestionSourceFromViewState(e){const{request:s}=this._hub.states[Pt(e.role)]||{},{payload:n}=s||{};return n&&n.metadata&&n.metadata.question_source||void 0}_onCitationClick({index:e,event:s}){if(s.button!==0||Ao(s))return;const{value:n}=this._hub.states[Ie()]||{},{sources:i}=n||{},r=i&&i[e-1];!r||!r.product_id||(Oo(s),this._views.trackers.sources.click([r.product_id],{event_target:"citation-link"}))}_onAnswerLinkClick({event:e,...s}){e.button===0&&(Ao(e)||(Oo(e),this._views.trackers.answer.click([],{items:[s]})))}_writeQuestionId(e){!this._questionId&&e&&(this._questionId=e)}_clearQuestionId(){this._questionId=void 0}_destroy(e){this._feedback._destroy(),super._destroy(e)}}Mo(ve.prototype),Object.assign(ve,{DEFAULT_API_OPTIONS:Sd,DEFAULT_AUTOCOMPLETE_OPTIONS:Td,DEFAULT_LAYOUTS:qo,DEFAULT_TRACKERS:vd,DEFAULT_OPTIONS:Q0,ROLES_OPTIONS:W0});const Ad=Object.freeze(Object.defineProperty({__proto__:null,CLASS_PREFIX:"miso-ask-combo",CONAINER_TAG:"miso-ask"},Symbol.toStringTag,{value:"Module"})),Od=Object.freeze(Object.defineProperty({__proto__:null,followUpQuestions:"Related questions you can explore",question:"You asked...",relatedResources:"Go beyond, and learn more about this topic",sources:"This reply is based on the following articles",thoughts:"Thoughts"},Symbol.toStringTag,{value:"Module"}));let Cd=class{constructor({helpers:e}){this._helpers=e}errorSection(e){const{section:s,container:n}=this._helpers;return s(e,{name:"error"},[n(e,{name:"error",visibleWhen:"erroneous"},"<miso-error></miso-error>")])}answerGroup(e){return[this.answer(e),this.affiliation(e),this.sources(e)]}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready"},[...this.question(e),"<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}question(e){const{phrase:s}=this._helpers;return[s(e,{name:"question",tag:"div"}),"<miso-question></miso-question>"]}sources(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"sources",visibleWhen:"nonempty"},[n(e,{name:"sources",tag:"h3"}),"<miso-sources></miso-sources>"])}affiliation(e){const{container:s}=this._helpers,{affiliation:n=!0}=e||{};return n?s(e,{name:"affiliation",visibleWhen:"nonempty"},["<miso-affiliation></miso-affiliation>"]):""}};class Id{constructor(e){this._context=e,fe(this,{lowerCamelToKebab:Zl,kebabToLowerCamel:Kl,kebabOrSnakeToLowerCamel:Yl})}normalizeOptions({classPrefix:e,circledCitationIndex:s=!0,phrases:n,...i}={}){return e=e||this._context.CLASS_PREFIX,n=this.normalizePhraseOptions(n),{classPrefix:e,circledCitationIndex:s,phrases:n,...i}}normalizePhraseOptions(e={}){if(!e)return{};const s={};for(const n in e)s[this.normalizePhraseOptionKey(n)]=e[n];return s}normalizePhraseOptionKey(e){return e=Yl(e),e==="relatedQuestions"||e==="querySuggestions"?"followUpQuestions":e}phrase(e,{name:s,extraNames:n=[],tag:i="div",inline:r=!1}){const{classPrefix:o}=e,c=r?`${o}__phrase-inline`:`${o}__phrase`;return`<${i} class="${c} ${[s,...n].map(a=>`${o}__${a}-phrase`).join(" ")}">${this.phraseText(e,Kl(s))}</${i}>`}phraseText(e,s){const{phrases:n={}}=e,i=n[s]||this._context.DEFAULT_PHRASES[s];switch(typeof i){case"function":return i(e);case"string":return i;default:return""}}section({classPrefix:e},{name:s},n){return this.element("section",{classes:[`${e}__section`,`${e}__${s}`]},n)}container({classPrefix:e,circledCitationIndex:s,parentQuestionId:n,workflow:i},{name:r,extraNames:o=[],visibleWhen:c,trait:a,logo:u=!1},l){const f=[r,...o].map(p=>`${e}__${p}-container`);return s&&f.push("miso-circled-citation-index"),this.element(this._context.CONAINER_TAG,{classes:f,visibleWhen:c,trait:a,logo:u,parentQuestionId:n,workflow:i},l)}element(e,s={},n=""){return`<${e}${this.attrs(s)}>${Array.isArray(n)?n.join(""):n}</${e}>`}attrs({classes:e=[],...s}={}){let n="";e.length&&(n+=` class="${e.join(" ")}"`);for(const i in s){const r=s[i];r!==void 0&&(n+=` ${Zl(i)}="${r}"`)}return n}}let G0=class extends Cd{constructor(){super({helpers:Cn})}answerGroup(e){const{container:s}=this._helpers;return[this.question(e),this.reasoning(e),this.answer(e),this.affiliation(e),this.sources(e),this.followUpQuestions(e),s(e,{name:"bottom-spacing",visibleWhen:"ongoing"})]}question(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"question",visibleWhen:"ready"},[e.parentQuestionId?"<hr>":"",n(e,{name:"question",tag:"div"}),"<miso-question></miso-question>"])}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready"},["<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}reasoning(e={}){const{phrases:s,reasoning:n={}}=e,{container:i,element:r,phraseText:o}=this._helpers,c=[];return n.expand&&c.push("expanded"),i(e,{name:"reasoning",visibleWhen:"nonempty"},[r("miso-stub",{classes:c,trait:"collapsible","data-role":"reasoning-box"},[r("div",{classes:["miso-collapsible__header"],"data-role":"toggle-expand"},[`<div class="miso-collapsible__icon">${n.icon||P1}</div>`,`<div class="miso-collapsible__title" data-role="title">${o(s,"thoughts")}</div>`,`<div class="miso-collapsible__toggle">${Nf}</div>`]),r("div",{classes:["miso-collapsible__body"]},["<miso-reasoning></miso-reasoning>"])])])}sources(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"sources",visibleWhen:"nonempty"},["<hr>",n(e,{name:"sources",tag:"h3"}),"<miso-sources></miso-sources>"])}followUpQuestions(e){const{container:s,phrase:n}=this._helpers,i="follow-up-questions",r=["query-suggestions"];return s(e,{name:i,extraNames:r,visibleWhen:"nonempty"},[n(e,{name:i,extraNames:r,tag:"h3"}),"<miso-follow-up-questions></miso-follow-up-questions>"])}followUps(e){const{features:s={}}=e;return s.followUpQuestions===!1?"":'<miso-follow-ups id="miso-ask-combo__follow-ups" class="miso-ask-combo__follow-ups"></miso-follow-ups>'}relatedResourcesSection(e){const{container:s,phrase:n,section:i}=this._helpers,{features:r={},logo:o=!0}=e,c=r.relatedResources===!1?"":s({...e,workflow:"active"},{name:"related-resources",visibleWhen:"nonempty",logo:o},[n(e,{name:"related-resources",tag:"h2"}),"<miso-related-resources></miso-related-resources>"]);return i(e,{name:"related-resources"},c)}};const Cn=Pi(new Id({...Ad,DEFAULT_PHRASES:Od})),Bo=Pi(new G0({helpers:Cn}));function K0(t={}){const{normalizeOptions:e,section:s,container:n}=Cn,{followUps:i,relatedResourcesSection:r,answerGroup:o}=Bo;return t=e(t),[s(t,{name:"question"},[n(t,{name:"query"},"<miso-query></miso-query>")]),s(t,{name:"answer"},o(t)),i(t),r(t)].join("")}function Wi(t={}){const{normalizeOptions:e,section:s,container:n}=Cn,{answerGroup:i}=Bo;return t=e(t),s(t,{name:"follow-up"},[n(t,{name:"query",visibleWhen:"initial loading"},"<miso-query></miso-query>"),...i(t)])}const Y0=Object.freeze(Object.defineProperty({__proto__:null,followUp:Wi,helpers:Cn,root:K0,sections:Bo},Symbol.toStringTag,{value:"Module"})),Z0=Object.freeze({...ve.DEFAULT_API_OPTIONS,name:Ye.QUESTIONS,payload:{...ve.DEFAULT_API_OPTIONS.payload,related_resource_fl:["cover_image","url","created_at","updated_at","published_at"]}}),xd=Object.freeze({...ve.DEFAULT_LAYOUTS,[b.QUERY]:[$s.type,{templates:{buttonIcon:"send"}}],[b.REASONING]:On.type,[b.RELATED_RESOURCES]:[Ls.type,{incremental:!0,itemType:"article"}],[b.QUERY_SUGGESTIONS]:Vi.type,[b.FOLLOW_UP_QUESTIONS]:Vi.type}),J0=Object.freeze({...ve.DEFAULT_TRACKERS,[b.RELATED_RESOURCES]:Je,[b.QUERY_SUGGESTIONS]:{...Je,click:{...Je.click,validate:t=>t.button===0}}}),X0=Object.freeze({followUp:Wi}),eS=Object.freeze({...ve.DEFAULT_OPTIONS,api:Z0,layouts:xd,trackers:J0,templates:X0}),tS=Sn(ve.ROLES_OPTIONS,{members:Object.keys(xd),mappings:{[b.QUERY_SUGGESTIONS]:p0,[b.FOLLOW_UP_QUESTIONS]:m0}});class Rd extends ve{constructor(e,s){super({name:"ask",context:e,roles:tS,defaults:eS,parentQuestionId:s})}_initProperties(e){super._initProperties(e);const{parentQuestionId:s}=e;fe(this,{parentQuestionId:s})}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(Pt(b.REASONING),s=>this._onReasoningViewUpdate(s)),this._views.get(b.ANSWER).on("follow-up-click",s=>this._onFollowUpClick(s)),this._views.get(b.FOLLOW_UP_QUESTIONS).on("select",s=>this._onFollowUpQuestionSelect(s)),this._views.get(b.QUERY_SUGGESTIONS).on("select",s=>this._onQuerySuggestionSelect(s))]}_initSession(e){e.parentQuestionId&&this._context._byPqid.set(e.parentQuestionId,this),this._context._events.emit("create",this),super._initSession(e)}restart(){const{next:e}=this;e&&e.destroy(),this._questionId&&this._context._byQid.delete(this._questionId),super.restart()}get rootQuestionId(){return this._context.root.questionId}get previous(){const{parentQuestionId:e}=this;return e?this._context.getByQuestionId(e):void 0}get next(){const{questionId:e}=this;return e?this._context.getByParentQuestionId(e):void 0}getOrCreateNext(){const{questionId:e}=this;return e?this._context.getByParentQuestionId(e,{autoCreate:!0}):void 0}_buildPayload({q:e,qs:s,questionId:n,...i}={}){if(n)return W({...i,question_id:n});const{parentQuestionId:r}=this;let o=W({...i,question:e,parent_question_id:r});return o=hd({...o,qs:s}),o=this._writeWikiLinkTemplateToPayload(o),o}_updateData(e){super._updateData(e),this._triggerSuggestionsRefreshIfNecessary()}_triggerSuggestionsRefreshIfNecessary(){const{next:e}=this;if(!e)return;const s=e._views.get(b.QUERY_SUGGESTIONS);s&&s.refresh()}_onReasoningViewUpdate({status:e,ongoing:s}){if(e!==j.READY||s)return;const n=this._getReasoningBoxElement();n&&n.classList.add("done")}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeAdditionalAskPropertiesToInteraction(e,s),e}_writeAdditionalAskPropertiesToInteraction(e,s){const n=this.rootQuestionId;let{property:i}=e.context&&e.context.custom_context||{},r,o,c;return(s.role===b.FOLLOW_UP_QUESTIONS||s.role===b.QUERY_SUGGESTIONS)&&(i="suggested_followup_questions"),s.role===b.QUERY_SUGGESTIONS?(o=this.previous&&this.previous.parentQuestionId,r=this.parentQuestionId,c=this.previous&&this.previous.session.meta.question_source):o=this.parentQuestionId,Ze(e,{context:{custom_context:W({property:i,root_question_id:n,parent_question_id:o,question_id:r,question_source:c})}})}_onFollowUpClick({q:e,event:s}={}){s.button===0&&this._submitFollowUpQuestion({q:e,qs:us.INLINE_QUESTION_LINK})}_onFollowUpQuestionSelect({value:e}){this._submitFollowUpQuestion({q:e,qs:us.SUGGESTED_QUESTIONS})}_submitFollowUpQuestion({q:e="",qs:s}={}){if(e=e.trim(),!e)return;this.getOrCreateNext().query({q:e,qs:s})}_onQuerySuggestionSelect({value:e}){e&&this.query({q:e,qs:us.SUGGESTED_QUESTIONS})}_writeQuestionId(e){!this._questionId&&e&&(this._questionId=e,this._context._byQid.set(e,this))}_clearQuestionId(){this._questionId&&(this._context._byQid.delete(this._questionId),this._questionId=void 0)}_getReasoningBoxElement(){const e=this._views.get(b.REASONING),s=e&&e.element;return s&&s.closest('[data-role="reasoning-box"]')}_destroy(e){const{next:s,parentQuestionId:n,questionId:i}=this;s&&s.destroy(e),n&&this._context._byPqid.delete(n),i&&this._context._byQid.delete(i),super._destroy(e)}}const Ld={event:"done"};function sS(t=Ld){switch(t===!0&&(t=Ld),typeof t=="string"&&(t={event:t}),typeof t){case"object":return e=>e&&t.event===e._event;case"function":return t;default:return()=>!1}}class kd extends yo{constructor(e,s){super("asks",e,s),this._byQid=new Map,this._byPqid=new Map,this._root=new Rd(this),this._events.on("*",n=>this._createNextIfNecessary(n)),this._events.on("loading",n=>this._setActive(n.workflow)),this._events.on("destroy",()=>this._requestEmitAfterDestroy()),this._events.on("after-destroy",()=>this._syncActiveOnAfterDestroy()),this._autoNextFn=void 0,this._active=this._root}get root(){return this._root}get workflows(){return[this._root,...this._byPqid.values()]}get active(){return this._active}getByQuestionId(e){if(typeof e!="string")throw new Error(`Required ID to be a string: ${e}`);return this._byQid.get(e)}getByParentQuestionId(e,{autoCreate:s=!1}={}){if(e===void 0)return this._root;if(typeof e!="string")throw new Error(`Required ID to be a string: ${e}`);let n=this._byPqid.get(e);return!n&&s&&(n=new Rd(this,e)),n}reset({root:e=!0,events:s,...n}={}){s===void 0&&(s=!!e),s&&this._events.clear();for(const i of this._byPqid.values())i.destroy(n);e&&this._root.restart()}autoNext(e){this._autoNextFn=sS(e)}_createNextIfNecessary(e){if(!this._autoNextFn||!this._autoNextFn(e))return;const{workflow:s}=e;s&&s.getOrCreateNext()}_requestEmitAfterDestroy(){this._emitAfterDestroyRequested||(this._emitAfterDestroyRequested=!0,setTimeout(()=>{this._emitAfterDestroyRequested=!1,this._events.emit("after-destroy",{})},0))}_syncActiveOnAfterDestroy(){if(!this._active.destroyed)return;let e=this._root;for(;e.next&&e.next.status!==j.INITIAL;e=e.next);this._setActive(e)}_setActive(e){e!==this._active&&(this._active=e,this._events.emit("active",{workflow:e}))}}Tn(kd.prototype,[ye.TEMPLATES]);const nS=10,iS=10,$d=Object.freeze({...pe.DEFAULT_API_OPTIONS,group:Te.SEARCH,payload:{...pe.DEFAULT_API_OPTIONS.payload,fl:["cover_image","url","created_at","updated_at","published_at","title"],rows:nS}}),zo=Object.freeze({...pe.DEFAULT_LAYOUTS,[b.QUERY]:[$s.type],[b.PRODUCTS]:[Ls.type,{incremental:!0,infiniteScroll:!0}],[b.KEYWORDS]:[An.type,{raw:!0}],[b.TOTAL]:[An.type,{raw:!0,format:"number"}],[b.FACETS]:[cd.type],[b.SORT]:[Fo.type],[b.MORE]:[dd.type]}),Nd=Object.freeze({...pe.DEFAULT_TRACKERS,[b.PRODUCTS]:Je}),Pd=Object.freeze({active:!1,mode:"infiniteScroll",pageLimit:10}),rS=Object.freeze({...pe.DEFAULT_OPTIONS,api:$d,layouts:zo,trackers:Nd,pagination:Pd}),oS=Sn(pe.ROLES_OPTIONS,{main:b.PRODUCTS,members:Object.keys(zo),mappings:{[b.FACETS]:"facet_counts",[b.SORT]:f0}});class xe extends pe{_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(Yt(),s=>this._query(s)),this._hub.on(Is(),()=>this._refine()),this._hub.on(To(),()=>this._more()),this._views.get(b.SORT).on("select",s=>this._handleSortSelect(s))]}restart(){super.restart(),this._page=0}get exhausted(){const e=this._hub.states[Ie()];return!!(e&&e.meta&&e.meta.exhausted)}get page(){return this._page}autoQuery(e={}){Vu.call(this,e)}query(e){if(!e.q)throw new Error("q is required in query() call");this._hub.update(Yt(),e)}_query(e){if(this._linkFn){this._submitToPage(e);return}const s=Kt.QUERY;this._views.filters.reset({silent:!0}),this.restart({type:s});const n=this._buildPayload(e,s);this._request({payload:n,type:s})}_refine(){const e=Kt.REFINE,{facet_counts:s}=this._hub.states[Ie()].value||{};this._currentFacetCounts=s,this.restart({type:e});const n=this._getQuery(),i=this._buildPayload(n,e);this._request({payload:i,type:e})}_more(){if(this.status!==j.READY)throw new Error("Can not call more() while loading.");if(this.exhausted||this._page>=iS-1)return;this._page++;const e=Kt.MORE,s=this._getQuery(),n=this._buildPayload(s,e);this._request({payload:n,type:e})}_getQuery(){return this._hub.states[Yt()]}_getPageSize(){return this._options.resolved.api.payload.rows}_buildPayload(e,s){return e=this._writeFiltersToPayload(e),e=this._writePageInfoToPayload(e),s===Kt.MORE&&(e=this._processPayloadForMoreRequest(e)),e}_writeFiltersToPayload(e){const s=this._hub.states[Is()],{facets:n,sort:i}=s||{};return W({...e,facet_filters:this._buildFacetFilters(n),order_by:this._buildOrderBy(i)})}_buildFacetFilters(e){if(!e)return;const s={};for(const n in e){const i=e[n];!i||!i.length||(s[n]={terms:i})}return Object.keys(s).length?s:void 0}_buildOrderBy(e){if(e)return ls(e)}_writePageInfoToPayload(e){return{...e,metadata:{...e.metadata,page:this._page}}}_processPayloadForMoreRequest(e={}){const s=this._hub.states[Ie()],{[this._roles.main]:n=[]}=s&&s.value||{},i=n.map(o=>o.product_id).filter(o=>o),r=[...e.exclude||[],...i];return r.length===0?e:{...e,exclude:r}}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=md(e),e=v0(e,this._currentFacetCounts),e=C0(e,{role:this._roles.main}),e}_updateData(e){super._updateData(e),Qu.call(this,e)}_updateDataInHub(e,s){e=this._appendResultsFromMoreRequest(e),super._updateDataInHub(e,s)}_appendResultsFromMoreRequest(e){const{request:s}=e;if(!s)return e;const{metadata:n}=s.payload;if(!n||!n.page)return A0(e);const i=this._hub.states[Ie()];return O0(i,e,{role:this._roles.main})}_handleSortSelect({value:e}={}){e&&(this._views.filters.update({sort:e}),this._views.filters.apply())}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeRootMisoIdToInteraction(e),e}_writeRootMisoIdToInteraction(e){const s=this._hub.states[Ie()],{root_miso_id:n}=s&&s.value||{};return n?Ze(e,{context:{custom_context:{root_miso_id:n}}}):e}}Tn(xe.prototype,[ye.PAGINATION,ye.FILTERS]),Mo(xe.prototype),Object.assign(xe,{DEFAULT_API_OPTIONS:$d,DEFAULT_LAYOUTS:zo,DEFAULT_TRACKERS:Nd,DEFAULT_PAGINATION:Pd,DEFAULT_OPTIONS:rS,ROLES_OPTIONS:oS});const cS=ve.ROLES_OPTIONS;class aS extends ve{constructor(e){super({name:"hybrid-search/answer",plugin:e._plugin,client:e._client,options:e._options,defaults:e._defaults,roles:cS,superworkflow:e})}_initProperties(e){super._initProperties(e),this._superworkflow=e.superworkflow}_initSession(){}_doLoading(e){const{session:s}=this;this.updateData({...e,session:s})}_queryWithQuestionId(e){const{session:s}=this,{request:n,value:i}=e;this.updateData({...e,session:s});const{question_id:r}=i;if(!r)return;const o={...n.payload,question_id:r};o.metadata.page!==void 0&&delete o.metadata.page,this._hub.update(Eo(),{...n,payload:o,session:s})}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=md(e),e=S0(e),e=D0(e),e}_handleHeadResponse(e){super._handleHeadResponse(e),pd(e)}_onTracker(e){this._superworkflow._onTracker(e)}}const lS=xe.ROLES_OPTIONS.members;function uS(t){return lS.includes(t)?"results":"answer"}class fS{constructor(e){this._subviews=e,this._containers=new Set}get filters(){return this._subviews.results.filters}get(e){return this._getSubviews(e).get(e)}addContainer(e){if(this._containers.has(e))return;this._containers.add(e);const{components:s}=e;for(const n of s)this.addComponent(n)}removeContainer(e){for(const s of this._getAllSubviews())s.removeContainer(e);this._containers.delete(e)}addComponent(e){this._getViewByElement(e).element=e,this._addContainerToSubviews(e._container,e)}removeComponent(e){this._getViewByElement(e).element=void 0,this._removeContainerFromSubviewsIfNecessary(e._container)}updateComponentRole(e,s,n){}refreshElement(e){const s=e.isContainer?this._containers.get(e):this._getViewByElement(e);s&&s.refresh({force:!0})}_getAllSubviews(){return Object.values(this._subviews)}_getSubviews(e){return this._subviews[uS(e)]}_getViewByElement(e){let{role:s}=e;if(!s)throw new Error("Component must have a role");return this.get(s)}_addContainerToSubviews(e,s){if(!e)return;const{role:n}=s,i=this._getSubviews(n);if(!i._containers.has(e)){for(const r of this._getAllSubviews())if(r!==i&&r._containers.has(e)){for(const o of e.components)if(r.containsElement(o))throw new Error(`<${e.tagName.toLowerCase()}> cannot contain both <${o.tagName.toLowerCase()}> and <${s.tagName.toLowerCase()}>, for they don't share the same data lifecycle.`);throw new Error(`Failed to add container <${e.tagName.toLowerCase()}> with child component <${s.tagName.toLowerCase()}>.`)}i.addContainer(e)}}_removeContainerFromSubviewsIfNecessary(e){if(!(!e||e.components.length>0))for(const s of this._getAllSubviews())s.removeContainer(e)}}const dS=Object.freeze({members:[]});function hS({layouts:t,trackers:e,...s}={}){return{active:!1,...s,layouts:{},trackers:{}}}function _S(t,e){return Gi(t)===Gi(e)}function Gi(t){return t&&t.value&&t.value.trim()||void 0}class pS extends pe{constructor(e,{defaults:s,...n}={}){super({name:"autocomplete",plugin:e._plugin,client:e._client,defaults:hS(s),roles:dS,superworkflow:e,...n})}_initProperties(e){super._initProperties(e),this._superworkflow=e.superworkflow,this._active=e.defaults.active}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,e.superworkflow._hub.on(Yu(),s=>this._query(s))]}get enabled(){return this._active}enable(){this._active=!0}disable(){this._active=!1}_query(e){if(!this._active||_S(e,this._args))return;this._args=e,this.restart();const{session:s}=this;if(s.meta.input=e,!Gi(e)){this._updateCompletions({session:s,status:j.INITIAL});return}const n=this._buildPayload(e);this._request({payload:n})}_buildPayload(e){return{q:Gi(e)}}_updateDataInHub(e){e.value&&(e={...e,value:e.value.completions}),this._updateCompletions(e)}_updateCompletions(e){this._superworkflow.updateCompletions(e)}}function Ud(t){yn(t,mS.prototype)}class mS{_initAutocomplete(e){this._autocomplete=new pS(this,{defaults:e.defaults.autocomplete})}get autocomplete(){return this._autocomplete}updateCompletions(e){return this._hub.update(wo(),e),this}_destroyAutocomplete(){this._autocomplete&&this._autocomplete._destroy(),this._autocomplete=void 0}}const gS=Object.freeze({group:Te.ASK,name:Ye.SEARCH,payload:{...ve.DEFAULT_API_OPTIONS.payload,...xe.DEFAULT_API_OPTIONS.payload,source_fl:["cover_image","url","created_at","updated_at","published_at","title","authors"]}}),Dd=Object.freeze({...ve.DEFAULT_LAYOUTS,...xe.DEFAULT_LAYOUTS,[b.QUERY]:[$s.type,{placeholder:""}],[b.QUESTION]:[An.type,{raw:!0}],[b.SOURCES]:[If.type,{incremental:!0,itemType:"article",templates:{ordered:!0,article:af,articleInfoBlock:Ro}}]}),bS=Object.freeze({...ve.DEFAULT_TRACKERS,...xe.DEFAULT_TRACKERS}),yS=Object.freeze({...xe.DEFAULT_PAGINATION,active:!0}),wS=Object.freeze({api:{group:Te.ASK,name:Ye.SEARCH_AUTOCOMPLETE,payload:{completion_fields:["suggested_queries"]}}}),ES=Object.freeze({sort:{options:[{field:"relevance",text:"Relevance",default:!0},{field:"published_at",text:"Date"}]}}),SS=Object.freeze({...ve.DEFAULT_OPTIONS,...xe.DEFAULT_OPTIONS,api:gS,layouts:Dd,trackers:bS,autocomplete:wS,pagination:yS,filters:ES}),TS=Object.freeze({main:b.PRODUCTS,members:Object.keys(Dd),mappings:Object.freeze({...ve.ROLES_OPTIONS.mappings,...xe.ROLES_OPTIONS.mappings})}),vS=Object.freeze({api:Object.freeze({polling:!1})});class Ho extends xe{constructor(e,s){super({name:"hybrid-search",plugin:e,client:s,roles:TS,defaults:SS,extraOptions:vS})}_initProperties(e){super._initProperties(e),this._initAutocomplete(e),this._answer=new aS(this)}_initActors(e){super._initActors(e),this._views=new fS({results:this._views,answer:this._answer._views})}restart({type:e}={}){super.restart(),(!e||e===Kt.QUERY)&&this._answer.restart()}get answer(){return this._answer}get questionId(){return this._answer.questionId}_buildPayload(e,s){return e=super._buildPayload(e,s),e=g0(e,s),e=hd(e),e=this._writeQuestionIdToPayload(e,s),e.answer!==!1&&(e=ve.prototype._writeWikiLinkTemplateToPayload.call(this,e)),e}_buildOrderBy(e){if(e)return e.field}_writeQuestionIdToPayload(e,s){if(s===Kt.QUERY)return e;const n=this._answer.questionId;return n?Ui(e,{metadata:{question_id:n}}):e}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),pd(e),e}_updateDataInHub(e,s){this._dispatchDataToAnswerWorkflow(e),e=I0(e,s),super._updateDataInHub(e,s)}_dispatchDataToAnswerWorkflow(e){const{request:s}=e;if(!s)return;const{type:n,payload:i}=s;if(!(n!==Kt.QUERY||!i||i.answer===!1))switch(e.status){case j.LOADING:this._answer._doLoading(e);break;case j.READY:this._answer._queryWithQuestionId(e);break}}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=gd(e,s),e}_destroy(){this._answer.destroy(),super._destroy()}}Tn(Ho.prototype,[ye.PAGINATION,ye.FILTERS]),Ud(Ho.prototype);const AS=Object.freeze({group:Te.SEARCH,name:Ye.SEARCH,payload:{fl:["*"]}}),OS=Object.freeze({api:{group:Te.SEARCH,name:Ye.AUTOCOMPLETE,payload:{completion_fields:["suggested_queries","title"],fl:["title","url","cover_image"]}}}),CS=Object.freeze({...xe.DEFAULT_LAYOUTS}),IS=Object.freeze({...xe.DEFAULT_TRACKERS}),xS=Object.freeze({...xe.DEFAULT_OPTIONS,api:AS,autocomplete:OS,layouts:CS,trackers:IS}),RS=xe.ROLES_OPTIONS;class Fd extends xe{constructor(e,s){super({name:"search",plugin:e,client:s,roles:RS,defaults:xS})}_initProperties(e){super._initProperties(e),this._initAutocomplete(e)}notifyViewUpdate(e=b.PRODUCTS,...s){return super.notifyViewUpdate(e,...s),this}_destroy(e){this._destroyAutocomplete(),super._destroy(e)}}Ud(Fd.prototype);class Md extends yo{constructor(e,s,n){super(e,s,n),this._members=new Map}workflows(){return[...this._members.values()]}create(e=bo){if(this._members.has(e))throw new Error(`Unit already exists: ${e}`);return this._create(e)}has(e=bo){return this._members.has(e)}get(e=bo){if(typeof e!="string")throw new Error(`Required unit ID to be a string: ${e}`);return this._members.get(e)||this._create(e)}_create(e){throw new Error("Not implemented")}}class Be extends pe{_initProperties(e){super._initProperties(e);const{id:s}=e;fe(this,{id:s})}_initSession(e){this._context._members.set(e.id,this),super._initSession(e)}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeUnitIdToInteraction(e,s),e}_writeUnitIdToInteraction(e){const s=this.id,n=this.uuid;return Ze(e,{context:{custom_context:{unit_id:s,unit_instance_uuid:n}}})}_destroy(e){this._context._members.delete(this.id),super._destroy(e)}}Object.assign(Be,{DEFAULT_API_OPTIONS:pe.DEFAULT_API_OPTIONS,DEFAULT_LAYOUTS:pe.DEFAULT_LAYOUTS,DEFAULT_TRACKERS:pe.DEFAULT_TRACKERS,DEFAULT_OPTIONS:pe.DEFAULT_OPTIONS,ROLES_OPTIONS:pe.ROLES_OPTIONS});const LS=Object.freeze({...Be.DEFAULT_API_OPTIONS,group:Te.RECOMMENDATION,name:Ye.USER_TO_PRODUCTS,payload:{...Be.DEFAULT_API_OPTIONS.payload,fl:["*"]}}),jd=Object.freeze({...Be.DEFAULT_LAYOUTS,[b.PRODUCTS]:Ls.type}),kS=Object.freeze({...Be.DEFAULT_TRACKERS,[b.PRODUCTS]:Je}),$S=Object.freeze({...Be.DEFAULT_OPTIONS,api:LS,layouts:jd,trackers:kS}),NS=Sn(Be.ROLES_OPTIONS,{main:b.PRODUCTS,members:Object.keys(jd)});class PS extends Be{constructor(e,s){super({name:"recommendation",context:e,roles:NS,defaults:$S,id:s})}start(){return this._request(),this}notifyViewUpdate(e=b.PRODUCTS,...s){return super.notifyViewUpdate(e,...s),this}}class US extends Md{constructor(e,s){super("recommendations",e,s)}_create(e){return new PS(this,e)}}const DS=Object.freeze({...Be.DEFAULT_API_OPTIONS,group:Te.ASK,name:Ye.RELATED_QUESTIONS}),qd=Object.freeze({...Be.DEFAULT_LAYOUTS,[b.RELATED_QUESTIONS]:[Ls.type,{itemType:"question",link:{rel:"noopener nofollow"}}],[b.QUERY]:[$s.type,{placeholder:"Ask a question"}]}),FS=Object.freeze({...Be.DEFAULT_TRACKERS,[b.RELATED_QUESTIONS]:Je,[b.CONTAINER]:{...Je,itemless:!0},[b.QUERY]:{[De.SUBMIT]:{active:!0}}}),MS=Object.freeze({...Be.DEFAULT_OPTIONS,api:DS,layouts:qd,trackers:FS}),jS=Sn(Be.ROLES_OPTIONS,{main:b.RELATED_QUESTIONS,members:Object.keys(qd)});class Bd extends Be{constructor(e,s){super({name:"explore",context:e,roles:jS,defaults:MS,id:s})}_initProperties(e){super._initProperties(e),this._productId=void 0,this._linkFn=void 0}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._views.get(b.RELATED_QUESTIONS).on("click",s=>this._handleRelatedQuestionClick(s)),this._hub.on(Yt(),s=>this._query(s))]}set productId(e){console.warning("DEPRECATED: use useApi() instead"),this.useApi({product_id:e})}useApi(...e){const s=(typeof e[0]=="object"?e[0]:e[1])||{},{product_id:n}=s;return n&&(this._productId=n),super.useApi(...e)}useLink(e,s){return jo.prototype.useLink.call(this,e,s),s&&this.useLayouts({[b.RELATED_QUESTIONS]:{link:s}}),this}start({relatedQuestions:e=!0}={}){if(this._linkFn===void 0)throw new Error("Must define link mapping function with useLink(fn) before calling start()");if(e)this._request();else{const{session:s}=this;this.updateData({session:s,request:{},value:{related_questions:[]}})}return this}notifyViewUpdate(e=b.RELATED_QUESTIONS,...s){return super.notifyViewUpdate(e,...s),this}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=this._addUrlToRelatedQuestions(e),e}_addUrlToRelatedQuestions(e){const{value:s}=e;if(!s||!s.related_questions)return e;const n=this._linkFn&&this._linkFn[0],i=s.related_questions.map(n?(r=>({text:r,url:this._getSubmitUrl({q:r,generated:!0})})):(r=>({text:r})));return{...e,value:{...s,related_questions:i}}}_handleRelatedQuestionClick({value:e,...s}){this._events.emit("select",Object.freeze({...s,question:e}))}query(e){if(!e.q)throw new Error("q is required in query() call");this._hub.update(Yt(),e)}_query(e){this._submitToPage({...e,generated:!1})}_getSubmitUrl(e){let s=jo.prototype._getSubmitUrl.call(this,e);return!e.generated||!this._productId?s:`${s}&qs=${encodeURIComponent(this._productId)}`}}Mo(Bd.prototype);class qS extends Md{constructor(e,s){super("explores",e,s)}_create(e){return new Bd(this,e)}}let BS=class extends qe{constructor({name:e,plugin:s,MisoClient:n,...i}){super(e||"combo",s),this._name=e,this._plugin=s,this._MisoClient=n,this._options=i}get MisoClient(){return this._MisoClient}get element(){return this._element}async waitForElement(){return this._element||(this._elementRes||(this._elementRes=new kt)).promise}set element(e){this._element=e,this._elementRes&&this._elementRes.resolve(e)}start(e){this._started||(this._started=!0,e&&this.config(e),this._start())}_start(){throw new Error("Unimplemented")}};function zS(t,e,s){if(!t)throw new Error("client is required");HS(t,s),VS(e)}function HS(t,{template:e=Wi,...s}={}){if(typeof e!="function")throw new Error("template must be a function or undefined");const n=Object.keys(s).length>0;e===Wi&&!n||t.ui.asks.useTemplates({followUp:n?i=>e({...s,...i}):e})}function VS(t){if(!t||t.tagName.toLowerCase()==="miso-follow-ups")return;const e=document.createElement("miso-follow-ups");for(const{name:s,value:n}of t.attributes)e.setAttribute(s,n);t.parentNode.replaceChild(e,t)}function QS(t,e){if(!t)throw new Error("client is required");if(e)for(const s of e.querySelectorAll("miso-ask"))s.setAttribute("workflow","active")}const zd=Object.freeze(Ad),WS=Object.freeze(Od),Hd=Object.freeze(Y0),GS=Object.freeze(Object.defineProperty({__proto__:null,constants:zd,phrases:WS,templates:Hd,wireFollowUps:zS,wireRelatedResources:QS},Symbol.toStringTag,{value:"Module"})),{currentScript:Vo}=document,KS=Object.freeze({templates:Hd,autostart:!0}),YS=["templates","phrases","features"];class ZS{constructor(){this._defaults=KS,this._scriptSrc=eT(),this._pageUrl=tT()}resolve(e){return XS(Vd(this._defaults,this._scriptSrc,e,this._pageUrl))}}function Vd(...t){let e={};for(const s of t)s&&(e=JS(e,s));return e}function JS(t,e){if(!e)return t;Object.assign(t,e);for(const s of YS)s in e&&(t[s]={...t[s],...e[s]});return t}function XS({api_key:t,api_host:e,templates:s,phrases:n,...i}={}){return W({apiKey:t,apiHost:e,templates:Qo(s),phrases:n,...i})}function eT(){if(!Vo||!Vo.src)return{};const t=document.createElement("a");t.href=Vo.src;const e={};for(const[s,n]of new URLSearchParams(t.search))s!=="q"&&(e[s]=Qd(n));return e}function tT(){const t={};for(const[e,s]of new URLSearchParams(window.location.search))e.startsWith("miso_")&&e.length>5&&e!=="miso_api_key"?t[e.substring(5)]=Qd(s):e==="q"&&(t.q=s);return t}function Qd(t){return t===""?!0:t==="false"?!1:t}function Qo(t){if(t==null)return t;switch(typeof t){case"function":return t;case"string":case"number":return()=>t;case"object":return Array.isArray(t)?t.map(Qo):sT(t,Qo);default:throw new Error(`Unsupported template type: ${t}`)}}function sT(t,e){const s={};for(const[n,i]of Object.entries(t))s[n]=e(i);return s}class nT{constructor(e,{classPrefix:s=zd.CLASS_PREFIX}={}){if(!e)throw new Error("Root element is required");fe(this,{root:e,followUpsSection:e.querySelector(`.${s}__follow-ups`),relatedResourcesSection:e.querySelector(`.${s}__related-resources`),relatedResourcesContainer:e.querySelector(`.${s}__related-resources miso-ask`)})}}class iT extends BS{constructor(e,s){super({name:"ask-combo",plugin:e,MisoClient:s}),this._options=new ZS,this._localOptions={}}config(e={}){e=Vd(this._localOptions,e);const s=this._options.resolve(e);return this._localOptions=e,this._resolvedOptions=s,this}get resolvedOptions(){return this._resolvedOptions||(this._resolvedOptions=this._options.resolve(this._localOptions))}get client(){return this._client}get elements(){return this._elements}autoStart(){this.resolvedOptions.autostart&&this.start()}async _start(){await jg(),await this.waitForElement(),await this._setupMisoClient(),this._renderRootContent(),this._createClientInstance(),this._setupWorkflows()}async _setupMisoClient(){const{MisoClient:e,resolvedOptions:s}=this,{version:n}=e;fe(e,{name:"miso-ask-combo"}),(n==="dev"||n.indexOf("beta")>0||s.debug)&&e.plugins.use("std:debug"),s.dry_run&&e.plugins.use("std:dry-run"),s.lorem&&await e.plugins.install("std:lorem")}_renderRootContent(){const{element:e,resolvedOptions:s}=this,{templates:n={}}=s;e.innerHTML=n.root(s),this._elements=new nT(e,s)}async _createClientInstance(){this._client=new MisoClient(this.resolvedOptions)}async _setupWorkflows(){const{MisoClient:e,client:s,elements:n,resolvedOptions:i}=this,{wireFollowUps:r,wireRelatedResources:o}=e.ui.defaults.ask,{templates:c={},features:a={},api:u}=i,l=s.ui.asks,f=s.ui.ask;u&&l.useApi(u),a.followUpQuestions!==!1&&r(s,n.followUpsSection,{...i,template:c.followUp}),a.relatedResources!==!1&&a.followUpQuestions!==!1&&o(s,n.relatedResourcesSection),f.autoQuery()}}class rT extends cu{constructor(e){super("layouts",e,{libName:"layout",keyName:s=>s.type}),this._plugin=e}get(e){return this._libraries[e]}create(e,s){if(e!==!1)switch(typeof e){case"function":return{render:e};case"string":const n=this.get(e);if(!n)throw new Error(`Layout of name '${e}' not found.`);return new n(s);default:throw new Error(`Expect a string, a render function, or boolean value false: ${e}`)}}}const oT="miso-stub",Wo="trait",cT=Object.freeze([Wo]);class ds extends HTMLElement{static get tagName(){return oT}static get observedAttributes(){return cT}constructor(){super(),this._traits=[]}connectedCallback(){this._syncTraits()}disconnectedCallback(){for(const e of this._traits)this._destroyTrait(e);this._traits=[]}attributeChangedCallback(e){switch(e){case Wo:this._syncTraits();break}}_syncTraits(){const e=(this.getAttribute(Wo)||"").split(/\s+/).filter(Boolean),s=[];for(const n of this._traits)e.includes(n.constructor.traitName)?s.push(n):this._destroyTrait(n);if(e.length>0){const n=aT(ds.MisoClient);for(const i of e){if(this._traits.find(c=>c.constructor.traitName===i))continue;const r=n[i];if(!r){console.warn(`Unknown trait: ${i}`);continue}const o=new r(this);s.push(o)}}this._traits=s}_destroyTrait(e){try{e._destroy&&e._destroy()}catch(s){console.error(s)}}}function aT(t){const e=t.ui&&t.ui.traits||{};return Object.values(e).reduce((s,n)=>(s[n.traitName]=n,s),{})}let Wd,Go,Ki;async function Gd(t){const e=await lT(t);return Go=Go||e.any(),Ki=Ki||await Go,Ki.ui||await dT(0),Ki}async function lT(t){return t.MisoClient||window.MisoClient||Wd||(Wd=uT())}async function uT(){return new Promise(t=>{(window.misocmd||(window.misocmd=[])).push(()=>t(window.MisoClient))})}function fT(t){for(let e=t;e;e=e.parentNode)if(e.isContainer)return e;throw new Error(`${t.tagName} needs to be placed under a workflow container element.`)}function dT(t){return new Promise(e=>setTimeout(e,t))}const In="logo",Kd="auto",hT=Object.freeze([...ds.observedAttributes,In]);function Ko(t){if(!t)return Kd;switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Invalid logo attribute value: ${t}.`)}}function _T(t){switch(t){case Kd:return;case!0:return"true";case!1:return"false";default:throw new Error(`Invalid logo property value: ${t}.`)}}class at extends ds{static get observedAttributes(){return hT}constructor(){super(),this._workflow=void 0,this._components=new Set}get isContainer(){return!0}get workflow(){return this._workflow}set workflow(e){this._setWorkflow(e)}get logo(){return Ko(this.getAttribute(In))}set logo(e){if(this.logo===e)return;const s=_T(e);s?this.setAttribute(In,s):this.removeAttribute(In)}async connectedCallback(){super.connectedCallback();const e=this._client=await Gd(at);document.body.contains(this)&&(this._setWorkflow(this._getWorkflow(e)),this._onConnected(e))}disconnectedCallback(){this._setWorkflow(void 0),super.disconnectedCallback()}_onConnected(e){}_getWorkflow(e){throw new Error("Unimplemented")}_setWorkflow(e){this._workflow!==e&&(this._workflow&&this._workflow._views.removeContainer(this),e&&e._views.addContainer(this),this._workflow=e)}attributeChangedCallback(e,s,n){switch(e){case In:this._handleLogoUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleLogoUpdate(e,s){const n=Ko(e),i=Ko(s);n===i||!this._workflow||this._workflow._views.refreshElement(this)}get components(){return[...this._components]}_addComponent(e){this._components.has(e)||(this._components.add(e),this._workflow&&this._workflow._views.addComponent(e))}_removeComponent(e){this._components.has(e)&&(this._workflow&&this._workflow._views.removeComponent(e),this._components.delete(e))}_updateComponentRole(e,s,n){this._workflow&&this._workflow._views.updateComponentRole(e,s,n)}}const pT="miso-ask",Yo="workflow",xn="parent-question-id",mT=Object.freeze([...at.observedAttributes,Yo,xn]);class gT extends at{static get tagName(){return pT}static get observedAttributes(){return mT}_getWorkflow(e){return this.boundToActiveWorkflow?e.ui.asks.active:this._getWorkflowByParentQuestionId(e,this.parentQuestionId)}_getWorkflowByParentQuestionId(e,s){return e.ui.asks.getByParentQuestionId(s,{autoCreate:!0})}get parentQuestionId(){return this.getAttribute(xn)||void 0}set parentQuestionId(e){e=e!==void 0?`${e}`:void 0,e!==this.parentQuestionId&&(e?this.setAttribute(xn,e):this.removeAttribute(xn))}get boundToActiveWorkflow(){return this.getAttribute(Yo)==="active"}_setWorkflow(e){this._workflow!==e&&(super._setWorkflow(e),e&&(this.parentQuestionId=e.parentQuestionId))}async connectedCallback(){if(await super.connectedCallback(),document.body.contains(this)){const e=this._client.ui.asks;this._unsubscribes=[...this._unsubscribes||[],e.on("active",s=>{this.boundToActiveWorkflow&&(this.workflow=s.workflow)})]}}disconnectedCallback(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[],super.disconnectedCallback()}attributeChangedCallback(e,s,n){switch(e){case xn:this._handleParentQuestionIdUpdate(s,n);break;case Yo:this._handleQuestionUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleQuestionUpdate(e,s){e=e||void 0,s=s||void 0,!(e===s||!this._client)&&s===ATTR_VALUE_ACTIVE&&this._setWorkflow(this._getWorkflow(this._client))}_handleParentQuestionIdUpdate(e,s){e=e||void 0,s=s||void 0,!(e===s||!this._client)&&this._setWorkflow(this._getWorkflowByParentQuestionId(this._client,s))}}const Rn="unit-id",bT=Object.freeze([...at.observedAttributes,Rn]);class Yi extends at{static get observedAttributes(){return bT}_getWorkflow(e){return this._getWorkflowByUnitId(e,this.unitId)}_getWorkflowByUnitId(e,s){throw new Error("Not implemented")}get unitId(){return this.getAttribute(Rn)||void 0}set unitId(e){e=e&&`${e}`,e?this.setAttribute(Rn,e):this.removeAttribute(Rn)}attributeChangedCallback(e,s,n){switch(e){case Rn:this._handleUnitIdUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleUnitIdUpdate(e,s){e===s||!this._client||this._setWorkflow(this._getWorkflowByUnitId(this._client,s))}}const yT="miso-explore";class wT extends Yi{static get tagName(){return yT}static get observedAttributes(){return Yi.observedAttributes}_getWorkflowByUnitId(e,s){return e.ui.explores.get(s)}}const ET="miso-hybrid-search";class ST extends at{static get tagName(){return ET}static get observedAttributes(){return at.observedAttributes}_getWorkflow(e){return e.ui.hybridSearch}}const TT="miso-search";class vT extends at{static get tagName(){return TT}static get observedAttributes(){return at.observedAttributes}_getWorkflow(e){return e.ui.search}}const AT="miso-recommendation";class OT extends Yi{static get tagName(){return AT}static get observedAttributes(){return Yi.observedAttributes}_getWorkflowByUnitId(e,s){return e.ui.recommendations.get(s)}}const CT=Object.freeze(Object.defineProperty({__proto__:null,MisoAskElement:gT,MisoExploreElement:wT,MisoHybridSearchElement:ST,MisoRecommendationElement:OT,MisoSearchElement:vT},Symbol.toStringTag,{value:"Module"})),IT="miso-component",Ln="role",xT=Object.freeze([Ln]);class ge extends HTMLElement{static get tagName(){return IT}static get observedAttributes(){return xT}constructor({role:e}={}){super(),e&&Object.defineProperty(this,"_role",{value:e,writable:!1})}get role(){return this._role}connectedCallback(){const e=fT(this);this._container&&this._container!==e&&this._container._removeComponent(this),this._syncRole(),e._addComponent(this),this._container=e,this._containerResolution&&this._containerResolution.resolve(e)}_syncRole(){const e=this.getAttribute(Ln);if(e)this._role?console.warn(`Element <${this.tagName}>' already has a predefined role '${this._role}', so attribute '${Ln}="${e}"' is ignored.`):this._role=e;else{if(!this._role)throw new Error(`An attribute '${Ln}' is required for element <${this.tagName}>`);return}}disconnectedCallback(){this._container&&(this._container._removeComponent(this),this._container=void 0,this._containerResolution=void 0)}attributeChangedCallback(e,s,n){s!==n&&e===Ln&&this._container&&this._container._updateComponentRole(this,s,n)}}class RT extends ge{constructor(){super({role:b.QUERY})}static get tagName(){return"miso-query"}}class LT extends ge{constructor(){super({role:b.FOLLOW_UP_QUESTIONS})}static get tagName(){return"miso-follow-up-questions"}}class kT extends ge{constructor(){super({role:b.QUERY_SUGGESTIONS})}static get tagName(){return"miso-query-suggestions"}}class $T extends ge{constructor(){super({role:b.FEEDBACK})}static get tagName(){return"miso-feedback"}}class NT extends ge{constructor(){super({role:b.PRODUCTS})}connectedCallback(){console.warn("Element <miso-results> is deprecated. Please use <miso-products> instead."),super.connectedCallback()}static get tagName(){return"miso-results"}}class PT extends ge{constructor(){super({role:b.PRODUCTS})}static get tagName(){return"miso-products"}}class UT extends ge{constructor(){super({role:b.QUESTION})}static get tagName(){return"miso-question"}}class DT extends ge{constructor(){super({role:b.ANSWER})}static get tagName(){return"miso-answer"}}class FT extends ge{constructor(){super({role:b.REASONING})}static get tagName(){return"miso-reasoning"}}class MT extends ge{constructor(){super({role:b.SOURCES})}static get tagName(){return"miso-sources"}}class jT extends ge{constructor(){super({role:b.IMAGES})}static get tagName(){return"miso-images"}}class qT extends ge{constructor(){super({role:b.RELATED_RESOURCES})}static get tagName(){return"miso-related-resources"}}class BT extends ge{constructor(){super({role:b.RELATED_QUESTIONS})}static get tagName(){return"miso-related-questions"}}class zT extends ge{constructor(){super({role:b.AFFILIATION})}static get tagName(){return"miso-affiliation"}}class HT extends ge{constructor(){super({role:b.KEYWORDS})}static get tagName(){return"miso-keywords"}}class VT extends ge{constructor(){super({role:b.TOTAL})}static get tagName(){return"miso-total"}}class QT extends ge{constructor(){super({role:b.FACETS})}static get tagName(){return"miso-facets"}}class WT extends ge{constructor(){super({role:b.MORE})}static get tagName(){return"miso-more"}}class GT extends ge{constructor(){super({role:b.SORT})}static get tagName(){return"miso-sort"}}class KT extends ge{constructor(){super({role:b.ERROR})}static get tagName(){return"miso-error"}}const YT=Object.freeze(Object.defineProperty({__proto__:null,MisoAffiliationElement:zT,MisoAnswerElement:DT,MisoComponentElement:ge,MisoErrorElement:KT,MisoFacetsElement:QT,MisoFeedbackElement:$T,MisoFollowUpQuestionsElement:LT,MisoImagesElement:jT,MisoKeywordsElement:HT,MisoMoreElement:WT,MisoProductsElement:PT,MisoQueryElement:RT,MisoQuerySuggestionsElement:kT,MisoQuestionElement:UT,MisoReasoningElement:FT,MisoRelatedQuestionsElement:BT,MisoRelatedResourcesElement:qT,MisoResultsElement:NT,MisoSortElement:GT,MisoSourcesElement:MT,MisoTotalElement:VT},Symbol.toStringTag,{value:"Module"}));class kn extends ds{static get observedAttributes(){return ds.observedAttributes}constructor(){super(),this._context=void 0}get context(){return this._context}set context(e){this._setContext(e)}async connectedCallback(){super.connectedCallback();const e=this._client=await Gd(kn);document.body.contains(this)&&this._setContext(this._getContext(e))}disconnectedCallback(){this._setContext(void 0),super.disconnectedCallback()}_getContext(e){throw new Error("Unimplemented")}_setContext(e){if(this._context===e)return;const s=this._context;this._context=e,this._onContext(e,s)}_onContext(){}}const ZT="miso-follow-ups";class JT extends kn{static get tagName(){return ZT}static get observedAttributes(){return kn.observedAttributes}constructor(){super(),this._elementToWorkflow=new WeakMap,this._unsubscribes=[]}_getContext(e){return e.ui.asks}_onContext(e,s){e!==s&&(this._unwire(),this._wire(e))}_unwire(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[]}_wire(e){e&&(e._autoNextFn||e.autoNext(),this._unsubscribes.push(e.on("create",s=>{const{parentQuestionId:n}=s,i=s._options.resolved.templates.followUp;if(!n||!i)return;const r=this.children.length;this.insertAdjacentHTML("beforeend",i({parentQuestionId:n}));const o=this.children.length;for(const c of Array.prototype.slice.call(this.children,r,o))this._elementToWorkflow.set(c,s)})),this._unsubscribes.push(e.on("loading",({workflow:s})=>{for(const n of this.children)if(this._elementToWorkflow.get(n)===s){n.scrollIntoView({behavior:"smooth",block:"start"});break}})),this._unsubscribes.push(e.on("destroy",({workflow:s})=>{for(const n of this.children)this._elementToWorkflow.get(n)===s&&(this._elementToWorkflow.delete(n),n.remove())})))}}const XT=Object.freeze(Object.defineProperty({__proto__:null,MisoFollowUpsElement:JT},Symbol.toStringTag,{value:"Module"}));class Zi extends HTMLElement{constructor(){super()}async connectedCallback(){document.body.contains(this)&&this._setCombo(this._getCombo(Zi.MisoClient))}disconnectedCallback(){}_getCombo(e){throw new Error("Unimplemented")}_setCombo(e){this._combo!==e&&(this._combo=e,e.element=this,e.autoStart())}}const ev="miso-ask-combo";class tv extends Zi{static get tagName(){return ev}constructor(){super()}_getCombo(e){return e.ui.combo.ask}}const sv=Object.freeze(Object.defineProperty({__proto__:null,MisoBannerElement:Hi,MisoStubElement:ds,combos:Object.freeze(Object.defineProperty({__proto__:null,MisoAskComboElement:tv},Symbol.toStringTag,{value:"Module"})),containers:CT,contexts:XT,roles:YT},Symbol.toStringTag,{value:"Module"})),Yd="miso-hybrid-search-combo",Zd=Object.freeze(Object.defineProperty({__proto__:null,CLASS_PREFIX:Yd,CONAINER_TAG:"miso-hybrid-search"},Symbol.toStringTag,{value:"Module"})),nv="You asked ${value}",iv="Sources",rv="You searched for ${value}",ov="${value} Results",Jd="Show more",Xd="Show less",eh=Object.freeze(Object.defineProperty({__proto__:null,keywords:rv,question:nv,showLess:Xd,showMore:Jd,sources:iv,total:ov},Symbol.toStringTag,{value:"Module"}));class cv extends Cd{constructor(){super({helpers:Ji})}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready !unanswerable"},[...this.question(e),"<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}answerBox(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__answer-box`]},[s("div",{classes:[`${n}__answer-box-inner`]},this.answerGroup(e)),this.answerBoxToggle(e)])}question(e){const{phrase:s}=this._helpers;return s(e,{name:"question",tag:"div"}).replaceAll("${value}","<miso-question></miso-question>")}answerBoxToggle(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__answer-box-toggle-container`]},[s("div",{classes:[`${n}__answer-box-toggle`],"data-role":"answer-box-toggle"})])}searchResultsGroup(e){const{container:s}=this._helpers;return s(e,{name:"search-results",visibleWhen:"loading ready"},[this.searchResultsInfoGroup(e),this.searchResultsFilters(e),"<miso-products></miso-products>",this.more(e)])}searchResultsInfoGroup(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-info`]},[this.keywords(e),this.total(e)])}searchResultsFilters(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-filters`]},["<miso-facets></miso-facets>","<miso-sort></miso-sort>"])}keywords(e){const{phrase:s}=this._helpers;return s(e,{name:"keywords",tag:"div",inline:!0}).replaceAll("${value}","<miso-keywords></miso-keywords>")}total(e){const{phrase:s}=this._helpers;return s(e,{name:"total",tag:"div",inline:!0}).replaceAll("${value}","<miso-total></miso-total>")}more(e){if(!e.moreButton)return"";const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-more-container`]},["<miso-more></miso-more>"])}}const Ji=Pi(new Id({...Zd,DEFAULT_PHRASES:eh})),th=Pi(new cv({helpers:Ji}));function av(t={}){const{normalizeOptions:e,section:s,container:n}=Ji;t=e(t);const{answerBox:i,answerGroup:r,searchResultsGroup:o}=th,{answerBox:c=!1}=t;return[s(t,{name:"question"},[n(t,{name:"query"},"<miso-query></miso-query>")]),s(t,{name:"answer"},c?[i(t)]:r(t)),s(t,{name:"search-results"},o(t))].join("")}const lv=Object.freeze(Object.defineProperty({__proto__:null,helpers:Ji,root:av,sections:th},Symbol.toStringTag,{value:"Module"})),$n="answer-box-open",Xi="answer-box-shown",sh='[data-role="answer-box-toggle"]';class Zo{constructor(e,s,{classPrefix:n=Yd,phrases:i={},hideWhenUnanswerable:r=!0}={}){this._client=e,this._workflow=e.ui.hybridSearch,this._element=s,this._classPrefix=n,this._phrases=i,this._hideWhenUnanswerable=r,this._init()}_init(){const e=this._element,s=this._workflow;s.answerBox=this,s._unsubscribes.push(()=>{s.answerBox===this&&(this.destroy(),s.answerBox=void 0)});const n=i=>this._handleClick(i);e.addEventListener("click",n),this._syncWofkflowStatus(),this._syncButtonText(),this._unsubscribes=[()=>e.removeEventListener("click",n),s._answer._hub.on(Ie(),()=>this._syncWofkflowStatus())]}_handleClick({target:e,button:s}){s===0&&e.closest(sh)&&this.toggleOpen()}_syncWofkflowStatus(){const{status:e}=this._workflow._answer,{meta:{unanswerable:s=!1}={}}=this._workflow._answer._hub.states[Ie()];switch(e){case j.ERRONEOUS:case j.READY:s&&this._hideWhenUnanswerable?this.hide():this.show();break;default:this.hide()}}_updateBoxStatus(e,s){this._element.classList[e](`${this._classPrefix}__${s}`)}_syncButtonText(){const e=this.isOpen?this._phrases.showLess||Xd:this._phrases.showMore||Jd;for(const s of this._element.querySelectorAll(sh))s.textContent=e}_syncScroll(){this.isOpen||this._element.scrollIntoView({behavior:"smooth"})}destroy(){for(const s of this._unsubscribes)s();const e=this._workflow;e&&e.answerBox===this&&delete e.answerBox}}const uv={isOpen:$n,shown:Xi},fv={toggleOpen:["toggle",$n],open:["add",$n],close:["remove",$n],toggleHidden:["toggle",Xi],show:["add",Xi],hide:["remove",Xi]};for(const[t,e]of Object.entries(uv))Object.defineProperty(Zo.prototype,t,{get(){return this._element.classList.contains(`${this._classPrefix}__${e}`)}});for(const[t,[e,s]]of Object.entries(fv))Zo.prototype[t]=function(){this._updateBoxStatus(e,s),s===$n&&(this._syncButtonText(),this._syncScroll())};function dv(t,e,s={}){if(!t)throw new Error("client is required");e&&new Zo(t,e,s)}const hv=Object.freeze(Zd),_v=Object.freeze(eh),pv=Object.freeze(lv),mv=Object.freeze(Object.defineProperty({__proto__:null,constants:hv,phrases:_v,templates:pv,wireAnswerBox:dv},Symbol.toStringTag,{value:"Module"})),gv=Object.freeze(GS),bv=Object.freeze(mv),yv=Object.freeze(Object.defineProperty({__proto__:null,ask:gv,hybridSearch:bv},Symbol.toStringTag,{value:"Module"}));function wv(t,e){for(const s of e)Object.defineProperty(t,s,{get(){return this._element&&this._element.classList.contains(s)}})}function Ev(t,e){for(const{action:s,classAction:n,className:i}of e)t[s]=function(){this._element&&this._element.classList[n](i),this[`_${s}`]&&this[`_${s}`]()}}function Sv(t,e){t._handleClick=function(s){const{target:n,button:i}=s;if(i===0){for(let{role:r,selector:o,action:c}of e)if(o=o||`[data-role="${r}"]`,!!o&&n.closest(o)){this[c](),s.stopPropagation();return}}}}function Tv(t){const e=t._element;if(!e)return()=>{};const s=n=>t._handleClick(n);return e.addEventListener("click",s),()=>e.removeEventListener("click",s)}const nh="miso-collapsible",Jo="expanded",vv=[{action:"expand",classAction:"add",className:Jo},{action:"collapse",classAction:"remove",className:Jo}],Av=[{role:"expand",action:"expand"},{role:"collapse",action:"collapse"},{role:"toggle-expand",action:"toggle"}];class er{static get traitName(){return"collapsible"}constructor(e){this._element=e,e.collapsible=this,e.classList.add(nh),this._unsubscribes=[Tv(this)]}_destroy(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[],delete this._element.collapsible,this._element.classList.remove(nh),this._element=void 0}toggle(){this.expanded?this.collapse():this.expand()}}wv(er.prototype,[Jo]),Ev(er.prototype,vv),Sv(er.prototype,Av);const Ov=Object.freeze(Object.defineProperty({__proto__:null,CollapsibleTrait:er},Symbol.toStringTag,{value:"Module"})),Cv="ui";let ih,rh;async function Iv(){return rh||(rh=tu(xv()))}function xv(){return ih||(ih=su(Cv))}const Rv="std:ui";class Lv extends qe{static get id(){return Rv}constructor(){super("ui"),this.layouts=new rT(this),this._recommendations=new WeakMap,this._explores=new WeakMap,this._asks=new WeakMap,this._extensions=new WeakMap,this._ready=new kt}async install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this));const n={defaults:yv,traits:Ov};Wt(n,this,["layouts","combo","ready"]),fe(this,{MisoClient:e}),fe(e,{ui:n}),this.combo=new Nv(this,e);const i=Object.values(u0).filter(p=>p.type);for(const p of i)p.MisoClient=e;for(const p of i)this.layouts.register(p);const{containers:r,roles:o,combos:c,contexts:a,...u}=sv,l=[...Object.values(c),...Object.values(a),...Object.values(r),...Object.values(o),...Object.values(u)],f=[at,kn,Zi];for(const p of[...f,...l])p.MisoClient=e;await Iv();for(const p of l)Mg(p);this._ready.resolve()}async requireExtension(e){switch(e){case"markdown":return await this.MisoClient.plugins.install("std:ui-markdown");default:throw new Error(`Unknown extension: ${e}`)}}get ready(){return Promise.all([this._ready.promise,MisoClient.any()]).then(()=>{})}_injectClient(e){fe(e,{ui:new $v(this,e)})}_getExtensions(e){if(this._extensions.has(e))return this._extensions.get(e);const s=new kv(this,e);return this._extensions.set(e,s),s}_getRecommendations(e){let s=this._recommendations.get(e);return s||this._recommendations.set(e,s=new US(this,e)),s}_getExplores(e){let s=this._explores.get(e);return s||this._explores.set(e,s=new qS(this,e)),s}_getAsks(e){let s=this._asks.get(e);return s||this._asks.set(e,s=new kd(this,e)),s}}class kv{constructor(e,s){this._plugin=e,this._client=s,this._contexts={}}async require(e){if(this._contexts[e])return this._contexts[e];const s=await this._plugin.requireExtension(e);return this._contexts[e]=s.getContext(this._client)}}class $v{constructor(e,s){this._plugin=e,this._client=s,fe(this,{sources:{api:of(s)}})}get recommendations(){return this._recommendations||(this._recommendations=this._plugin._getRecommendations(this._client))}get recommendation(){return this.recommendations.get()}get search(){return this._search||(this._search=new Fd(this._plugin,this._client))}get asks(){return this._asks||(this._asks=this._plugin._getAsks(this._client))}get ask(){return this.asks.root}get hybridSearch(){return this._hybridSearch||(this._hybridSearch=new Ho(this._plugin,this._client))}get explores(){return this._explores||(this._explores=this._plugin._getExplores(this._client))}get explore(){return this.explores.get()}get ready(){return this._plugin._ready.promise}}class Nv{constructor(e,s){this._plugin=e,this._MisoClient=s}get ask(){return this._ask||(this._ask=new iT(this._plugin,this._MisoClient))}}Nt.plugins.use(Lv);function Pv(t){const e=[];function s(i){e.push(i)}eu("misodev",{transform:i=>()=>i({addCmdTransform:s})});const n=i=>{for(const r of e)i=r(i);return i};setTimeout(()=>{eu("misocmd",{transform:n}),t&&t()})}Nt.attach(),Pv($b);const Nn=new Nt(Ql);Nn.ui.asks.useApi({source_fl:["cover_image","url","created_at","updated_at","published_at","tags"],related_resource_fl:["cover_image","url","created_at","updated_at","published_at","tags"]}),Nn.ui.asks.useApi(!1);const Ps={setRequestListener:t=>{Nn.ui.asks.on("request",t)},query:t=>{Nn.ui.ask.query({q:t})},updateData:(t,e,s)=>{t.updateData({session:e,value:s})},askFollowUpQuestion:(t,e)=>{if(!t||!e)return;const s=t.getOrCreateNext();s&&s.query({q:e})},sendFeedbackInteraction:(t,e)=>{Nn.api.interactions.upload({type:"feedback",value:e,result_type:"answer",context:{custom_context:{value:e,result_type:"answer",api_group:"ask",api_name:"questions",root_question_id:t,question_id:t}}})}},Uv=(t={})=>({parentQuestionId:null,questionId:null,query:null,data:null,pollingIntervalId:null,selectedFeedback:null,sdkSession:null,sdkWorkflow:null,...t}),bt=Gn({threadQuestions:[],showingSourcesQuestionId:null}),Dv=async t=>{Ps.query(t)},Fv=async t=>{if(bt.threadQuestions.length===0)return;const e=Xo().sdkWorkflow;Ps.askFollowUpQuestion(e,t)};Ps.setRequestListener(({workflow:t,session:e,payload:s})=>{const{parent_question_id:n=null,question:i}=s;bt.threadQuestions.push(Uv({parentQuestionId:n,query:i,sdkWorkflow:vr(t),sdkSession:vr(e)})),Mv(s)});const Mv=async t=>{try{const e=await Og(t),{question_id:s}=e.data;Xo().questionId=s,jv(s)}catch(e){console.error(e)}},jv=t=>{const e=Us(t);!e||e.pollingIntervalId||(ch(t),e.pollingIntervalId=setInterval(()=>{ch(t)},1e3))},oh=t=>{const e=Us(t);!e||!e.pollingIntervalId||(clearInterval(e.pollingIntervalId),e.pollingIntervalId=null)},ch=async t=>{const e=Us(t);if(e)try{const s=await Cg(t),{data:n}=s,{finished:i}=n;e.data=n,Ps.updateData(e.sdkWorkflow,e.sdkSession,n),i&&oh(t)}catch(s){oh(t),console.error(s)}},Us=t=>bt.threadQuestions.find(e=>e.questionId===t),Xo=()=>bt.threadQuestions[bt.threadQuestions.length-1],qv=t=>mt(()=>Us(t)),Bv=(t,e)=>{const s=Us(t);if(s.selectedFeedback===e){Ps.sendFeedbackInteraction(t,"unselected"),s.selectedFeedback=null;return}Ps.sendFeedbackInteraction(t,e),s.selectedFeedback=e},zv=t=>{bt.showingSourcesQuestionId=t},Hv=()=>{bt.showingSourcesQuestionId=null},Vv=mt(()=>bt.threadQuestions.filter(t=>!!t.questionId)),Qv=mt(()=>Xo()),Wv=mt(()=>bt.showingSourcesQuestionId&&Us(bt.showingSourcesQuestionId)?.data?.sources||null),Jt=()=>({query:Dv,askFollowUpQuestion:Fv,questions:Vv,useQuestionById:qv,latestQuestion:Qv,sendFeedback:Bv,showSources:zv,hideSources:Hv,showingSources:Wv}),Gv={class:"mi-answer-dialog"},Kv={class:"mi-answer-dialog__question-container"},Yv={class:"mi-answer-dialog__question"},Zv={class:"mi-answer-dialog__answer-container"},Jv={class:"mi-answer-dialog__answer"},Xv=["parent-question-id"],eA={key:0,class:"mi-answer-dialog__feedback-block"},tA={class:"mi-answer-dialog__feedback-buttons-container"},sA={class:"mi-answer-dialog__sponsored-results-block"},nA=Lt({__name:"AnswerDialog",props:{questionId:{type:String,required:!0}},setup(t){const e=t,{onMobileSponsoredPlaceholderReady:s}=ol(),n=At(null),{useQuestionById:i,sendFeedback:r,showSources:o}=Jt(),c=i(e.questionId);return en(()=>{s(n.value,[])}),(a,u)=>(ie(),ue("div",Gv,[C("div",Kv,[u[3]||(u[3]=C("div",{class:"mi-answer-dialog__question-icon"},[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 15C0 23.28 6.72 30 15 30C23.28 30 30 23.28 30 15C30 6.72 23.28 0 15 0C6.72 0 0 6.72 0 15ZM15 4.5C17.49 4.5 19.5 6.51 19.5 9C19.5 11.49 17.49 13.5 15 13.5C12.51 13.5 10.5 11.49 10.5 9C10.5 6.51 12.51 4.5 15 4.5ZM15 25.8C11.25 25.8 7.935 23.88 6 20.97C6.045 17.985 12 16.35 15 16.35C17.985 16.35 23.955 17.985 24 20.97C22.065 23.88 18.75 25.8 15 25.8Z",fill:"#0053C0"})])],-1)),C("div",Yv,ut(be(c).query),1)]),C("div",Zv,[u[6]||(u[6]=jr('<div class="mi-answer-dialog__answer-icon" data-v-1317bd52><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none" data-v-1317bd52><path d="M13.9599 10.5273L16.5781 12.1834L15.5771 21.6525L29.6648 13.0529C29.4112 11.0257 28.7439 9.07228 27.7044 7.31403C26.6649 5.55578 25.2754 4.03022 23.6223 2.83208C21.9691 1.63395 20.0874 0.788819 18.0943 0.349181C16.1011 -0.0904579 14.0389 -0.11522 12.0357 0.276432C10.0326 0.668083 8.13128 1.46779 6.44985 2.62588C4.76842 3.78397 3.34278 5.27573 2.26146 7.00851C1.18015 8.7413 0.466243 10.6781 0.164082 12.6987C-0.138078 14.7192 -0.0220431 16.7804 0.504982 18.7542L13.9599 10.5273Z" fill="#323A56" data-v-1317bd52></path><path d="M14.3898 26.4296L11.7717 24.7735L12.7726 15.3086L1.75391 22.0408C3.22578 24.837 5.54748 27.0925 8.38364 28.4814C11.2198 29.8703 14.4236 30.3208 17.5323 29.7679C20.641 29.2149 23.4936 27.6871 25.6781 25.405C27.8626 23.123 29.2659 20.205 29.6853 17.0724L14.3898 26.4296Z" fill="#323A56" data-v-1317bd52></path><path d="M15.699 9.16412C16.8618 9.16412 17.8043 8.22058 17.8043 7.05667C17.8043 5.89276 16.8618 4.94922 15.699 4.94922C14.5363 4.94922 13.5938 5.89276 13.5938 7.05667C13.5938 8.22058 14.5363 9.16412 15.699 9.16412Z" fill="#F64E00" data-v-1317bd52></path></svg></div>',1)),C("div",Jv,[C("miso-ask",{class:"miso-circled-citation-index","visible-when":"ready",logo:!1,"parent-question-id":be(c).parentQuestionId},[...u[4]||(u[4]=[C("miso-answer",null,null,-1)])],8,Xv),be(c)?.data?.sources&&be(c).data.sources.length>0?(ie(),ue("button",{key:0,class:"mi-answer-dialog__view-sources-button",onClick:u[0]||(u[0]=l=>be(o)(t.questionId))},[...u[5]||(u[5]=[Mr(" View all sources ",-1),C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.6798 0L4.7998 1.88L10.9065 8L4.7998 14.12L6.6798 16L14.6798 8L6.6798 0Z",fill:"#0053C0"})],-1)])])):it("",!0)])]),be(c)?.data?.finished?(ie(),ue("div",eA,[u[7]||(u[7]=Mr(" Was this answer helpful? ",-1)),C("div",tA,[C("button",{class:Bs(["mi-answer-dialog__feedback-button",{"mi-answer-dialog__feedback-button--active":be(c).selectedFeedback==="helpful"}]),onClick:u[1]||(u[1]=l=>be(r)(t.questionId,"helpful"))}," Yes ",2),C("button",{class:Bs(["mi-answer-dialog__feedback-button",{"mi-answer-dialog__feedback-button--active":be(c).selectedFeedback==="unhelpful"}]),onClick:u[2]||(u[2]=l=>be(r)(t.questionId,"unhelpful"))}," No ",2)])])):it("",!0),C("div",sA,[u[8]||(u[8]=C("div",{class:"mi-answer-dialog__sponsored-results-block-title"},"Sponsored Results",-1)),C("div",{ref_key:"adContainerElement",ref:n,class:"mi-answer-dialog__sponsored-results-container"},null,512)])]))}},[["__scopeId","data-v-1317bd52"]]),iA={class:"mi-answer-thread"},rA=Lt({__name:"AnswerThread",setup(t){const{questions:e}=Jt();return(s,n)=>(ie(),ue("div",iA,[(ie(!0),ue(Ne,null,ai(be(e),i=>(ie(),ue("div",{class:"mi-answer-thread__item",key:i.questionId},[_e(nA,{"question-id":i.questionId},null,8,["question-id"])]))),128))]))}},[["__scopeId","data-v-67cc1278"]]),oA={class:"mi-sponsored-results-block"},cA={key:0,class:"mi-sponsored-results-block__title"},aA=Lt({__name:"SponsoredResultsBlock",setup(t){const{onDesktopSponsoredPlaceholderReady:e}=ol(),s=At(null),n=At(null),{latestQuestion:i}=Jt();return Es(i,r=>{r&&e(s.value,n.value,[])}),(r,o)=>(ie(),ue("div",oA,[be(i)?(ie(),ue("div",cA,"Sponsored Results")):it("",!0),C("div",{ref_key:"containerElement",ref:s,class:"mi-sponsored-results-block__container"},null,512),C("div",{ref_key:"stickyContainerElement",ref:n,class:"mi-sponsored-results-block__sticky-container"},null,512)]))}},[["__scopeId","data-v-20ce34d2"]]),lA={key:0,class:"mi-related-questions-block"},uA={class:"mi-related-questions-block__list"},fA=["onClick"],dA={class:"mi-related-questions-block__question-text"},hA=Lt({__name:"RelatedQuestionsBlock",setup(t){const{latestQuestion:e,askFollowUpQuestion:s}=Jt(),n=mt(()=>e.value?.data?.followup_questions||[]);return(i,r)=>n.value.length>0?(ie(),ue("div",lA,[r[2]||(r[2]=C("div",{class:"mi-related-questions-block__title"},"Related Questions",-1)),C("div",uA,[(ie(!0),ue(Ne,null,ai(n.value,o=>(ie(),ue("button",{key:o,class:"mi-related-questions-block__question",onClick:c=>be(s)(o)},[r[0]||(r[0]=jr('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17" fill="none" data-v-2e2ff070><mask id="path-1-outside-1_43036_900" maskUnits="userSpaceOnUse" x="5.53027" y="1.62976" width="15" height="15" fill="black" data-v-2e2ff070><rect fill="white" x="5.53027" y="1.62976" width="15" height="15" data-v-2e2ff070></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M15.1066 10.1769H14.5646L14.3725 9.99168C15.0449 9.20952 15.4497 8.19408 15.4497 7.08945C15.4497 4.62633 13.4531 2.62976 10.99 2.62976C8.52684 2.62976 6.53027 4.62633 6.53027 7.08945C6.53027 9.55257 8.52684 11.5491 10.99 11.5491C12.0946 11.5491 13.11 11.1443 13.8922 10.472L14.0774 10.6641V11.2061L17.508 14.6298L18.5303 13.6075L15.1066 10.1769ZM10.9907 10.1771C9.28226 10.1771 7.90319 8.79804 7.90319 7.08964C7.90319 5.38123 9.28226 4.00216 10.9907 4.00216C12.6991 4.00216 14.0781 5.38123 14.0781 7.08964C14.0781 8.79804 12.6991 10.1771 10.9907 10.1771Z" data-v-2e2ff070></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M15.1066 10.1769H14.5646L14.3725 9.99168C15.0449 9.20952 15.4497 8.19408 15.4497 7.08945C15.4497 4.62633 13.4531 2.62976 10.99 2.62976C8.52684 2.62976 6.53027 4.62633 6.53027 7.08945C6.53027 9.55257 8.52684 11.5491 10.99 11.5491C12.0946 11.5491 13.11 11.1443 13.8922 10.472L14.0774 10.6641V11.2061L17.508 14.6298L18.5303 13.6075L15.1066 10.1769ZM10.9907 10.1771C9.28226 10.1771 7.90319 8.79804 7.90319 7.08964C7.90319 5.38123 9.28226 4.00216 10.9907 4.00216C12.6991 4.00216 14.0781 5.38123 14.0781 7.08964C14.0781 8.79804 12.6991 10.1771 10.9907 10.1771Z" fill="url(#paint0_linear_43036_900)" data-v-2e2ff070></path><path d="M14.5646 10.1769L13.8704 10.8968L14.161 11.1769H14.5646V10.1769ZM14.3725 9.99168L13.6142 9.3398L12.9985 10.056L13.6783 10.7115L14.3725 9.99168ZM13.8922 10.472L14.612 9.77782L13.9565 9.09798L13.2403 9.71364L13.8922 10.472ZM14.0774 10.6641H15.0774V10.2605L14.7973 9.96993L14.0774 10.6641ZM14.0774 11.2061H13.0774V11.6209L13.371 11.9139L14.0774 11.2061ZM17.508 14.6298L16.8016 15.3376L17.5087 16.0433L18.2151 15.3369L17.508 14.6298ZM18.5303 13.6075L19.2374 14.3146L19.9438 13.6082L19.2381 12.9011L18.5303 13.6075ZM15.1066 10.1769V9.17693H14.5646V10.1769V11.1769H15.1066V10.1769ZM14.5646 10.1769L15.2587 9.45709L15.0666 9.27184L14.3725 9.99168L13.6783 10.7115L13.8704 10.8968L14.5646 10.1769ZM14.3725 9.99168L15.1308 10.6436C15.9529 9.6872 16.4497 8.44261 16.4497 7.08945H15.4497H14.4497C14.4497 7.94556 14.1368 8.73184 13.6142 9.3398L14.3725 9.99168ZM15.4497 7.08945H16.4497C16.4497 4.07405 14.0054 1.62976 10.99 1.62976V2.62976V3.62976C12.9008 3.62976 14.4497 5.17862 14.4497 7.08945H15.4497ZM10.99 2.62976V1.62976C7.97456 1.62976 5.53027 4.07405 5.53027 7.08945H6.53027H7.53027C7.53027 5.17862 9.07913 3.62976 10.99 3.62976V2.62976ZM6.53027 7.08945H5.53027C5.53027 10.1049 7.97456 12.5491 10.99 12.5491V11.5491V10.5491C9.07913 10.5491 7.53027 9.00029 7.53027 7.08945H6.53027ZM10.99 11.5491V12.5491C12.3431 12.5491 13.5877 12.0524 14.5441 11.2303L13.8922 10.472L13.2403 9.71364C12.6323 10.2363 11.8461 10.5491 10.99 10.5491V11.5491ZM13.8922 10.472L13.1724 11.1661L13.3576 11.3582L14.0774 10.6641L14.7973 9.96993L14.612 9.77782L13.8922 10.472ZM14.0774 10.6641H13.0774V11.2061H14.0774H15.0774V10.6641H14.0774ZM14.0774 11.2061L13.371 11.9139L16.8016 15.3376L17.508 14.6298L18.2144 13.9219L14.7838 10.4983L14.0774 11.2061ZM17.508 14.6298L18.2151 15.3369L19.2374 14.3146L18.5303 13.6075L17.8232 12.9004L16.8009 13.9227L17.508 14.6298ZM18.5303 13.6075L19.2381 12.9011L15.8144 9.47053L15.1066 10.1769L14.3988 10.8833L17.8225 14.3139L18.5303 13.6075ZM10.9907 10.1771V9.17711C9.83455 9.17711 8.90319 8.24576 8.90319 7.08964H7.90319H6.90319C6.90319 9.35033 8.72998 11.1771 10.9907 11.1771V10.1771ZM7.90319 7.08964H8.90319C8.90319 5.93352 9.83455 5.00216 10.9907 5.00216V4.00216V3.00216C8.72998 3.00216 6.90319 4.82895 6.90319 7.08964H7.90319ZM10.9907 4.00216V5.00216C12.1468 5.00216 13.0781 5.93352 13.0781 7.08964H14.0781H15.0781C15.0781 4.82895 13.2514 3.00216 10.9907 3.00216V4.00216ZM14.0781 7.08964H13.0781C13.0781 8.24576 12.1468 9.17711 10.9907 9.17711V10.1771V11.1771C13.2514 11.1771 15.0781 9.35033 15.0781 7.08964H14.0781Z" fill="white" mask="url(#path-1-outside-1_43036_900)" data-v-2e2ff070></path><path d="M7.41016 2.40283L8.47168 5.5874L11.6572 6.6499L12.7949 7.02979L11.6572 7.40967L8.47168 8.47119L7.41016 11.6567L7.03027 12.7944L6.65039 11.6567L5.58789 8.47119L2.40332 7.40967L1.26562 7.02979L2.40332 6.6499L5.58789 5.5874L6.65039 2.40283L7.03027 1.26514L7.41016 2.40283Z" fill="url(#paint1_linear_43036_900)" stroke="white" stroke-width="0.8" data-v-2e2ff070></path><defs data-v-2e2ff070><linearGradient id="paint0_linear_43036_900" x1="7.53027" y1="2.32312" x2="14.3461" y2="15.286" gradientUnits="userSpaceOnUse" data-v-2e2ff070><stop stop-color="#0F1865" data-v-2e2ff070></stop><stop offset="1" stop-color="#303FC8" data-v-2e2ff070></stop></linearGradient><linearGradient id="paint1_linear_43036_900" x1="5.90527" y1="3.31723" x2="10.2576" y2="9.95246" gradientUnits="userSpaceOnUse" data-v-2e2ff070><stop stop-color="#0F1865" data-v-2e2ff070></stop><stop offset="1" stop-color="#303FC8" data-v-2e2ff070></stop></linearGradient></defs></svg>',1)),C("span",dA,ut(o),1),r[1]||(r[1]=C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.34039 0L2.40039 0.94L5.45372 4L2.40039 7.06L3.34039 8L7.34039 4L3.34039 0Z",fill:"#333E8B"})],-1))],8,fA))),128))])])):it("",!0)}},[["__scopeId","data-v-2e2ff070"]]),_A={key:0,class:"mi-recommended-articles-block"},pA={class:"mi-recommended-articles-block__content-container"},mA=["href"],gA={class:"mi-recommended-articles-block__item"},bA={class:"mi-recommended-articles-block__item-image-container"},yA=["src","alt"],wA={class:"mi-recommended-articles-block__item-content-container"},EA={key:0,class:"mi-recommended-articles-block__item-tag"},SA={class:"mi-recommended-articles-block__item-title"},TA={key:1,class:"mi-recommended-articles-block__item-author"},vA=Lt({__name:"RecommendedArticlesBlock",setup(t){const{latestQuestion:e}=Jt(),s=mt(()=>e.value?.data?.related_resources||[]),n=At(window.innerWidth/100),i=mt(()=>n.value*10.2),r=mt(()=>(i.value+24)*3),o=mt(()=>Math.ceil(s.value.length/3)),c=At(1),a=At(null),u=()=>{n.value=window.innerWidth/100,c.value=1,a.value&&(a.value.style.transform="translateX(0)")},l=()=>{if(c.value>1&&a.value){c.value-=1;const p=r.value*(c.value-1);a.value&&(a.value.style.transform=`translateX(-${p}px)`)}},f=()=>{if(c.value<o.value&&a.value){c.value+=1;const p=r.value*(c.value-1);a.value&&(a.value.style.transform=`translateX(-${p}px)`)}};return en(()=>{window.addEventListener("resize",u)}),tn(()=>{window.removeEventListener("resize",u)}),(p,g)=>s.value.length>0?(ie(),ue("div",_A,[C("div",{class:"mi-recommended-articles-block__header"},[g[3]||(g[3]=C("div",{class:"mi-recommended-articles-block__title"},"Recommended Articles For You",-1)),C("div",{class:"mi-recommended-articles-block__control-buttons-container"},[C("button",{class:"mi-recommended-articles-block__control-button-previous",onClick:l},[...g[1]||(g[1]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 7H3.83L9.42 1.41L8 0L0 8L8 16L9.41 14.59L3.83 9H16V7V7Z",fill:"currentColor"})],-1)])]),C("button",{class:"mi-recommended-articles-block__control-button-next",onClick:f},[...g[2]||(g[2]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0L6.59 1.41L12.17 7H0V9H12.17L6.59 14.59L8 16L16 8L8 0Z",fill:"currentColor"})],-1)])])])]),C("div",pA,[C("div",{ref_key:"listElement",ref:a,class:"mi-recommended-articles-block__list"},[(ie(!0),ue(Ne,null,ai(s.value,_=>(ie(),ue("a",{key:_.product_id,href:_.url,target:"_blank",class:"mi-recommended-articles-block__item-link"},[C("div",gA,[C("div",bA,[_.cover_image?(ie(),ue("img",{key:0,src:_.cover_image,alt:_.title,onError:g[0]||(g[0]=w=>w.target.style.display="none"),class:"mi-recommended-articles-block__item-image"},null,40,yA)):it("",!0)]),C("div",wA,[_.tags&&Array.isArray(_.tags)&&_.tags.length>0?(ie(),ue("div",EA,ut(_.tags[0]),1)):it("",!0),C("div",SA,ut(_.title),1),_.authors&&Array.isArray(_.authors)&&_.authors.length>0?(ie(),ue("div",TA," By "+ut(_.authors.join(", ")),1)):it("",!0)])])],8,mA))),128))],512)])])):it("",!0)}},[["__scopeId","data-v-dda4d074"]]),AA={class:"mi-ask-box-block"},OA={class:"mi-ask-box-block__ask-box"},CA={class:"mi-ask-box-block__input-group"},IA={class:"mi-disclaimers"},xA={class:"mi-disclaimers__text"},RA=Lt({__name:"AskBoxBlock",setup(t){const{questions:e,query:s,askFollowUpQuestion:n}=Jt(),i=At(""),r=At(!1),o=At(null),c=()=>{i.value.trim()!==""&&(e.value.length===0?s(i.value):n(i.value),i.value="")},a=u=>{r.value&&o.value&&!o.value.contains(u.target)&&(r.value=!1)};return Es(r,u=>{u?setTimeout(()=>{document.addEventListener("click",a)},0):document.removeEventListener("click",a)}),tn(()=>{document.removeEventListener("click",a)}),(u,l)=>(ie(),ue("div",AA,[C("div",OA,[C("div",CA,[l[3]||(l[3]=C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[C("path",{d:"M10 9.5L16 11.5L10 13.5L8 19.5L6 13.5L0 11.5L6 9.5L8 3.5L10 9.5ZM15.75 3.75L19.5 5L15.75 6.25L14.5 10L13.25 6.25L9.5 5L13.25 3.75L14.5 0L15.75 3.75Z",fill:"#333E8B"})],-1)),Mc(C("input",{class:"mi-ask-box-block__input",type:"text",placeholder:"Ask anything from Investopedia...","onUpdate:modelValue":l[0]||(l[0]=f=>i.value=f),onKeyup:Vp(c,["enter"])},null,544),[[jp,i.value]])]),C("button",{onClick:c,class:"mi-ask-box-block__button"},"Ask")]),C("div",IA,[l[10]||(l[10]=C("div",{class:"mi-disclaimers__text"},"Educational content only; not investment advice.",-1)),C("div",xA,[C("button",{class:"mi-disclaimers__button",onClick:l[1]||(l[1]=f=>r.value=!0)}," Advertisement disclosure "),l[4]||(l[4]=C("span",null,",",-1)),l[5]||(l[5]=C("a",{class:"mi-disclaimers__link",href:"https://www.people.inc/brands-privacy?_gl=1*5rwrd0*_ga*NjYwOTM5MTY4LjE3MTIyMjUyMzc.*_ga_DK3GDWHWJH*czE3NjQ4MzY5MjIkbzE2MyRnMCR0MTc2NDgzNjk1MiRqMzAkbDAkaDA.",target:"_blank"},"Privacy policy",-1)),l[6]||(l[6]=C("span",null,",",-1)),l[7]||(l[7]=C("a",{class:"mi-disclaimers__link",href:"https://www.investopedia.com/legal-4768893#toc-editorial-policy",target:"_blank"},"Editorial Policy",-1))]),Mc(C("div",{ref_key:"tooltipRef",ref:o,class:"mi-advertisement-disclosure-tooltip"},[C("button",{class:"mi-advertisement-disclosure-tooltip__close-button",onClick:l[2]||(l[2]=f=>r.value=!1)},[...l[8]||(l[8]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 2.01429L17.9857 0L10 7.98571L2.01429 0L0 2.01429L7.98571 10L0 17.9857L2.01429 20L10 12.0143L17.9857 20L20 17.9857L12.0143 10L20 2.01429Z",fill:"black","fill-opacity":"0.65"})],-1)])]),l[9]||(l[9]=C("p",null," The offers that appear in this table are from partnerships from which Investopedia receives compensation. This compensation may impact how and where listings appear. Investopedia does not include all offers available in the marketplace. ",-1))],512),[[Ap,r.value]])])]))}},[["__scopeId","data-v-b3ffa6e5"]]),LA={class:"mi-sources-overlay__header"},kA={class:"mi-sources-overlay__content"},$A={class:"mi-sources-overlay__source-index"},NA={class:"mi-sources-overlay__source-card"},PA=["href"],UA={key:0,class:"mi-sources-overlay__source-card-tag"},DA={class:"mi-sources-overlay__source-card-title"},FA={key:1,class:"mi-sources-overlay__source-card-author"},MA=Lt({__name:"SourcesOverlay",setup(t){const{showingSources:e,hideSources:s}=Jt();return Es(e,n=>{n?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),(n,i)=>(ie(),Ia(c_,{to:"body"},[_e(yp,{name:"mi-sources-overlay--fade-and-slide"},{default:Fc(()=>[be(e)?(ie(),ue("div",{key:0,class:"mi-sources-overlay",onClick:i[2]||(i[2]=(...r)=>be(s)&&be(s)(...r))},[C("div",{class:"mi-sources-overlay__container",onClick:i[1]||(i[1]=zp(()=>{},["stop"]))},[C("div",LA,[i[4]||(i[4]=C("div",{class:"mi-sources-overlay__title"},"Sources",-1)),C("button",{class:"mi-sources-overlay__close-button",onClick:i[0]||(i[0]=(...r)=>be(s)&&be(s)(...r))},[...i[3]||(i[3]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[C("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 2.01429L17.9857 0L10 7.98571L2.01429 0L0 2.01429L7.98571 10L0 17.9857L2.01429 20L10 12.0143L17.9857 20L20 17.9857L12.0143 10L20 2.01429Z",fill:"black","fill-opacity":"0.65"})],-1)])])]),C("div",kA,[(ie(!0),ue(Ne,null,ai(be(e),(r,o)=>(ie(),ue("div",{class:"mi-sources-overlay__source",key:r.product_id},[C("div",$A,ut(o+1)+".",1),C("div",NA,[C("a",{href:r.url,target:"_blank",class:"mi-sources-overlay__source-card-link"},[r.tags&&Array.isArray(r.tags)&&r.tags.length>0?(ie(),ue("div",UA,ut(r.tags[0]),1)):it("",!0),C("div",DA,ut(r.title),1),r.authors&&Array.isArray(r.authors)&&r.authors.length>0?(ie(),ue("div",FA," By "+ut(r.authors.join(", ")),1)):it("",!0)],8,PA)])]))),128))])])])):it("",!0)]),_:1})]))}},[["__scopeId","data-v-596bced8"]]),jA={class:"mi-layout"},qA={class:"mi-layout__answer-thread"},BA={class:"mi-layout__sponsored-results-block"},zA={class:"mi-layout__related-questions-block"},HA={class:"mi-layout__recommended-articles-block"},VA={class:"mi-layout__ask-box-block"},QA=Lt({__name:"App",props:{query:{type:String,default:""}},setup(t){const e=t,s=Jt(),n=()=>{const i=document.getElementById(ro),r=document.documentElement.clientWidth;i&&r&&i.style.setProperty("--mi-client-width",`${r}px`)};return en(()=>{e.query&&s.query(e.query),n(),window.addEventListener("resize",n)}),tn(()=>{window.removeEventListener("resize",n)}),(i,r)=>(ie(),ue(Ne,null,[r[0]||(r[0]=C("div",{class:"mi-answer-page__background"},null,-1)),_e(em),C("div",jA,[C("div",qA,[_e(rA)]),C("div",BA,[_e(aA)]),C("div",zA,[_e(hA)]),C("div",HA,[_e(vA)]),C("div",VA,[_e(RA)])]),_e(MA)],64))}},[["__scopeId","data-v-9c2cae42"]]);let Ds=null;const ah=(t="")=>{Ds&&(Ds.unmount(),Ds=null);const e=document.getElementById(ro);return e?(Ds=Gp(QA,{query:t}),Ds.mount(e),Ds):(console.error(`[miso-investopedia-script] Can't find answer page element with id: ${ro}`),null)};typeof window<"u"&&(window[Ag]={init:ah,setEventHooks:t=>{if(t&&typeof t=="object"&&"onSponsoredPlaceholderReady"in t&&typeof t.onSponsoredPlaceholderReady=="function"&&!("onDesktopSponsoredPlaceholderReady"in t)){rl({...t,onDesktopSponsoredPlaceholderReady:(e,s,n)=>{t.onSponsoredPlaceholderReady(e,n)}});return}rl(t)},renderAnswerPage:t=>{ah(t)}})})();

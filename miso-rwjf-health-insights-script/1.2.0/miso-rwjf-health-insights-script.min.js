(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(`.mr-query-section[data-v-9e4fdc60]{background-color:var(--color-blue-1);color:var(--color-white)}.mr-query-section__container[data-v-9e4fdc60]{margin:0 auto;padding:3rem 1.5rem;max-width:78rem;display:flex;gap:3rem;align-items:center}.mr-query-section__icon--desktop[data-v-9e4fdc60]{display:flex;align-items:center;justify-content:center;max-width:366px;min-width:315px;flex:1 1 auto}.mr-query-section__icon--desktop svg[data-v-9e4fdc60]{width:12.5rem;height:12.5rem}.mr-query-section__main[data-v-9e4fdc60]{flex:1}.mr-query-section__title[data-v-9e4fdc60]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.mr-query-section__title-text[data-v-9e4fdc60]{font-family:var(--font-heading);font-size:var(--font-size-h3);font-weight:var(--font-weight-medium);line-height:var(--line-height-95)}.mr-query-section__description[data-v-9e4fdc60]{font-family:var(--font-heading);font-size:var(--font-size-h7);line-height:var(--line-height-110);margin-bottom:2.5rem}.mr-query-section__icon--mobile[data-v-9e4fdc60]{display:none}.mr-query-section__input-group[data-v-9e4fdc60]{display:flex;gap:1.5rem;align-items:flex-end;margin-bottom:1.5rem}.mr-query-section__input[data-v-9e4fdc60]{flex:1 1 auto;display:flex;align-items:center;color:var(--color-blue-1);font-size:var(--font-size-body-sm);line-height:var(--line-height-140);min-height:3.2rem;padding:.75rem 1rem;box-sizing:border-box;border-radius:var(--radius-2);border:2px solid var(--color-purple-1);outline:none;-ms-overflow-style:none;scrollbar-width:none}.mr-query-section__input[data-v-9e4fdc60]::placeholder{color:var(--color-blue-1)}.mr-query-section__input[data-v-9e4fdc60]::-webkit-scrollbar{display:none}.mr-query-section__input[data-v-9e4fdc60]::-webkit-resizer{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14' fill='none'%3E%3Cpath d='M2 12L12 2' stroke='%23AF45C9' stroke-width='2'/%3E%3Cpath d='M8 12L12 8' stroke='%23AF45C9' stroke-width='2'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:bottom right;background-size:.875rem .875rem}.mr-query-section__button[data-v-9e4fdc60]{display:flex;align-items:center;justify-content:center;padding:.875rem 1.125rem;border-radius:var(--radius-full);background-color:var(--color-purple-1);color:var(--color-cream-1);font-size:var(--font-size-nav-lg);font-weight:var(--font-weight-bold);line-height:var(--line-height-110);letter-spacing:var(--letter-spacing-tight)}.mr-query-section__button[data-v-9e4fdc60]:hover{background-color:var(--color-cream-1);color:var(--color-blue-1)}.mr-query-section__button[data-v-9e4fdc60]:focus{outline:2px dotted var(--color-cream-1);outline-offset:2px}.mr-query-section__footer[data-v-9e4fdc60]{display:flex;gap:1.25rem;align-items:center}.mr-query-section__footer-button[data-v-9e4fdc60]{display:flex;align-items:center;gap:.375rem;background-color:transparent;color:var(--color-cream-1);font-size:var(--font-size-nav-lg);font-weight:var(--font-weight-bold);line-height:var(--line-height-110);letter-spacing:var(--letter-spacing-tight)}.mr-query-section__footer-button svg[data-v-9e4fdc60]{width:.875rem;height:.85rem}.mr-query-section__footer-button[data-v-9e4fdc60]:hover{text-decoration:underline}.mr-modal__overlay[data-v-9e4fdc60]{position:fixed;top:0;left:0;width:100%;height:100%;box-sizing:border-box;padding:1rem;background-color:var(--color-overlay);z-index:100;display:flex;align-items:center;justify-content:center}.mr-modal__container[data-v-9e4fdc60]{width:42rem;max-width:100%;max-height:100%;padding:1.625rem 2.5rem;box-sizing:border-box;border-radius:var(--radius-24);background-color:var(--color-blue-7);overflow-y:auto}.mr-modal__header[data-v-9e4fdc60]{display:flex;align-items:start;justify-content:space-between;gap:1rem;margin-bottom:2.5rem}.mr-modal__header-title[data-v-9e4fdc60]{font-family:var(--font-heading);font-size:var(--font-size-h4);font-weight:var(--font-weight-medium);line-height:var(--line-height-100)}.mr-modal__close-button[data-v-9e4fdc60]{display:flex;align-items:center;justify-content:center;height:2.5rem;background-color:transparent;outline:none;border:none;cursor:pointer}.mr-usage-tips[data-v-9e4fdc60]{display:flex;flex-direction:column;gap:2.25rem}.mr-usage-tips__description[data-v-9e4fdc60]{font-family:var(--font-heading);font-size:var(--font-size-h8);font-weight:var(--font-weight-medium);line-height:var(--line-height-100)}.mr-usage-tips__list[data-v-9e4fdc60]{display:flex;flex-direction:column;gap:1.5rem}.mr-usage-tips__list-item[data-v-9e4fdc60]{display:flex;align-items:center;gap:1rem}.mr-usage-tips__list-item-icon[data-v-9e4fdc60]{flex-shrink:0;width:4rem;height:4rem;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-full);background-color:var(--color-purple-1)}.mr-usage-tips__list-item-content[data-v-9e4fdc60]{display:flex;flex-direction:column;gap:.5rem}.mr-usage-tips__list-item-title[data-v-9e4fdc60]{font-family:var(--font-heading);font-size:var(--font-size-h8);font-weight:var(--font-weight-medium);line-height:var(--line-height-100)}.mr-usage-tips__list-item-description[data-v-9e4fdc60]{font-size:var(--font-size-body-sm);line-height:var(--line-height-140)}@media(max-width:768px){.mr-query-section__container[data-v-9e4fdc60]{padding:3rem 1.25rem}.mr-query-section__icon--desktop[data-v-9e4fdc60]{display:none}.mr-query-section__main[data-v-9e4fdc60]{width:100%}.mr-query-section__icon--mobile[data-v-9e4fdc60]{display:block;flex-shrink:0}.mr-query-section__icon--mobile svg[data-v-9e4fdc60]{width:5rem;height:5rem}.mr-query-section__title-text[data-v-9e4fdc60]{font-size:var(--font-size-h6);line-height:var(--line-height-100)}.mr-query-section__input-group[data-v-9e4fdc60]{flex-direction:column;align-items:flex-start;gap:1rem;margin-bottom:2.5rem}.mr-query-section__input[data-v-9e4fdc60]{width:100%;resize:none}.mr-modal__container[data-v-9e4fdc60]{padding:1rem 1.5rem}.mr-modal__header[data-v-9e4fdc60]{margin-bottom:1.5rem}.mr-modal__header-title[data-v-9e4fdc60]{font-size:var(--font-size-h6)}.mr-modal__close-button[data-v-9e4fdc60]{height:1.875rem}.mr-usage-tips__description[data-v-9e4fdc60]{font-size:var(--font-size-h9)}.mr-usage-tips__list-item[data-v-9e4fdc60]{flex-direction:column;align-items:center}.mr-usage-tips__list-item-content[data-v-9e4fdc60]{align-items:center}.mr-usage-tips__list-item-title[data-v-9e4fdc60]{font-size:var(--font-size-h9)}.mr-usage-tips__list-item-description[data-v-9e4fdc60]{font-size:var(--font-size-nav-sm)}}.mr-explore-block__title[data-v-e4033eb2]{font-family:var(--font-heading);font-size:var(--font-size-h4);font-weight:var(--font-weight-medium);line-height:var(--line-height-100);margin-bottom:1.5rem}.mr-explore-block__dropdown[data-v-e4033eb2]{position:relative;max-width:18.5rem;height:3rem;margin-bottom:3rem}.mr-explore-block__dropdown-header[data-v-e4033eb2]{display:flex;align-items:center;justify-content:space-between;height:100%;padding:0 1rem;border-radius:var(--radius-2);background:var(--color-blue-5);cursor:pointer;font-size:var(--font-size-nav-sm);font-weight:var(--font-weight-medium);line-height:var(--line-height-110);color:var(--color-blue-1)}.mr-explore-block__dropdown-header.mr-explore-block__dropdown-header--open[data-v-e4033eb2]{border-bottom-left-radius:0;border-bottom-right-radius:0}.mr-explore-block__dropdown-list[data-v-e4033eb2]{position:absolute;top:100%;left:0;width:100%;border-radius:0 0 var(--radius-8) var(--radius-8);background-color:var(--color-cream-1);z-index:10}.mr-explore-block__dropdown-item[data-v-e4033eb2]{padding:1rem;font-size:var(--font-size-nav-sm);font-weight:var(--font-weight-medium);line-height:var(--line-height-110);color:var(--color-blue-1);cursor:pointer}.mr-explore-block__dropdown-item.mr-explore-block__dropdown-item--selected[data-v-e4033eb2]{background:var(--color-blue-6)}.mr-explore-block__dropdown-item[data-v-e4033eb2]:hover{background-color:var(--color-blue-6)}.mr-explore-block__description[data-v-e4033eb2]{font-family:var(--font-heading);font-size:var(--font-size-h5);line-height:var(--line-height-120);margin-bottom:1rem}.mr-explore-block__question-list[data-v-e4033eb2]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.mr-explore-block__question-item[data-v-e4033eb2]{display:flex;flex-direction:column;justify-content:space-between;padding:1.5rem;min-height:10.625rem;border-radius:var(--radius-24);background-color:var(--color-blue-7);cursor:pointer}.mr-explore-block__question-item-text[data-v-e4033eb2]{font-family:var(--font-heading);font-size:var(--font-size-h8);font-weight:var(--font-weight-medium);line-height:var(--line-height-100);margin-bottom:1rem}.mr-explore-block__question-item-tag[data-v-e4033eb2]{font-size:var(--font-size-tag);font-weight:var(--font-weight-bold);line-height:var(--line-height-100);padding:.375rem .5rem;border-radius:var(--radius-full);border:1.5px solid var(--color-purple-1);width:fit-content}@media(max-width:768px){.mr-explore-block__title[data-v-e4033eb2]{font-size:var(--font-size-h8)}.mr-explore-block__question-list[data-v-e4033eb2]{display:flex;flex-direction:column}}.mr-answer-panel[data-v-97bc808c]{width:100%;display:flex;flex-direction:column;gap:.125rem}.mr-answer-panel__header[data-v-97bc808c]{display:flex;align-items:center;justify-content:space-between;border-radius:var(--radius-12) var(--radius-12) 0 0;background-color:var(--color-blue-1);padding:.8125rem 1rem;cursor:pointer}.mr-answer-panel__header-title[data-v-97bc808c]{display:flex;align-items:center;gap:.625rem;font-size:var(--font-size-eyebrow);font-weight:var(--font-weight-bold);line-height:var(--line-height-100);color:var(--color-cream-1);text-transform:uppercase}.mr-answer-panel__header-collapse-icon[data-v-97bc808c]{display:flex;align-items:center;justify-content:center}.mr-answer-panel__list[data-v-97bc808c]{display:flex;flex-direction:column;gap:.125rem}.mr-answer-panel__list-item[data-v-97bc808c]{padding:.6875rem 1rem;border-left:.5rem solid var(--color-blue-5);background-color:var(--color-blue-7);font-size:var(--font-size-nav-sm);line-height:var(--line-height-110);color:var(--color-blue-1);cursor:pointer}.mr-answer-panel__list-item.mr-answer-panel__list-item--highlight[data-v-97bc808c]{border-left-color:var(--color-purple-1);font-weight:var(--font-weight-bold);letter-spacing:var(--letter-spacing-tight)}.mr-history-panel[data-v-b0d6abfa]{width:100%;display:flex;flex-direction:column;gap:.125rem}.mr-history-panel__header[data-v-b0d6abfa]{display:flex;align-items:center;justify-content:space-between;border-radius:var(--radius-12) var(--radius-12) 0 0;background-color:var(--color-blue-1);padding:.8125rem 1rem;cursor:pointer}.mr-history-panel__header-title[data-v-b0d6abfa]{display:flex;align-items:center;gap:.625rem;font-size:var(--font-size-eyebrow);font-weight:var(--font-weight-bold);line-height:var(--line-height-100);color:var(--color-cream-1);text-transform:uppercase}.mr-history-panel__header-collapse-icon[data-v-b0d6abfa]{display:flex;align-items:center;justify-content:center}.mr-history-panel__list[data-v-b0d6abfa]{display:flex;flex-direction:column;gap:.125rem}.mr-history-panel__list-item[data-v-b0d6abfa]{padding:.6875rem 1rem;border-left:.5rem solid var(--color-blue-5);background-color:var(--color-blue-7);font-size:var(--font-size-nav-sm);line-height:var(--line-height-110);color:var(--color-blue-1);cursor:pointer}.mr-history-panel__list-item.mr-history-panel__list-item--empty-state[data-v-b0d6abfa]{cursor:default;font-style:italic}.mr-history-panel__footer[data-v-b0d6abfa]{display:flex;align-items:center;justify-content:end;margin-top:1rem}.mr-history-panel__clear-history-button[data-v-b0d6abfa]{display:flex;align-items:center;gap:.375rem;background-color:transparent;color:var(--color-blue-1);font-size:var(--font-size-nav-lg);font-weight:var(--font-weight-bold);line-height:var(--line-height-110);letter-spacing:var(--letter-spacing-tight)}.mr-history-panel__clear-history-button[data-v-b0d6abfa]:hover{text-decoration:underline}.mr-answer-section[data-v-24b3931c]{max-width:78rem;padding:3rem 1.5rem 6rem;margin:0 auto;display:flex;background-color:var(--color-white);gap:3rem}.mr-answer-section__main[data-v-24b3931c]{flex:1}.mr-answer-section__sticky-navigation-container[data-v-24b3931c]{max-width:366px;min-width:315px;flex:1 1 auto}.mr-answer-section__question[data-v-24b3931c]{font-family:var(--font-heading);font-size:var(--font-size-h4);font-weight:var(--font-weight-medium);margin-bottom:1.5rem}.mr-answer-section__answer[data-v-24b3931c]{color:var(--color-text);font-size:var(--font-size-body-lg)}.mr-answer-section__answer [data-v-24b3931c] .miso-markdown>*{margin-bottom:1.5rem}.mr-answer-section__answer [data-v-24b3931c] .miso-markdown p,.mr-answer-section__answer [data-v-24b3931c] .miso-markdown li{line-height:var(--line-height-150)}.mr-answer-section__answer [data-v-24b3931c] .miso-markdown a:not(.miso-citation-link){color:var(--color-purple-1);text-decoration:underline}.mr-answer-section__answer [data-v-24b3931c] .miso-markdown img{width:100%}.mr-answer-section__answer [data-v-24b3931c] .miso-citation-link{margin-right:.25rem;display:inline-flex;justify-content:center;align-items:center;width:1.25rem;position:relative;font-weight:var(--font-weight-bold);color:var(--color-blue-1)}.mr-answer-section__answer [data-v-24b3931c] .miso-citation-link:after{content:"";position:absolute;bottom:-.275rem;display:block;width:100%;aspect-ratio:1/1;border-radius:var(--radius-4);border:1.25px solid var(--color-blue-1)}.mr-answer-section__answer [data-v-24b3931c] .miso-citation-link:before{position:absolute;bottom:-.275rem;content:attr(data-index);font-size:var(--font-size-citation-index);line-height:1.25rem}.mr-answer-section__actions-container[data-v-24b3931c]{margin-top:1.5rem;margin-bottom:2.5rem;display:flex;gap:1rem;align-items:center;justify-content:flex-end}.mr-answer-section__actions-container button[data-v-24b3931c]{height:1.5rem;width:1.5rem;display:flex;align-items:center;justify-content:center;background-color:transparent}.mr-answer-section__show-more-container[data-v-24b3931c]{display:flex;align-items:center;justify-content:end;margin-top:1.25rem}.mr-answer-section__show-more-button[data-v-24b3931c]{display:flex;align-items:center;justify-content:end;gap:.375rem;background-color:transparent;color:var(--color-blue-1);font-size:var(--font-size-nav-lg);line-height:var(--line-height-110)}.mr-answer-section__sources-container[data-v-24b3931c],.mr-answer-section__related-questions-container[data-v-24b3931c]{border-top:2px solid var(--color-blue-4);padding:2.5rem 0}.mr-answer-section__sources-title[data-v-24b3931c],.mr-answer-section__related-questions-title[data-v-24b3931c]{font-family:var(--font-heading);font-size:var(--font-size-h4);font-weight:var(--font-weight-medium);line-height:var(--line-height-100);margin-bottom:.625rem}.mr-answer-section__sources-count[data-v-24b3931c],.mr-answer-section__related-questions-count[data-v-24b3931c]{font-size:var(--font-size-body-lg);line-height:var(--line-height-150);margin-bottom:2rem}.mr-answer-section__sources-list[data-v-24b3931c]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.mr-answer-section__sources-list a[data-v-24b3931c]{text-decoration:none;color:var(--color-blue-1)}.mr-answer-section__source-item[data-v-24b3931c]{display:flex;flex-direction:column;padding:1.5rem 2rem;gap:2rem;border-radius:var(--radius-24);background-color:var(--color-blue-7)}.mr-answer-section__source-item-title[data-v-24b3931c]{font-family:var(--font-heading);font-size:var(--font-size-h8);font-weight:var(--font-weight-medium);line-height:var(--line-height-100);height:4.875rem;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-clamp:3;overflow:hidden}.mr-answer-section__source-item-metadata-container[data-v-24b3931c]{display:flex;align-items:center;justify-content:space-between}.mr-answer-section__source-item-date[data-v-24b3931c]{font-size:var(--font-size-h9);font-weight:var(--font-weight-medium);line-height:var(--line-height-100)}.mr-answer-section__source-item-index[data-v-24b3931c]{font-size:var(--font-size-citation-index);font-weight:var(--font-weight-bold);color:var(--color-blue-1);display:inline-flex;width:1.125rem;height:1.125rem;justify-content:center;align-items:center;aspect-ratio:1/1;border-radius:var(--radius-4);border:1.25px solid var(--color-blue-1)}.mr-answer-section__related-questions-list[data-v-24b3931c]{display:flex;flex-direction:column;gap:1rem}.mr-answer-section__related-question-item[data-v-24b3931c]{display:flex;align-items:center;text-align:left;padding:1.5rem;border-radius:var(--radius-24);background-color:var(--color-blue-7);font-size:var(--font-size-nav-sm);font-weight:var(--font-weight-bold);line-height:var(--line-height-110);letter-spacing:var(--letter-spacing-tight)}.mr-answer-section__panels-group[data-v-24b3931c]{position:sticky;top:2rem;display:flex;flex-direction:column;gap:3rem}.mr-answer-section__answer-panel-container--mobile[data-v-24b3931c],.mr-answer-section__history-panel-container--mobile[data-v-24b3931c]{display:none}.mr-answer-section__answer-panel-container--mobile[data-v-24b3931c]{margin-bottom:3rem}.mr-answer-section__history-panel-container--mobile[data-v-24b3931c]{margin-top:3rem}.mr-answer-section__feedback-button[data-v-24b3931c]{color:var(--color-blue-5)}.mr-answer-section__feedback-button.mr-answer-section__feedback-button--is-selected[data-v-24b3931c]{color:var(--color-purple-1)}@media(max-width:768px){.mr-answer-section[data-v-24b3931c]{padding:1.5rem 1.5rem 3rem}.mr-answer-section__main[data-v-24b3931c]{width:100%}.mr-answer-section__sticky-navigation-container[data-v-24b3931c]{display:none}.mr-answer-section__question[data-v-24b3931c]{font-size:var(--font-size-h8)}.mr-answer-section__answer[data-v-24b3931c]{font-size:var(--font-size-body-sm)}.mr-answer-section__answer [data-v-24b3931c] .miso-markdown p{line-height:var(--line-height-140)}.mr-answer-section__sources-title[data-v-24b3931c],.mr-answer-section__related-questions-title[data-v-24b3931c]{font-size:var(--font-size-h8);line-height:var(--line-height-100)}.mr-answer-section__sources-count[data-v-24b3931c],.mr-answer-section__related-questions-count[data-v-24b3931c]{font-size:var(--font-size-body-sm);line-height:var(--line-height-140)}.mr-answer-section__sources-list[data-v-24b3931c]{display:flex;flex-direction:column;gap:1.5rem}.mr-answer-section__source-item-title[data-v-24b3931c]{height:auto;display:block}.mr-answer-section__answer-panel-container--mobile[data-v-24b3931c],.mr-answer-section__history-panel-container--mobile[data-v-24b3931c]{display:block}}@layer preflight{#miso-answers *,#miso-answers :after,#miso-answers :before,#miso-answers ::backdrop,#miso-answers ::file-selector-button{margin:0;padding:0}#miso-answers *,#miso-answers :after,#miso-answers :before,#miso-answers ::backdrop,#miso-answers ::file-selector-button{box-sizing:border-box;border:0 solid}#miso-answers h1,#miso-answers h2,#miso-answers h3,#miso-answers h4,#miso-answers h5,#miso-answers h6{font-size:inherit;font-weight:inherit}#miso-answers button{cursor:pointer}}@layer preflight,components;#miso-answers,.mr-modal__overlay,.mr-modal__container{--font-heading: founders-grotesk, sans-serif;--font-body: reader-pro, sans-serif;--font-size-h1: 5.375rem;--font-size-h3: 3.75rem;--font-size-h4: 2.5rem;--font-size-h5: 1.875rem;--font-size-h6: 1.875rem;--font-size-h7: 1.5625rem;--font-size-h8: 1.625rem;--font-size-h9: 1.375rem;--font-size-body-sm: 1.0625rem;--font-size-body-lg: 1.25rem;--font-size-nav-sm: 1rem;--font-size-nav-lg: 1.125rem;--font-size-tag: .875rem;--font-size-eyebrow: .875rem;--font-size-citation-index: .6875rem;--line-height-95: 95%;--line-height-100: 100%;--line-height-110: 110%;--line-height-120: 120%;--line-height-140: 140%;--line-height-150: 150%;--font-weight-bold: 700;--font-weight-medium: 500;--font-weight-normal: 400;--letter-spacing-tight: -.01125rem;--color-white: #ffffff;--color-cream-1: #fdfdf9;--color-cream-2: #fffffc;--color-blue-1: #042e43;--color-blue-4: #abb9c0;--color-blue-5: #c0c8cc;--color-blue-6: #e8ebed;--color-blue-7: #f2f4f5;--color-purple-1: #af45c9;--color-purple-5: #efdaf4;--color-orange-2: #ffd3a0;--color-text: #444444;--color-overlay: rgba(0, 0, 0, .4);--radius-2: .125rem;--radius-4: .25rem;--radius-8: .5rem;--radius-12: .75rem;--radius-24: 1.5rem;--radius-88: 5.5rem;--radius-full: calc(infinity * 1px)}#miso-answers{font-family:var(--font-body);font-weight:var(--font-weight-normal);color:var(--color-blue-1);background-color:var(--color-cream-1)}.mr-modal__container{font-family:var(--font-body);font-weight:var(--font-weight-normal);color:var(--color-blue-1)}`)),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function or(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ie={},ms=[],lt=()=>{},nc=()=>!1,qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cr=t=>t.startsWith("onUpdate:"),Ie=Object.assign,ar=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Sh=Object.prototype.hasOwnProperty,te=(t,e)=>Sh.call(t,e),q=Array.isArray,gs=t=>jn(t)==="[object Map]",ic=t=>jn(t)==="[object Set]",j=t=>typeof t=="function",de=t=>typeof t=="string",Pt=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",rc=t=>(ce(t)||j(t))&&j(t.then)&&j(t.catch),oc=Object.prototype.toString,jn=t=>oc.call(t),vh=t=>jn(t).slice(8,-1),cc=t=>jn(t)==="[object Object]",lr=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,js=or(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bn=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},Th=/-\w/g,Nt=Bn(t=>t.replace(Th,e=>e.slice(1).toUpperCase())),Ch=/\B([A-Z])/g,Ut=Bn(t=>t.replace(Ch,"-$1").toLowerCase()),ac=Bn(t=>t.charAt(0).toUpperCase()+t.slice(1)),ur=Bn(t=>t?`on${ac(t)}`:""),Dt=(t,e)=>!Object.is(t,e),Hn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},lc=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},fr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let uc;const zn=()=>uc||(uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(t){if(q(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=de(n)?Rh(n):dr(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(de(t)||ce(t))return t}const Ah=/;(?![^(]*\))/g,Oh=/:([^]+)/,xh=/\/\*[^]*?\*\//g;function Rh(t){const e={};return t.replace(xh,"").split(Ah).forEach(s=>{if(s){const n=s.split(Oh);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Yt(t){let e="";if(de(t))e=t;else if(q(t))for(let s=0;s<t.length;s++){const n=Yt(t[s]);n&&(e+=n+" ")}else if(ce(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ih=or("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function fc(t){return!!t||t===""}const dc=t=>!!(t&&t.__v_isRef===!0),Fe=t=>de(t)?t:t==null?"":q(t)||ce(t)&&(t.toString===oc||!j(t.toString))?dc(t)?Fe(t.value):JSON.stringify(t,hc,2):String(t),hc=(t,e)=>dc(e)?hc(t,e.value):gs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[hr(n,r)+" =>"]=i,s),{})}:ic(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>hr(s))}:Pt(e)?hr(e):ce(e)&&!q(e)&&!cc(e)?String(e):e,hr=(t,e="")=>{var s;return Pt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class _c{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Se,!e&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Se;try{return Se=this,e()}finally{Se=s}}}on(){++this._on===1&&(this.prevScope=Se,Se=this)}off(){this._on>0&&--this._on===0&&(Se=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function pc(t){return new _c(t)}function _r(){return Se}function mc(t,e=!1){Se&&Se.cleanups.push(t)}let re;const pr=new WeakSet;class gc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Se&&Se.active&&Se.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pr.has(this)&&(pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tc(this),yc(this);const e=re,s=st;re=this,st=!0;try{return this.fn()}finally{Ec(this),re=e,st=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wr(e);this.deps=this.depsTail=void 0,Tc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){br(this)&&this.run()}get dirty(){return br(this)}}let bc=0,Bs,Hs;function wc(t,e=!1){if(t.flags|=8,e){t.next=Hs,Hs=t;return}t.next=Bs,Bs=t}function mr(){bc++}function gr(){if(--bc>0)return;if(Hs){let e=Hs;for(Hs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Bs;){let e=Bs;for(Bs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function yc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ec(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),wr(n),kh(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function br(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Sc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Sc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===zs)||(t.globalVersion=zs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!br(t))))return;t.flags|=2;const e=t.dep,s=re,n=st;re=t,st=!0;try{yc(t);const i=t.fn(t._value);(e.version===0||Dt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{re=s,st=n,Ec(t),t.flags&=-3}}function wr(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)wr(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function kh(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let st=!0;const vc=[];function ut(){vc.push(st),st=!1}function ft(){const t=vc.pop();st=t===void 0?!0:t}function Tc(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=re;re=void 0;try{e()}finally{re=s}}}let zs=0;class $h{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!re||!st||re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==re)s=this.activeLink=new $h(re,this),re.deps?(s.prevDep=re.depsTail,re.depsTail.nextDep=s,re.depsTail=s):re.deps=re.depsTail=s,Cc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=re.depsTail,s.nextDep=void 0,re.depsTail.nextDep=s,re.depsTail=s,re.deps===s&&(re.deps=n)}return s}trigger(e){this.version++,zs++,this.notify(e)}notify(e){mr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{gr()}}}function Cc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Cc(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Wn=new WeakMap,Zt=Symbol(""),yr=Symbol(""),Vs=Symbol("");function ve(t,e,s){if(st&&re){let n=Wn.get(t);n||Wn.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new Vn),i.map=n,i.key=s),i.track()}}function St(t,e,s,n,i,r){const o=Wn.get(t);if(!o){zs++;return}const c=a=>{a&&a.trigger()};if(mr(),e==="clear")o.forEach(c);else{const a=q(t),u=a&&lr(s);if(a&&s==="length"){const l=Number(n);o.forEach((f,_)=>{(_==="length"||_===Vs||!Pt(_)&&_>=l)&&c(f)})}else switch((s!==void 0||o.has(void 0))&&c(o.get(s)),u&&c(o.get(Vs)),e){case"add":a?u&&c(o.get("length")):(c(o.get(Zt)),gs(t)&&c(o.get(yr)));break;case"delete":a||(c(o.get(Zt)),gs(t)&&c(o.get(yr)));break;case"set":gs(t)&&c(o.get(Zt));break}}gr()}function Lh(t,e){const s=Wn.get(t);return s&&s.get(e)}function bs(t){const e=K(t);return e===t?e:(ve(e,"iterate",Vs),Ke(t)?e:e.map(be))}function Qn(t){return ve(t=K(t),"iterate",Vs),t}const Ph={__proto__:null,[Symbol.iterator](){return Er(this,Symbol.iterator,be)},concat(...t){return bs(this).concat(...t.map(e=>q(e)?bs(e):e))},entries(){return Er(this,"entries",t=>(t[1]=be(t[1]),t))},every(t,e){return vt(this,"every",t,e,void 0,arguments)},filter(t,e){return vt(this,"filter",t,e,s=>s.map(be),arguments)},find(t,e){return vt(this,"find",t,e,be,arguments)},findIndex(t,e){return vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vt(this,"findLast",t,e,be,arguments)},findLastIndex(t,e){return vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Sr(this,"includes",t)},indexOf(...t){return Sr(this,"indexOf",t)},join(t){return bs(this).join(t)},lastIndexOf(...t){return Sr(this,"lastIndexOf",t)},map(t,e){return vt(this,"map",t,e,void 0,arguments)},pop(){return Ws(this,"pop")},push(...t){return Ws(this,"push",t)},reduce(t,...e){return Ac(this,"reduce",t,e)},reduceRight(t,...e){return Ac(this,"reduceRight",t,e)},shift(){return Ws(this,"shift")},some(t,e){return vt(this,"some",t,e,void 0,arguments)},splice(...t){return Ws(this,"splice",t)},toReversed(){return bs(this).toReversed()},toSorted(t){return bs(this).toSorted(t)},toSpliced(...t){return bs(this).toSpliced(...t)},unshift(...t){return Ws(this,"unshift",t)},values(){return Er(this,"values",be)}};function Er(t,e,s){const n=Qn(t),i=n[e]();return n!==t&&!Ke(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=s(r.value)),r}),i}const Nh=Array.prototype;function vt(t,e,s,n,i,r){const o=Qn(t),c=o!==t&&!Ke(t),a=o[e];if(a!==Nh[e]){const f=a.apply(t,r);return c?be(f):f}let u=s;o!==t&&(c?u=function(f,_){return s.call(this,be(f),_,t)}:s.length>2&&(u=function(f,_){return s.call(this,f,_,t)}));const l=a.call(o,u,n);return c&&i?i(l):l}function Ac(t,e,s,n){const i=Qn(t);let r=s;return i!==t&&(Ke(t)?s.length>3&&(r=function(o,c,a){return s.call(this,o,c,a,t)}):r=function(o,c,a){return s.call(this,o,be(c),a,t)}),i[e](r,...n)}function Sr(t,e,s){const n=K(t);ve(n,"iterate",Vs);const i=n[e](...s);return(i===-1||i===!1)&&Tr(s[0])?(s[0]=K(s[0]),n[e](...s)):i}function Ws(t,e,s=[]){ut(),mr();const n=K(t)[e].apply(t,s);return gr(),ft(),n}const Uh=or("__proto__,__v_isRef,__isVue"),Oc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Pt));function Dh(t){Pt(t)||(t=String(t));const e=K(this);return ve(e,"has",t),e.hasOwnProperty(t)}class xc{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?Pc:Lc:r?$c:kc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=q(e);if(!i){let a;if(o&&(a=Ph[s]))return a;if(s==="hasOwnProperty")return Dh}const c=Reflect.get(e,s,ue(e)?e:n);if((Pt(s)?Oc.has(s):Uh(s))||(i||ve(e,"get",s),r))return c;if(ue(c)){const a=o&&lr(s)?c:c.value;return i&&ce(a)?Jn(a):a}return ce(c)?i?Jn(c):Zn(c):c}}class Rc extends xc{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const a=Mt(r);if(!Ke(n)&&!Mt(n)&&(r=K(r),n=K(n)),!q(e)&&ue(r)&&!ue(n))return a||(r.value=n),!0}const o=q(e)&&lr(s)?Number(s)<e.length:te(e,s),c=Reflect.set(e,s,n,ue(e)?e:i);return e===K(i)&&(o?Dt(n,r)&&St(e,"set",s,n):St(e,"add",s,n)),c}deleteProperty(e,s){const n=te(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&St(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!Pt(s)||!Oc.has(s))&&ve(e,"has",s),n}ownKeys(e){return ve(e,"iterate",q(e)?"length":Zt),Reflect.ownKeys(e)}}class Ic extends xc{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Fh=new Rc,Mh=new Ic,qh=new Rc(!0),jh=new Ic(!0),vr=t=>t,Gn=t=>Reflect.getPrototypeOf(t);function Bh(t,e,s){return function(...n){const i=this.__v_raw,r=K(i),o=gs(r),c=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,u=i[t](...n),l=s?vr:e?ei:be;return!e&&ve(r,"iterate",a?yr:Zt),{next(){const{value:f,done:_}=u.next();return _?{value:f,done:_}:{value:c?[l(f[0]),l(f[1])]:l(f),done:_}},[Symbol.iterator](){return this}}}}function Kn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Hh(t,e){const s={get(i){const r=this.__v_raw,o=K(r),c=K(i);t||(Dt(i,c)&&ve(o,"get",i),ve(o,"get",c));const{has:a}=Gn(o),u=e?vr:t?ei:be;if(a.call(o,i))return u(r.get(i));if(a.call(o,c))return u(r.get(c));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ve(K(i),"iterate",Zt),i.size},has(i){const r=this.__v_raw,o=K(r),c=K(i);return t||(Dt(i,c)&&ve(o,"has",i),ve(o,"has",c)),i===c?r.has(i):r.has(i)||r.has(c)},forEach(i,r){const o=this,c=o.__v_raw,a=K(c),u=e?vr:t?ei:be;return!t&&ve(a,"iterate",Zt),c.forEach((l,f)=>i.call(r,u(l),u(f),o))}};return Ie(s,t?{add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear")}:{add(i){!e&&!Ke(i)&&!Mt(i)&&(i=K(i));const r=K(this);return Gn(r).has.call(r,i)||(r.add(i),St(r,"add",i,i)),this},set(i,r){!e&&!Ke(r)&&!Mt(r)&&(r=K(r));const o=K(this),{has:c,get:a}=Gn(o);let u=c.call(o,i);u||(i=K(i),u=c.call(o,i));const l=a.call(o,i);return o.set(i,r),u?Dt(r,l)&&St(o,"set",i,r):St(o,"add",i,r),this},delete(i){const r=K(this),{has:o,get:c}=Gn(r);let a=o.call(r,i);a||(i=K(i),a=o.call(r,i)),c&&c.call(r,i);const u=r.delete(i);return a&&St(r,"delete",i,void 0),u},clear(){const i=K(this),r=i.size!==0,o=i.clear();return r&&St(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Bh(i,t,e)}),s}function Yn(t,e){const s=Hh(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(te(s,i)&&i in n?s:n,i,r)}const zh={get:Yn(!1,!1)},Vh={get:Yn(!1,!0)},Wh={get:Yn(!0,!1)},Qh={get:Yn(!0,!0)},kc=new WeakMap,$c=new WeakMap,Lc=new WeakMap,Pc=new WeakMap;function Gh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kh(t){return t.__v_skip||!Object.isExtensible(t)?0:Gh(vh(t))}function Zn(t){return Mt(t)?t:Xn(t,!1,Fh,zh,kc)}function Yh(t){return Xn(t,!1,qh,Vh,$c)}function Jn(t){return Xn(t,!0,Mh,Wh,Lc)}function cT(t){return Xn(t,!0,jh,Qh,Pc)}function Xn(t,e,s,n,i){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Kh(t);if(r===0)return t;const o=i.get(t);if(o)return o;const c=new Proxy(t,r===2?n:s);return i.set(t,c),c}function Ft(t){return Mt(t)?Ft(t.__v_raw):!!(t&&t.__v_isReactive)}function Mt(t){return!!(t&&t.__v_isReadonly)}function Ke(t){return!!(t&&t.__v_isShallow)}function Tr(t){return t?!!t.__v_raw:!1}function K(t){const e=t&&t.__v_raw;return e?K(e):t}function Cr(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&lc(t,"__v_skip",!0),t}const be=t=>ce(t)?Zn(t):t,ei=t=>ce(t)?Jn(t):t;function ue(t){return t?t.__v_isRef===!0:!1}function Te(t){return Nc(t,!1)}function ti(t){return Nc(t,!0)}function Nc(t,e){return ue(t)?t:new Zh(t,e)}class Zh{constructor(e,s){this.dep=new Vn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:K(e),this._value=s?e:be(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Ke(e)||Mt(e);e=n?e:K(e),Dt(e,s)&&(this._rawValue=e,this._value=n?e:be(e),this.dep.trigger())}}function X(t){return ue(t)?t.value:t}function Tt(t){return j(t)?t():X(t)}const Jh={get:(t,e,s)=>e==="__v_raw"?t:X(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return ue(i)&&!ue(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function Uc(t){return Ft(t)?t:new Proxy(t,Jh)}class Xh{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Vn,{get:n,set:i}=e(s.track.bind(s),s.trigger.bind(s));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function e_(t){return new Xh(t)}function t_(t){const e=q(t)?new Array(t.length):{};for(const s in t)e[s]=Dc(t,s);return e}class s_{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Lh(K(this._object),this._key)}}class n_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function i_(t,e,s){return ue(t)?t:j(t)?new n_(t):ce(t)&&arguments.length>1?Dc(t,e,s):Te(t)}function Dc(t,e,s){const n=t[e];return ue(n)?n:new s_(t,e,s)}class r_{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Vn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return wc(this,!0),!0}get value(){const e=this.dep.track();return Sc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function o_(t,e,s=!1){let n,i;return j(t)?n=t:(n=t.get,i=t.set),new r_(n,i,s)}const si={},ni=new WeakMap;let Jt;function c_(t,e=!1,s=Jt){if(s){let n=ni.get(s);n||ni.set(s,n=[]),n.push(t)}}function a_(t,e,s=ie){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:c,call:a}=s,u=k=>i?k:Ke(k)||i===!1||i===0?Ct(k,1):Ct(k);let l,f,_,w,p=!1,S=!1;if(ue(t)?(f=()=>t.value,p=Ke(t)):Ft(t)?(f=()=>u(t),p=!0):q(t)?(S=!0,p=t.some(k=>Ft(k)||Ke(k)),f=()=>t.map(k=>{if(ue(k))return k.value;if(Ft(k))return u(k);if(j(k))return a?a(k,2):k()})):j(t)?e?f=a?()=>a(t,2):t:f=()=>{if(_){ut();try{_()}finally{ft()}}const k=Jt;Jt=l;try{return a?a(t,3,[w]):t(w)}finally{Jt=k}}:f=lt,e&&i){const k=f,F=i===!0?1/0:i;f=()=>Ct(k(),F)}const y=_r(),O=()=>{l.stop(),y&&y.active&&ar(y.effects,l)};if(r&&e){const k=e;e=(...F)=>{k(...F),O()}}let I=S?new Array(t.length).fill(si):si;const P=k=>{if(!(!(l.flags&1)||!l.dirty&&!k))if(e){const F=l.run();if(i||p||(S?F.some((le,Q)=>Dt(le,I[Q])):Dt(F,I))){_&&_();const le=Jt;Jt=l;try{const Q=[F,I===si?void 0:S&&I[0]===si?[]:I,w];I=F,a?a(e,3,Q):e(...Q)}finally{Jt=le}}}else l.run()};return c&&c(P),l=new gc(f),l.scheduler=o?()=>o(P,!1):P,w=k=>c_(k,!1,l),_=l.onStop=()=>{const k=ni.get(l);if(k){if(a)a(k,4);else for(const F of k)F();ni.delete(l)}},e?n?P(!0):I=l.run():o?o(P.bind(null,!0),!0):l.run(),O.pause=l.pause.bind(l),O.resume=l.resume.bind(l),O.stop=O,O}function Ct(t,e=1/0,s){if(e<=0||!ce(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,ue(t))Ct(t.value,e,s);else if(q(t))for(let n=0;n<t.length;n++)Ct(t[n],e,s);else if(ic(t)||gs(t))t.forEach(n=>{Ct(n,e,s)});else if(cc(t)){for(const n in t)Ct(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ct(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Qs=[];let Ar=!1;function aT(t,...e){if(Ar)return;Ar=!0,ut();const s=Qs.length?Qs[Qs.length-1].component:null,n=s&&s.appContext.config.warnHandler,i=l_();if(n)ws(n,s,11,[t+e.map(r=>{var o,c;return(c=(o=r.toString)==null?void 0:o.call(r))!=null?c:JSON.stringify(r)}).join(""),s&&s.proxy,i.map(({vnode:r})=>`at <${Ua(s,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${t}`,...e];i.length&&r.push(`
`,...u_(i)),console.warn(...r)}ft(),Ar=!1}function l_(){let t=Qs[Qs.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function u_(t){const e=[];return t.forEach((s,n)=>{e.push(...n===0?[]:[`
`],...f_(s))}),e}function f_({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,i=` at <${Ua(t.component,t.type,n)}`,r=">"+s;return t.props?[i,...d_(t.props),r]:[i+r]}function d_(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(n=>{e.push(...Fc(n,t[n]))}),s.length>3&&e.push(" ..."),e}function Fc(t,e,s){return de(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:ue(e)?(e=Fc(t,K(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):j(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=K(e),s?e:[`${t}=`,e])}function ws(t,e,s,n){try{return n?t(...n):t()}catch(i){ii(i,e,s)}}function dt(t,e,s,n){if(j(t)){const i=ws(t,e,s,n);return i&&rc(i)&&i.catch(r=>{ii(r,e,s)}),i}if(q(t)){const i=[];for(let r=0;r<t.length;r++)i.push(dt(t[r],e,s,n));return i}}function ii(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ie;if(e){let c=e.parent;const a=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const l=c.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,a,u)===!1)return}c=c.parent}if(r){ut(),ws(r,null,10,[t,a,u]),ft();return}}h_(t,s,i,n,o)}function h_(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const ke=[];let ht=-1;const ys=[];let qt=null,Es=0;const Mc=Promise.resolve();let ri=null;function Xt(t){const e=ri||Mc;return t?e.then(this?t.bind(this):t):e}function __(t){let e=ht+1,s=ke.length;for(;e<s;){const n=e+s>>>1,i=ke[n],r=Gs(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function Or(t){if(!(t.flags&1)){const e=Gs(t),s=ke[ke.length-1];!s||!(t.flags&2)&&e>=Gs(s)?ke.push(t):ke.splice(__(e),0,t),t.flags|=1,qc()}}function qc(){ri||(ri=Mc.then(Hc))}function p_(t){q(t)?ys.push(...t):qt&&t.id===-1?qt.splice(Es+1,0,t):t.flags&1||(ys.push(t),t.flags|=1),qc()}function jc(t,e,s=ht+1){for(;s<ke.length;s++){const n=ke[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ke.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Bc(t){if(ys.length){const e=[...new Set(ys)].sort((s,n)=>Gs(s)-Gs(n));if(ys.length=0,qt){qt.push(...e);return}for(qt=e,Es=0;Es<qt.length;Es++){const s=qt[Es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}qt=null,Es=0}}const Gs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Hc(t){try{for(ht=0;ht<ke.length;ht++){const e=ke[ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ws(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ht<ke.length;ht++){const e=ke[ht];e&&(e.flags&=-2)}ht=-1,ke.length=0,Bc(),ri=null,(ke.length||ys.length)&&Hc()}}let Ye=null,zc=null;function oi(t){const e=Ye;return Ye=t,zc=t&&t.type.__scopeId||null,e}function m_(t,e=Ye,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&Oa(-1);const r=oi(e);let o;try{o=t(...i)}finally{oi(r),n._d&&Oa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function jt(t,e){if(Ye===null)return t;const s=bi(Ye),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,c,a=ie]=e[i];r&&(j(r)&&(r={mounted:r,updated:r}),r.deep&&Ct(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:c,modifiers:a}))}return t}function es(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const c=i[o];r&&(c.oldValue=r[o].value);let a=c.dir[n];a&&(ut(),dt(a,s,8,[t.el,c,t,e]),ft())}}const Vc=Symbol("_vte"),g_=t=>t.__isTeleport,Ks=t=>t&&(t.disabled||t.disabled===""),Wc=t=>t&&(t.defer||t.defer===""),Qc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Gc=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,xr=(t,e)=>{const s=t&&t.to;return de(s)?e?e(s):null:s},Kc={name:"Teleport",__isTeleport:!0,process(t,e,s,n,i,r,o,c,a,u){const{mc:l,pc:f,pbc:_,o:{insert:w,querySelector:p,createText:S,createComment:y}}=u,O=Ks(e.props);let{shapeFlag:I,children:P,dynamicChildren:k}=e;if(t==null){const F=e.el=S(""),le=e.anchor=S("");w(F,s,n),w(le,s,n);const Q=(D,se)=>{I&16&&l(P,D,se,i,r,o,c,a)},M=()=>{const D=e.target=xr(e.props,p),se=Yc(D,e,S,w);D&&(o!=="svg"&&Qc(D)?o="svg":o!=="mathml"&&Gc(D)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(D),O||(Q(D,se),ai(e,!1)))};O&&(Q(s,le),ai(e,!0)),Wc(e.props)?(e.el.__isMounted=!1,Le(()=>{M(),delete e.el.__isMounted},r)):M()}else{if(Wc(e.props)&&t.el.__isMounted===!1){Le(()=>{Kc.process(t,e,s,n,i,r,o,c,a,u)},r);return}e.el=t.el,e.targetStart=t.targetStart;const F=e.anchor=t.anchor,le=e.target=t.target,Q=e.targetAnchor=t.targetAnchor,M=Ks(t.props),D=M?s:le,se=M?F:Q;if(o==="svg"||Qc(le)?o="svg":(o==="mathml"||Gc(le))&&(o="mathml"),k?(_(t.dynamicChildren,k,D,i,r,o,c),Fr(t,e,!0)):a||f(t,e,D,se,i,r,o,c,!1),O)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ci(e,s,F,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ge=e.target=xr(e.props,p);ge&&ci(e,ge,null,u,0)}else M&&ci(e,le,Q,u,1);ai(e,O)}},remove(t,e,s,{um:n,o:{remove:i}},r){const{shapeFlag:o,children:c,anchor:a,targetStart:u,targetAnchor:l,target:f,props:_}=t;if(f&&(i(u),i(l)),r&&i(a),o&16){const w=r||!Ks(_);for(let p=0;p<c.length;p++){const S=c[p];n(S,e,s,w,!!S.dynamicChildren)}}},move:ci,hydrate:b_};function ci(t,e,s,{o:{insert:n},m:i},r=2){r===0&&n(t.targetAnchor,e,s);const{el:o,anchor:c,shapeFlag:a,children:u,props:l}=t,f=r===2;if(f&&n(o,e,s),(!f||Ks(l))&&a&16)for(let _=0;_<u.length;_++)i(u[_],e,s,2);f&&n(c,e,s)}function b_(t,e,s,n,i,r,{o:{nextSibling:o,parentNode:c,querySelector:a,insert:u,createText:l}},f){function _(S,y,O,I){y.anchor=f(o(S),y,c(S),s,n,i,r),y.targetStart=O,y.targetAnchor=I}const w=e.target=xr(e.props,a),p=Ks(e.props);if(w){const S=w._lpa||w.firstChild;if(e.shapeFlag&16)if(p)_(t,e,S,S&&o(S));else{e.anchor=o(t);let y=S;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,w._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||Yc(w,e,l,u),f(S&&o(S),e,w,s,n,i,r)}ai(e,p)}else p&&e.shapeFlag&16&&_(t,e,t,o(t));return e.anchor&&o(e.anchor)}const w_=Kc;function ai(t,e){const s=t.ctx;if(s&&s.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function Yc(t,e,s,n){const i=e.targetStart=s(""),r=e.targetAnchor=s("");return i[Vc]=r,t&&(n(i,t),n(r,t)),r}const y_=Symbol("_leaveCb");function Rr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ys(t){const e=mi(),s=ti(null);if(e){const i=e.refs===ie?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>s.value,set:r=>s.value=r})}return s}const li=new WeakMap;function Zs(t,e,s,n,i=!1){if(q(t)){t.forEach((p,S)=>Zs(p,e&&(q(e)?e[S]:e),s,n,i));return}if(Js(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Zs(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?bi(n.component):n.el,o=i?null:r,{i:c,r:a}=t,u=e&&e.r,l=c.refs===ie?c.refs={}:c.refs,f=c.setupState,_=K(f),w=f===ie?nc:p=>te(_,p);if(u!=null&&u!==a){if(Jc(e),de(u))l[u]=null,w(u)&&(f[u]=null);else if(ue(u)){u.value=null;const p=e;p.k&&(l[p.k]=null)}}if(j(a))ws(a,c,12,[o,l]);else{const p=de(a),S=ue(a);if(p||S){const y=()=>{if(t.f){const O=p?w(a)?f[a]:l[a]:a.value;if(i)q(O)&&ar(O,r);else if(q(O))O.includes(r)||O.push(r);else if(p)l[a]=[r],w(a)&&(f[a]=l[a]);else{const I=[r];a.value=I,t.k&&(l[t.k]=I)}}else p?(l[a]=o,w(a)&&(f[a]=o)):S&&(a.value=o,t.k&&(l[t.k]=o))};if(o){const O=()=>{y(),li.delete(t)};O.id=-1,li.set(t,O),Le(O,s)}else Jc(t),y()}}}function Jc(t){const e=li.get(t);e&&(e.flags|=8,li.delete(t))}zn().requestIdleCallback,zn().cancelIdleCallback;const Js=t=>!!t.type.__asyncLoader,Xc=t=>t.type.__isKeepAlive;function E_(t,e){ea(t,"a",e)}function S_(t,e){ea(t,"da",e)}function ea(t,e,s=Pe){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ui(e,n,s),s){let i=s.parent;for(;i&&i.parent;)Xc(i.parent.vnode)&&v_(n,e,s,i),i=i.parent}}function v_(t,e,s,n){const i=ui(e,t,n,!0);sa(()=>{ar(n[e],i)},s)}function ui(t,e,s=Pe,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{ut();const c=an(s),a=dt(e,s,t,o);return c(),ft(),a});return n?i.unshift(r):i.push(r),r}}const At=t=>(e,s=Pe)=>{(!ln||t==="sp")&&ui(t,(...n)=>e(...n),s)},T_=At("bm"),ta=At("m"),C_=At("bu"),A_=At("u"),O_=At("bum"),sa=At("um"),x_=At("sp"),R_=At("rtg"),I_=At("rtc");function k_(t,e=Pe){ui("ec",t,e)}const $_=Symbol.for("v-ndc");function Xs(t,e,s,n){let i;const r=s,o=q(t);if(o||de(t)){const c=o&&Ft(t);let a=!1,u=!1;c&&(a=!Ke(t),u=Mt(t),t=Qn(t)),i=new Array(t.length);for(let l=0,f=t.length;l<f;l++)i[l]=e(a?u?ei(be(t[l])):be(t[l]):t[l],l,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let c=0;c<t;c++)i[c]=e(c+1,c,void 0,r)}else if(ce(t))if(t[Symbol.iterator])i=Array.from(t,(c,a)=>e(c,a,void 0,r));else{const c=Object.keys(t);i=new Array(c.length);for(let a=0,u=c.length;a<u;a++){const l=c[a];i[a]=e(t[l],l,a,r)}}else i=[];return i}const Ir=t=>t?La(t)?bi(t):Ir(t.parent):null,en=Ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ir(t.parent),$root:t=>Ir(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oa(t),$forceUpdate:t=>t.f||(t.f=()=>{Or(t.update)}),$nextTick:t=>t.n||(t.n=Xt.bind(t.proxy)),$watch:t=>tp.bind(t)}),kr=(t,e)=>t!==ie&&!t.__isScriptSetup&&te(t,e),L_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:c,appContext:a}=t;let u;if(e[0]!=="$"){const w=o[e];if(w!==void 0)switch(w){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(kr(n,e))return o[e]=1,n[e];if(i!==ie&&te(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&te(u,e))return o[e]=3,r[e];if(s!==ie&&te(s,e))return o[e]=4,s[e];$r&&(o[e]=0)}}const l=en[e];let f,_;if(l)return e==="$attrs"&&ve(t.attrs,"get",""),l(t);if((f=c.__cssModules)&&(f=f[e]))return f;if(s!==ie&&te(s,e))return o[e]=4,s[e];if(_=a.config.globalProperties,te(_,e))return _[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return kr(i,e)?(i[e]=s,!0):n!==ie&&te(n,e)?(n[e]=s,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:o}},c){let a,u;return!!(s[c]||t!==ie&&c[0]!=="$"&&te(t,c)||kr(e,c)||(a=r[0])&&te(a,c)||te(n,c)||te(en,c)||te(i.config.globalProperties,c)||(u=o.__cssModules)&&u[c])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:te(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function na(t){return q(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let $r=!0;function P_(t){const e=oa(t),s=t.proxy,n=t.ctx;$r=!1,e.beforeCreate&&ia(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:c,provide:a,inject:u,created:l,beforeMount:f,mounted:_,beforeUpdate:w,updated:p,activated:S,deactivated:y,beforeDestroy:O,beforeUnmount:I,destroyed:P,unmounted:k,render:F,renderTracked:le,renderTriggered:Q,errorCaptured:M,serverPrefetch:D,expose:se,inheritAttrs:ge,components:De,directives:He,filters:Qe}=e;if(u&&N_(u,n,null),o)for(const W in o){const G=o[W];j(G)&&(n[W]=G.bind(s))}if(i){const W=i.call(s,s);ce(W)&&(t.data=Zn(W))}if($r=!0,r)for(const W in r){const G=r[W],bt=j(G)?G.bind(s,s):j(G.get)?G.get.bind(s,s):lt,Fs=!j(G)&&j(G.set)?G.set.bind(s):lt,Re=mt({get:bt,set:Fs});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Ee=>Re.value=Ee})}if(c)for(const W in c)ra(c[W],n,s,W);if(a){const W=j(a)?a.call(s):a;Reflect.ownKeys(W).forEach(G=>{j_(G,W[G])})}l&&ia(l,t,"c");function ee(W,G){q(G)?G.forEach(bt=>W(bt.bind(s))):G&&W(G.bind(s))}if(ee(T_,f),ee(ta,_),ee(C_,w),ee(A_,p),ee(E_,S),ee(S_,y),ee(k_,M),ee(I_,le),ee(R_,Q),ee(O_,I),ee(sa,k),ee(x_,D),q(se))if(se.length){const W=t.exposed||(t.exposed={});se.forEach(G=>{Object.defineProperty(W,G,{get:()=>s[G],set:bt=>s[G]=bt,enumerable:!0})})}else t.exposed||(t.exposed={});F&&t.render===lt&&(t.render=F),ge!=null&&(t.inheritAttrs=ge),De&&(t.components=De),He&&(t.directives=He),D&&Zc(t)}function N_(t,e,s=lt){q(t)&&(t=Lr(t));for(const n in t){const i=t[n];let r;ce(i)?"default"in i?r=sn(i.from||n,i.default,!0):r=sn(i.from||n):r=sn(i),ue(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function ia(t,e,s){dt(q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function ra(t,e,s,n){let i=n.includes(".")?Sa(s,n):()=>s[n];if(de(t)){const r=e[t];j(r)&&nt(i,r)}else if(j(t))nt(i,t.bind(s));else if(ce(t))if(q(t))t.forEach(r=>ra(r,e,s,n));else{const r=j(t.handler)?t.handler.bind(s):e[t.handler];j(r)&&nt(i,r,t)}}function oa(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,c=r.get(e);let a;return c?a=c:!i.length&&!s&&!n?a=e:(a={},i.length&&i.forEach(u=>fi(a,u,o,!0)),fi(a,e,o)),ce(e)&&r.set(e,a),a}function fi(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&fi(t,r,s,!0),i&&i.forEach(o=>fi(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const c=U_[o]||s&&s[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const U_={data:ca,props:aa,emits:aa,methods:tn,computed:tn,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:tn,directives:tn,watch:F_,provide:ca,inject:D_};function ca(t,e){return e?t?function(){return Ie(j(t)?t.call(this,this):t,j(e)?e.call(this,this):e)}:e:t}function D_(t,e){return tn(Lr(t),Lr(e))}function Lr(t){if(q(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function $e(t,e){return t?[...new Set([].concat(t,e))]:e}function tn(t,e){return t?Ie(Object.create(null),t,e):e}function aa(t,e){return t?q(t)&&q(e)?[...new Set([...t,...e])]:Ie(Object.create(null),na(t),na(e??{})):e}function F_(t,e){if(!t)return e;if(!e)return t;const s=Ie(Object.create(null),t);for(const n in e)s[n]=$e(t[n],e[n]);return s}function la(){return{app:null,config:{isNativeTag:nc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let M_=0;function q_(t,e){return function(n,i=null){j(n)||(n=Ie({},n)),i!=null&&!ce(i)&&(i=null);const r=la(),o=new WeakSet,c=[];let a=!1;const u=r.app={_uid:M_++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Cp,get config(){return r.config},set config(l){},use(l,...f){return o.has(l)||(l&&j(l.install)?(o.add(l),l.install(u,...f)):j(l)&&(o.add(l),l(u,...f))),u},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),u},component(l,f){return f?(r.components[l]=f,u):r.components[l]},directive(l,f){return f?(r.directives[l]=f,u):r.directives[l]},mount(l,f,_){if(!a){const w=u._ceVNode||Ce(n,i);return w.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),t(w,l,_),a=!0,u._container=l,l.__vue_app__=u,bi(w.component)}},onUnmount(l){c.push(l)},unmount(){a&&(dt(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return r.provides[l]=f,u},runWithContext(l){const f=ts;ts=u;try{return l()}finally{ts=f}}};return u}}let ts=null;function j_(t,e){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[t]=e}}function sn(t,e,s=!1){const n=mi();if(n||ts){let i=ts?ts._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&j(e)?e.call(n&&n.proxy):e}}function B_(){return!!(mi()||ts)}const ua={},fa=()=>Object.create(ua),da=t=>Object.getPrototypeOf(t)===ua;function H_(t,e,s,n=!1){const i={},r=fa();t.propsDefaults=Object.create(null),ha(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Yh(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function z_(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,c=K(i),[a]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let f=0;f<l.length;f++){let _=l[f];if(di(t.emitsOptions,_))continue;const w=e[_];if(a)if(te(r,_))w!==r[_]&&(r[_]=w,u=!0);else{const p=Nt(_);i[p]=Pr(a,c,p,w,t,!1)}else w!==r[_]&&(r[_]=w,u=!0)}}}else{ha(t,e,i,r)&&(u=!0);let l;for(const f in c)(!e||!te(e,f)&&((l=Ut(f))===f||!te(e,l)))&&(a?s&&(s[f]!==void 0||s[l]!==void 0)&&(i[f]=Pr(a,c,f,void 0,t,!0)):delete i[f]);if(r!==c)for(const f in r)(!e||!te(e,f))&&(delete r[f],u=!0)}u&&St(t.attrs,"set","")}function ha(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,c;if(e)for(let a in e){if(js(a))continue;const u=e[a];let l;i&&te(i,l=Nt(a))?!r||!r.includes(l)?s[l]=u:(c||(c={}))[l]=u:di(t.emitsOptions,a)||(!(a in n)||u!==n[a])&&(n[a]=u,o=!0)}if(r){const a=K(s),u=c||ie;for(let l=0;l<r.length;l++){const f=r[l];s[f]=Pr(i,a,f,u[f],t,!te(u,f))}}return o}function Pr(t,e,s,n,i,r){const o=t[s];if(o!=null){const c=te(o,"default");if(c&&n===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&j(a)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const l=an(i);n=u[s]=a.call(null,e),l()}}else n=a;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!c?n=!1:o[1]&&(n===""||n===Ut(s))&&(n=!0))}return n}const V_=new WeakMap;function _a(t,e,s=!1){const n=s?V_:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},c=[];let a=!1;if(!j(t)){const l=f=>{a=!0;const[_,w]=_a(f,e,!0);Ie(o,_),w&&c.push(...w)};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!r&&!a)return ce(t)&&n.set(t,ms),ms;if(q(r))for(let l=0;l<r.length;l++){const f=Nt(r[l]);pa(f)&&(o[f]=ie)}else if(r)for(const l in r){const f=Nt(l);if(pa(f)){const _=r[l],w=o[f]=q(_)||j(_)?{type:_}:Ie({},_),p=w.type;let S=!1,y=!0;if(q(p))for(let O=0;O<p.length;++O){const I=p[O],P=j(I)&&I.name;if(P==="Boolean"){S=!0;break}else P==="String"&&(y=!1)}else S=j(p)&&p.name==="Boolean";w[0]=S,w[1]=y,(S||te(w,"default"))&&c.push(f)}}const u=[o,c];return ce(t)&&n.set(t,u),u}function pa(t){return t[0]!=="$"&&!js(t)}const Nr=t=>t==="_"||t==="_ctx"||t==="$stable",Ur=t=>q(t)?t.map(_t):[_t(t)],W_=(t,e,s)=>{if(e._n)return e;const n=m_((...i)=>Ur(e(...i)),s);return n._c=!1,n},ma=(t,e,s)=>{const n=t._ctx;for(const i in t){if(Nr(i))continue;const r=t[i];if(j(r))e[i]=W_(i,r,n);else if(r!=null){const o=Ur(r);e[i]=()=>o}}},ga=(t,e)=>{const s=Ur(e);t.slots.default=()=>s},ba=(t,e,s)=>{for(const n in e)(s||!Nr(n))&&(t[n]=e[n])},Q_=(t,e,s)=>{const n=t.slots=fa();if(t.vnode.shapeFlag&32){const i=e._;i?(ba(n,e,s),s&&lc(n,"_",i,!0)):ma(e,n)}else e&&ga(t,e)},G_=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=ie;if(n.shapeFlag&32){const c=e._;c?s&&c===1?r=!1:ba(i,e,s):(r=!e.$stable,ma(e,i)),o=e}else e&&(ga(t,e),o={default:1});if(r)for(const c in i)!Nr(c)&&o[c]==null&&delete i[c]},Le=lp;function K_(t){return Y_(t)}function Y_(t,e){const s=zn();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:c,createComment:a,setText:u,setElementText:l,parentNode:f,nextSibling:_,setScopeId:w=lt,insertStaticContent:p}=t,S=(d,h,E,C=null,v=null,T=null,$=void 0,R=null,x=!!h.dynamicChildren)=>{if(d===h)return;d&&!cn(d,h)&&(C=rr(d),Ee(d,v,T,!0),d=null),h.patchFlag===-2&&(x=!1,h.dynamicChildren=null);const{type:A,ref:U,shapeFlag:L}=h;switch(A){case hi:y(d,h,E,C);break;case Bt:O(d,h,E,C);break;case _i:d==null&&I(h,E,C,$);break;case pe:De(d,h,E,C,v,T,$,R,x);break;default:L&1?F(d,h,E,C,v,T,$,R,x):L&6?He(d,h,E,C,v,T,$,R,x):(L&64||L&128)&&A.process(d,h,E,C,v,T,$,R,x,Dn)}U!=null&&v?Zs(U,d&&d.ref,T,h||d,!h):U==null&&d&&d.ref!=null&&Zs(d.ref,null,T,d,!0)},y=(d,h,E,C)=>{if(d==null)n(h.el=c(h.children),E,C);else{const v=h.el=d.el;h.children!==d.children&&u(v,h.children)}},O=(d,h,E,C)=>{d==null?n(h.el=a(h.children||""),E,C):h.el=d.el},I=(d,h,E,C)=>{[d.el,d.anchor]=p(d.children,h,E,C,d.el,d.anchor)},P=({el:d,anchor:h},E,C)=>{let v;for(;d&&d!==h;)v=_(d),n(d,E,C),d=v;n(h,E,C)},k=({el:d,anchor:h})=>{let E;for(;d&&d!==h;)E=_(d),i(d),d=E;i(h)},F=(d,h,E,C,v,T,$,R,x)=>{h.type==="svg"?$="svg":h.type==="math"&&($="mathml"),d==null?le(h,E,C,v,T,$,R,x):D(d,h,v,T,$,R,x)},le=(d,h,E,C,v,T,$,R)=>{let x,A;const{props:U,shapeFlag:L,transition:N,dirs:H}=d;if(x=d.el=o(d.type,T,U&&U.is,U),L&8?l(x,d.children):L&16&&M(d.children,x,null,C,v,Dr(d,T),$,R),H&&es(d,null,C,"created"),Q(x,d,d.scopeId,$,C),U){for(const oe in U)oe!=="value"&&!js(oe)&&r(x,oe,null,U[oe],T,C);"value"in U&&r(x,"value",null,U.value,T),(A=U.onVnodeBeforeMount)&&pt(A,C,d)}H&&es(d,null,C,"beforeMount");const J=Z_(v,N);J&&N.beforeEnter(x),n(x,h,E),((A=U&&U.onVnodeMounted)||J||H)&&Le(()=>{A&&pt(A,C,d),J&&N.enter(x),H&&es(d,null,C,"mounted")},v)},Q=(d,h,E,C,v)=>{if(E&&w(d,E),C)for(let T=0;T<C.length;T++)w(d,C[T]);if(v){let T=v.subTree;if(h===T||Aa(T.type)&&(T.ssContent===h||T.ssFallback===h)){const $=v.vnode;Q(d,$,$.scopeId,$.slotScopeIds,v.parent)}}},M=(d,h,E,C,v,T,$,R,x=0)=>{for(let A=x;A<d.length;A++){const U=d[A]=R?Ht(d[A]):_t(d[A]);S(null,U,h,E,C,v,T,$,R)}},D=(d,h,E,C,v,T,$)=>{const R=h.el=d.el;let{patchFlag:x,dynamicChildren:A,dirs:U}=h;x|=d.patchFlag&16;const L=d.props||ie,N=h.props||ie;let H;if(E&&ss(E,!1),(H=N.onVnodeBeforeUpdate)&&pt(H,E,h,d),U&&es(h,d,E,"beforeUpdate"),E&&ss(E,!0),(L.innerHTML&&N.innerHTML==null||L.textContent&&N.textContent==null)&&l(R,""),A?se(d.dynamicChildren,A,R,E,C,Dr(h,v),T):$||G(d,h,R,null,E,C,Dr(h,v),T,!1),x>0){if(x&16)ge(R,L,N,E,v);else if(x&2&&L.class!==N.class&&r(R,"class",null,N.class,v),x&4&&r(R,"style",L.style,N.style,v),x&8){const J=h.dynamicProps;for(let oe=0;oe<J.length;oe++){const ne=J[oe],ze=L[ne],Ve=N[ne];(Ve!==ze||ne==="value")&&r(R,ne,ze,Ve,v,E)}}x&1&&d.children!==h.children&&l(R,h.children)}else!$&&A==null&&ge(R,L,N,E,v);((H=N.onVnodeUpdated)||U)&&Le(()=>{H&&pt(H,E,h,d),U&&es(h,d,E,"updated")},C)},se=(d,h,E,C,v,T,$)=>{for(let R=0;R<h.length;R++){const x=d[R],A=h[R],U=x.el&&(x.type===pe||!cn(x,A)||x.shapeFlag&198)?f(x.el):E;S(x,A,U,null,C,v,T,$,!0)}},ge=(d,h,E,C,v)=>{if(h!==E){if(h!==ie)for(const T in h)!js(T)&&!(T in E)&&r(d,T,h[T],null,v,C);for(const T in E){if(js(T))continue;const $=E[T],R=h[T];$!==R&&T!=="value"&&r(d,T,R,$,v,C)}"value"in E&&r(d,"value",h.value,E.value,v)}},De=(d,h,E,C,v,T,$,R,x)=>{const A=h.el=d?d.el:c(""),U=h.anchor=d?d.anchor:c("");let{patchFlag:L,dynamicChildren:N,slotScopeIds:H}=h;H&&(R=R?R.concat(H):H),d==null?(n(A,E,C),n(U,E,C),M(h.children||[],E,U,v,T,$,R,x)):L>0&&L&64&&N&&d.dynamicChildren?(se(d.dynamicChildren,N,E,v,T,$,R),(h.key!=null||v&&h===v.subTree)&&Fr(d,h,!0)):G(d,h,E,U,v,T,$,R,x)},He=(d,h,E,C,v,T,$,R,x)=>{h.slotScopeIds=R,d==null?h.shapeFlag&512?v.ctx.activate(h,E,C,$,x):Qe(h,E,C,v,T,$,x):ps(d,h,x)},Qe=(d,h,E,C,v,T,$)=>{const R=d.component=mp(d,C,v);if(Xc(d)&&(R.ctx.renderer=Dn),gp(R,!1,$),R.asyncDep){if(v&&v.registerDep(R,ee,$),!d.el){const x=R.subTree=Ce(Bt);O(null,x,h,E),d.placeholder=x.el}}else ee(R,d,h,E,v,T,$)},ps=(d,h,E)=>{const C=h.component=d.component;if(cp(d,h,E))if(C.asyncDep&&!C.asyncResolved){W(C,h,E);return}else C.next=h,C.update();else h.el=d.el,C.vnode=h},ee=(d,h,E,C,v,T,$)=>{const R=()=>{if(d.isMounted){let{next:L,bu:N,u:H,parent:J,vnode:oe}=d;{const yt=wa(d);if(yt){L&&(L.el=oe.el,W(d,L,$)),yt.asyncDep.then(()=>{d.isUnmounted||R()});return}}let ne=L,ze;ss(d,!1),L?(L.el=oe.el,W(d,L,$)):L=oe,N&&Hn(N),(ze=L.props&&L.props.onVnodeBeforeUpdate)&&pt(ze,J,L,oe),ss(d,!0);const Ve=Ta(d),wt=d.subTree;d.subTree=Ve,S(wt,Ve,f(wt.el),rr(wt),d,v,T),L.el=Ve.el,ne===null&&ap(d,Ve.el),H&&Le(H,v),(ze=L.props&&L.props.onVnodeUpdated)&&Le(()=>pt(ze,J,L,oe),v)}else{let L;const{el:N,props:H}=h,{bm:J,m:oe,parent:ne,root:ze,type:Ve}=d,wt=Js(h);ss(d,!1),J&&Hn(J),!wt&&(L=H&&H.onVnodeBeforeMount)&&pt(L,ne,h),ss(d,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Ve);const yt=d.subTree=Ta(d);S(null,yt,E,C,d,v,T),h.el=yt.el}if(oe&&Le(oe,v),!wt&&(L=H&&H.onVnodeMounted)){const yt=h;Le(()=>pt(L,ne,yt),v)}(h.shapeFlag&256||ne&&Js(ne.vnode)&&ne.vnode.shapeFlag&256)&&d.a&&Le(d.a,v),d.isMounted=!0,h=E=C=null}};d.scope.on();const x=d.effect=new gc(R);d.scope.off();const A=d.update=x.run.bind(x),U=d.job=x.runIfDirty.bind(x);U.i=d,U.id=d.uid,x.scheduler=()=>Or(U),ss(d,!0),A()},W=(d,h,E)=>{h.component=d;const C=d.vnode.props;d.vnode=h,d.next=null,z_(d,h.props,C,E),G_(d,h.children,E),ut(),jc(d),ft()},G=(d,h,E,C,v,T,$,R,x=!1)=>{const A=d&&d.children,U=d?d.shapeFlag:0,L=h.children,{patchFlag:N,shapeFlag:H}=h;if(N>0){if(N&128){Fs(A,L,E,C,v,T,$,R,x);return}else if(N&256){bt(A,L,E,C,v,T,$,R,x);return}}H&8?(U&16&&Un(A,v,T),L!==A&&l(E,L)):U&16?H&16?Fs(A,L,E,C,v,T,$,R,x):Un(A,v,T,!0):(U&8&&l(E,""),H&16&&M(L,E,C,v,T,$,R,x))},bt=(d,h,E,C,v,T,$,R,x)=>{d=d||ms,h=h||ms;const A=d.length,U=h.length,L=Math.min(A,U);let N;for(N=0;N<L;N++){const H=h[N]=x?Ht(h[N]):_t(h[N]);S(d[N],H,E,null,v,T,$,R,x)}A>U?Un(d,v,T,!0,!1,L):M(h,E,C,v,T,$,R,x,L)},Fs=(d,h,E,C,v,T,$,R,x)=>{let A=0;const U=h.length;let L=d.length-1,N=U-1;for(;A<=L&&A<=N;){const H=d[A],J=h[A]=x?Ht(h[A]):_t(h[A]);if(cn(H,J))S(H,J,E,null,v,T,$,R,x);else break;A++}for(;A<=L&&A<=N;){const H=d[L],J=h[N]=x?Ht(h[N]):_t(h[N]);if(cn(H,J))S(H,J,E,null,v,T,$,R,x);else break;L--,N--}if(A>L){if(A<=N){const H=N+1,J=H<U?h[H].el:C;for(;A<=N;)S(null,h[A]=x?Ht(h[A]):_t(h[A]),E,J,v,T,$,R,x),A++}}else if(A>N)for(;A<=L;)Ee(d[A],v,T,!0),A++;else{const H=A,J=A,oe=new Map;for(A=J;A<=N;A++){const Ge=h[A]=x?Ht(h[A]):_t(h[A]);Ge.key!=null&&oe.set(Ge.key,A)}let ne,ze=0;const Ve=N-J+1;let wt=!1,yt=0;const Fn=new Array(Ve);for(A=0;A<Ve;A++)Fn[A]=0;for(A=H;A<=L;A++){const Ge=d[A];if(ze>=Ve){Ee(Ge,v,T,!0);continue}let Et;if(Ge.key!=null)Et=oe.get(Ge.key);else for(ne=J;ne<=N;ne++)if(Fn[ne-J]===0&&cn(Ge,h[ne])){Et=ne;break}Et===void 0?Ee(Ge,v,T,!0):(Fn[Et-J]=A+1,Et>=yt?yt=Et:wt=!0,S(Ge,h[Et],E,null,v,T,$,R,x),ze++)}const bh=wt?J_(Fn):ms;for(ne=bh.length-1,A=Ve-1;A>=0;A--){const Ge=J+A,Et=h[Ge],wh=h[Ge+1],yh=Ge+1<U?wh.el||wh.placeholder:C;Fn[A]===0?S(null,Et,E,yh,v,T,$,R,x):wt&&(ne<0||A!==bh[ne]?Re(Et,E,yh,2):ne--)}}},Re=(d,h,E,C,v=null)=>{const{el:T,type:$,transition:R,children:x,shapeFlag:A}=d;if(A&6){Re(d.component.subTree,h,E,C);return}if(A&128){d.suspense.move(h,E,C);return}if(A&64){$.move(d,h,E,Dn);return}if($===pe){n(T,h,E);for(let L=0;L<x.length;L++)Re(x[L],h,E,C);n(d.anchor,h,E);return}if($===_i){P(d,h,E);return}if(C!==2&&A&1&&R)if(C===0)R.beforeEnter(T),n(T,h,E),Le(()=>R.enter(T),v);else{const{leave:L,delayLeave:N,afterLeave:H}=R,J=()=>{d.ctx.isUnmounted?i(T):n(T,h,E)},oe=()=>{T._isLeaving&&T[y_](!0),L(T,()=>{J(),H&&H()})};N?N(T,J,oe):oe()}else n(T,h,E)},Ee=(d,h,E,C=!1,v=!1)=>{const{type:T,props:$,ref:R,children:x,dynamicChildren:A,shapeFlag:U,patchFlag:L,dirs:N,cacheIndex:H}=d;if(L===-2&&(v=!1),R!=null&&(ut(),Zs(R,null,E,d,!0),ft()),H!=null&&(h.renderCache[H]=void 0),U&256){h.ctx.deactivate(d);return}const J=U&1&&N,oe=!Js(d);let ne;if(oe&&(ne=$&&$.onVnodeBeforeUnmount)&&pt(ne,h,d),U&6)ir(d.component,E,C);else{if(U&128){d.suspense.unmount(E,C);return}J&&es(d,null,h,"beforeUnmount"),U&64?d.type.remove(d,h,E,Dn,C):A&&!A.hasOnce&&(T!==pe||L>0&&L&64)?Un(A,h,E,!1,!0):(T===pe&&L&384||!v&&U&16)&&Un(x,h,E),C&&Ms(d)}(oe&&(ne=$&&$.onVnodeUnmounted)||J)&&Le(()=>{ne&&pt(ne,h,d),J&&es(d,null,h,"unmounted")},E)},Ms=d=>{const{type:h,el:E,anchor:C,transition:v}=d;if(h===pe){qs(E,C);return}if(h===_i){k(d);return}const T=()=>{i(E),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:$,delayLeave:R}=v,x=()=>$(E,T);R?R(d.el,T,x):x()}else T()},qs=(d,h)=>{let E;for(;d!==h;)E=_(d),i(d),d=E;i(h)},ir=(d,h,E)=>{const{bum:C,scope:v,job:T,subTree:$,um:R,m:x,a:A}=d;ya(x),ya(A),C&&Hn(C),v.stop(),T&&(T.flags|=8,Ee($,d,h,E)),R&&Le(R,h),Le(()=>{d.isUnmounted=!0},h)},Un=(d,h,E,C=!1,v=!1,T=0)=>{for(let $=T;$<d.length;$++)Ee(d[$],h,E,C,v)},rr=d=>{if(d.shapeFlag&6)return rr(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const h=_(d.anchor||d.el),E=h&&h[Vc];return E?_(E):h};let sc=!1;const gh=(d,h,E)=>{d==null?h._vnode&&Ee(h._vnode,null,null,!0):S(h._vnode||null,d,h,null,null,null,E),h._vnode=d,sc||(sc=!0,jc(),Bc(),sc=!1)},Dn={p:S,um:Ee,m:Re,r:Ms,mt:Qe,mc:M,pc:G,pbc:se,n:rr,o:t};return{render:gh,hydrate:void 0,createApp:q_(gh)}}function Dr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ss({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Z_(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fr(t,e,s=!1){const n=t.children,i=e.children;if(q(n)&&q(i))for(let r=0;r<n.length;r++){const o=n[r];let c=i[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[r]=Ht(i[r]),c.el=o.el),!s&&c.patchFlag!==-2&&Fr(o,c)),c.type===hi&&c.patchFlag!==-1&&(c.el=o.el),c.type===Bt&&!c.el&&(c.el=o.el)}}function J_(t){const e=t.slice(),s=[0];let n,i,r,o,c;const a=t.length;for(n=0;n<a;n++){const u=t[n];if(u!==0){if(i=s[s.length-1],t[i]<u){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)c=r+o>>1,t[s[c]]<u?r=c+1:o=c;u<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function wa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:wa(e)}function ya(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const X_=Symbol.for("v-scx"),ep=()=>sn(X_);function nt(t,e,s){return Ea(t,e,s)}function Ea(t,e,s=ie){const{immediate:n,deep:i,flush:r,once:o}=s,c=Ie({},s),a=e&&n||!e&&r!=="post";let u;if(ln){if(r==="sync"){const w=ep();u=w.__watcherHandles||(w.__watcherHandles=[])}else if(!a){const w=()=>{};return w.stop=lt,w.resume=lt,w.pause=lt,w}}const l=Pe;c.call=(w,p,S)=>dt(w,l,p,S);let f=!1;r==="post"?c.scheduler=w=>{Le(w,l&&l.suspense)}:r!=="sync"&&(f=!0,c.scheduler=(w,p)=>{p?w():Or(w)}),c.augmentJob=w=>{e&&(w.flags|=4),f&&(w.flags|=2,l&&(w.id=l.uid,w.i=l))};const _=a_(t,e,c);return ln&&(u?u.push(_):a&&_()),_}function tp(t,e,s){const n=this.proxy,i=de(t)?t.includes(".")?Sa(n,t):()=>n[t]:t.bind(n,n);let r;j(e)?r=e:(r=e.handler,s=e);const o=an(this),c=Ea(i,r.bind(n),s);return o(),c}function Sa(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const sp=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Nt(e)}Modifiers`]||t[`${Ut(e)}Modifiers`];function np(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ie;let i=s;const r=e.startsWith("update:"),o=r&&sp(n,e.slice(7));o&&(o.trim&&(i=s.map(l=>de(l)?l.trim():l)),o.number&&(i=s.map(fr)));let c,a=n[c=ur(e)]||n[c=ur(Nt(e))];!a&&r&&(a=n[c=ur(Ut(e))]),a&&dt(a,t,6,i);const u=n[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,dt(u,t,6,i)}}const ip=new WeakMap;function va(t,e,s=!1){const n=s?ip:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},c=!1;if(!j(t)){const a=u=>{const l=va(u,e,!0);l&&(c=!0,Ie(o,l))};!s&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!c?(ce(t)&&n.set(t,null),null):(q(r)?r.forEach(a=>o[a]=null):Ie(o,r),ce(t)&&n.set(t,o),o)}function di(t,e){return!t||!qn(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Ut(e))||te(t,e))}function lT(){}function Ta(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:c,emit:a,render:u,renderCache:l,props:f,data:_,setupState:w,ctx:p,inheritAttrs:S}=t,y=oi(t);let O,I;try{if(s.shapeFlag&4){const k=i||n,F=k;O=_t(u.call(F,k,l,f,w,_,p)),I=c}else{const k=e;O=_t(k.length>1?k(f,{attrs:c,slots:o,emit:a}):k(f,null)),I=e.props?c:rp(c)}}catch(k){nn.length=0,ii(k,t,1),O=Ce(Bt)}let P=O;if(I&&S!==!1){const k=Object.keys(I),{shapeFlag:F}=P;k.length&&F&7&&(r&&k.some(cr)&&(I=op(I,r)),P=Ss(P,I,!1,!0))}return s.dirs&&(P=Ss(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(s.dirs):s.dirs),s.transition&&Rr(P,s.transition),O=P,oi(y),O}const rp=t=>{let e;for(const s in t)(s==="class"||s==="style"||qn(s))&&((e||(e={}))[s]=t[s]);return e},op=(t,e)=>{const s={};for(const n in t)(!cr(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function cp(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:c,patchFlag:a}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?Ca(n,o,u):!!o;if(a&8){const l=e.dynamicProps;for(let f=0;f<l.length;f++){const _=l[f];if(o[_]!==n[_]&&!di(u,_))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:n===o?!1:n?o?Ca(n,o,u):!0:!!o;return!1}function Ca(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!di(s,r))return!0}return!1}function ap({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Aa=t=>t.__isSuspense;function lp(t,e){e&&e.pendingBranch?q(t)?e.effects.push(...t):e.effects.push(t):p_(t)}const pe=Symbol.for("v-fgt"),hi=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),_i=Symbol.for("v-stc"),nn=[];let We=null;function V(t=!1){nn.push(We=t?null:[])}function up(){nn.pop(),We=nn[nn.length-1]||null}let rn=1;function Oa(t,e=!1){rn+=t,t<0&&We&&e&&(We.hasOnce=!0)}function xa(t){return t.dynamicChildren=rn>0?We||ms:null,up(),rn>0&&We&&We.push(t),t}function Y(t,e,s,n,i,r){return xa(g(t,e,s,n,i,r,!0))}function on(t,e,s,n,i){return xa(Ce(t,e,s,n,i,!0))}function Ra(t){return t?t.__v_isVNode===!0:!1}function cn(t,e){return t.type===e.type&&t.key===e.key}const Ia=({key:t})=>t??null,pi=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||ue(t)||j(t)?{i:Ye,r:t,k:e,f:!!s}:t:null);function g(t,e=null,s=null,n=0,i=null,r=t===pe?0:1,o=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ia(e),ref:e&&pi(e),scopeId:zc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ye};return c?(qr(a,s),r&128&&t.normalize(a)):s&&(a.shapeFlag|=de(s)?8:16),rn>0&&!o&&We&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&We.push(a),a}const Ce=fp;function fp(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===$_)&&(t=Bt),Ra(t)){const c=Ss(t,e,!0);return s&&qr(c,s),rn>0&&!r&&We&&(c.shapeFlag&6?We[We.indexOf(t)]=c:We.push(c)),c.patchFlag=-2,c}if(Tp(t)&&(t=t.__vccOpts),e){e=dp(e);let{class:c,style:a}=e;c&&!de(c)&&(e.class=Yt(c)),ce(a)&&(Tr(a)&&!q(a)&&(a=Ie({},a)),e.style=dr(a))}const o=de(t)?1:Aa(t)?128:g_(t)?64:ce(t)?4:j(t)?2:0;return g(t,e,s,n,i,o,r,!0)}function dp(t){return t?Tr(t)||da(t)?Ie({},t):t:null}function Ss(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:c,transition:a}=t,u=e?hp(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ia(u),ref:e&&e.ref?s&&r?q(r)?r.concat(pi(e)):[r,pi(e)]:pi(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&n&&Rr(l,a.clone(l)),l}function ka(t=" ",e=0){return Ce(hi,null,t,e)}function Mr(t,e){const s=Ce(_i,null,t);return s.staticCount=e,s}function Ae(t="",e=!1){return e?(V(),on(Bt,null,t)):Ce(Bt,null,t)}function _t(t){return t==null||typeof t=="boolean"?Ce(Bt):q(t)?Ce(pe,null,t.slice()):Ra(t)?Ht(t):Ce(hi,null,String(t))}function Ht(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function qr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(q(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),qr(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!da(e)?e._ctx=Ye:i===3&&Ye&&(Ye.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else j(e)?(e={default:e,_ctx:Ye},s=32):(e=String(e),n&64?(s=16,e=[ka(e)]):s=8);t.children=e,t.shapeFlag|=s}function hp(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=Yt([e.class,n.class]));else if(i==="style")e.style=dr([e.style,n.style]);else if(qn(i)){const r=e[i],o=n[i];o&&r!==o&&!(q(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function pt(t,e,s,n=null){dt(t,e,7,[s,n])}const _p=la();let pp=0;function mp(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||_p,r={uid:pp++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_a(n,i),emitsOptions:va(n,i),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:n.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=np.bind(null,r),t.ce&&t.ce(r),r}let Pe=null;const mi=()=>Pe||Ye;let gi,jr;{const t=zn(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};gi=e("__VUE_INSTANCE_SETTERS__",s=>Pe=s),jr=e("__VUE_SSR_SETTERS__",s=>ln=s)}const an=t=>{const e=Pe;return gi(t),t.scope.on(),()=>{t.scope.off(),gi(e)}},$a=()=>{Pe&&Pe.scope.off(),gi(null)};function La(t){return t.vnode.shapeFlag&4}let ln=!1;function gp(t,e=!1,s=!1){e&&jr(e);const{props:n,children:i}=t.vnode,r=La(t);H_(t,n,r,e),Q_(t,i,s||e);const o=r?bp(t,e):void 0;return e&&jr(!1),o}function bp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,L_);const{setup:n}=s;if(n){ut();const i=t.setupContext=n.length>1?yp(t):null,r=an(t),o=ws(n,t,0,[t.props,i]),c=rc(o);if(ft(),r(),(c||t.sp)&&!Js(t)&&Zc(t),c){if(o.then($a,$a),e)return o.then(a=>{Pa(t,a)}).catch(a=>{ii(a,t,0)});t.asyncDep=o}else Pa(t,o)}else Na(t)}function Pa(t,e,s){j(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=Uc(e)),Na(t)}function Na(t,e,s){const n=t.type;t.render||(t.render=n.render||lt);{const i=an(t);ut();try{P_(t)}finally{ft(),i()}}}const wp={get(t,e){return ve(t,"get",""),t[e]}};function yp(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,wp),slots:t.slots,emit:t.emit,expose:e}}function bi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Uc(Cr(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in en)return en[s](t)},has(e,s){return s in e||s in en}})):t.proxy}const Ep=/(?:^|[-_])\w/g,Sp=t=>t.replace(Ep,e=>e.toUpperCase()).replace(/[-_]/g,"");function vp(t,e=!0){return j(t)?t.displayName||t.name:t.name||e&&t.__name}function Ua(t,e,s=!1){let n=vp(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&t&&t.parent){const i=r=>{for(const o in r)if(r[o]===e)return o};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?Sp(n):s?"App":"Anonymous"}function Tp(t){return j(t)&&"__vccOpts"in t}const mt=(t,e)=>o_(t,e,ln),Cp="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Br;const Da=typeof window<"u"&&window.trustedTypes;if(Da)try{Br=Da.createPolicy("vue",{createHTML:t=>t})}catch{}const Fa=Br?t=>Br.createHTML(t):t=>t,Ap="http://www.w3.org/2000/svg",Op="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,Ma=Ot&&Ot.createElement("template"),xp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?Ot.createElementNS(Ap,t):e==="mathml"?Ot.createElementNS(Op,t):s?Ot.createElement(t,{is:s}):Ot.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ot.createTextNode(t),createComment:t=>Ot.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ot.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Ma.innerHTML=Fa(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const c=Ma.content;if(n==="svg"||n==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}e.insertBefore(c,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Rp=Symbol("_vtc");function Ip(t,e,s){const n=t[Rp];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const wi=Symbol("_vod"),qa=Symbol("_vsh"),ns={name:"show",beforeMount(t,{value:e},{transition:s}){t[wi]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):un(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),un(t,!0),n.enter(t)):n.leave(t,()=>{un(t,!1)}):un(t,e))},beforeUnmount(t,{value:e}){un(t,e)}};function un(t,e){t.style.display=e?t[wi]:"none",t[qa]=!e}const kp=Symbol(""),$p=/(?:^|;)\s*display\s*:/;function Lp(t,e,s){const n=t.style,i=de(s);let r=!1;if(s&&!i){if(e)if(de(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();s[c]==null&&yi(n,c,"")}else for(const o in e)s[o]==null&&yi(n,o,"");for(const o in s)o==="display"&&(r=!0),yi(n,o,s[o])}else if(i){if(e!==s){const o=n[kp];o&&(s+=";"+o),n.cssText=s,r=$p.test(s)}}else e&&t.removeAttribute("style");wi in t&&(t[wi]=r?n.display:"",t[qa]&&(n.display="none"))}const ja=/\s*!important$/;function yi(t,e,s){if(q(s))s.forEach(n=>yi(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Pp(t,e);ja.test(s)?t.setProperty(Ut(n),s.replace(ja,""),"important"):t[n]=s}}const Ba=["Webkit","Moz","ms"],Hr={};function Pp(t,e){const s=Hr[e];if(s)return s;let n=Nt(e);if(n!=="filter"&&n in t)return Hr[e]=n;n=ac(n);for(let i=0;i<Ba.length;i++){const r=Ba[i]+n;if(r in t)return Hr[e]=r}return e}const Ha="http://www.w3.org/1999/xlink";function za(t,e,s,n,i,r=Ih(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ha,e.slice(6,e.length)):t.setAttributeNS(Ha,e,s):s==null||r&&!fc(s)?t.removeAttribute(e):t.setAttribute(e,r?"":Pt(s)?String(s):s)}function Va(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Fa(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?t.type==="checkbox"?"on":"":String(s);(c!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=fc(s):s==null&&c==="string"?(s="",o=!0):c==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function vs(t,e,s,n){t.addEventListener(e,s,n)}function Np(t,e,s,n){t.removeEventListener(e,s,n)}const Wa=Symbol("_vei");function Up(t,e,s,n,i=null){const r=t[Wa]||(t[Wa]={}),o=r[e];if(n&&o)o.value=n;else{const[c,a]=Dp(e);if(n){const u=r[e]=qp(n,i);vs(t,c,u,a)}else o&&(Np(t,c,o,a),r[e]=void 0)}}const Qa=/(?:Once|Passive|Capture)$/;function Dp(t){let e;if(Qa.test(t)){e={};let n;for(;n=t.match(Qa);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ut(t.slice(2)),e]}let zr=0;const Fp=Promise.resolve(),Mp=()=>zr||(Fp.then(()=>zr=0),zr=Date.now());function qp(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;dt(jp(n,s.value),e,5,[n])};return s.value=t,s.attached=Mp(),s}function jp(t,e){if(q(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Ga=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Bp=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?Ip(t,n,o):e==="style"?Lp(t,s,n):qn(e)?cr(e)||Up(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Hp(t,e,n,o))?(Va(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&za(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!de(n))?Va(t,Nt(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),za(t,e,n,o))};function Hp(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ga(e)&&j(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ga(e)&&de(s)?!1:e in t}const Ka=t=>{const e=t.props["onUpdate:modelValue"]||!1;return q(e)?s=>Hn(e,s):e};function zp(t){t.target.composing=!0}function Ya(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vr=Symbol("_assign"),Vp={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[Vr]=Ka(i);const r=n||i.props&&i.props.type==="number";vs(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;s&&(c=c.trim()),r&&(c=fr(c)),t[Vr](c)}),s&&vs(t,"change",()=>{t.value=t.value.trim()}),e||(vs(t,"compositionstart",zp),vs(t,"compositionend",Ya),vs(t,"change",Ya))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(t[Vr]=Ka(o),t.composing)return;const c=(r||t.type==="number")&&!/^0\d/.test(t.value)?fr(t.value):t.value,a=e??"";c!==a&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===a)||(t.value=a))}},Wp=["ctrl","shift","alt","meta"],Qp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Wp.some(s=>t[`${s}Key`]&&!e.includes(s))},Za=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((i,...r)=>{for(let o=0;o<e.length;o++){const c=Qp[e[o]];if(c&&c(i,e))return}return t(i,...r)}))},Gp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kp=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=(i=>{if(!("key"in i))return;const r=Ut(i.key);if(e.some(o=>o===r||Gp[o]===r))return t(i)}))},Yp=Ie({patchProp:Bp},xp);let Ja;function Zp(){return Ja||(Ja=K_(Yp))}const Jp=((...t)=>{const e=Zp().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=em(n);if(!i)return;const r=e._component;!j(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,Xp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Xp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function em(t){return de(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Xa;const Ei=t=>Xa=t,el=Symbol();function Wr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var fn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(fn||(fn={}));function tm(){const t=pc(!0),e=t.run(()=>Te({}));let s=[],n=[];const i=Cr({install(r){Ei(i),i._a=r,r.provide(el,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return i}const tl=()=>{};function sl(t,e,s,n=tl){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),n())};return!s&&_r()&&mc(i),i}function Ts(t,...e){t.slice().forEach(s=>{s(...e)})}const sm=t=>t(),nl=Symbol(),Qr=Symbol();function Gr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],i=t[s];Wr(i)&&Wr(n)&&t.hasOwnProperty(s)&&!ue(n)&&!Ft(n)?t[s]=Gr(i,n):t[s]=n}return t}const nm=Symbol();function im(t){return!Wr(t)||!Object.prototype.hasOwnProperty.call(t,nm)}const{assign:zt}=Object;function rm(t){return!!(ue(t)&&t.effect)}function om(t,e,s,n){const{state:i,actions:r,getters:o}=e,c=s.state.value[t];let a;function u(){c||(s.state.value[t]=i?i():{});const l=t_(s.state.value[t]);return zt(l,r,Object.keys(o||{}).reduce((f,_)=>(f[_]=Cr(mt(()=>{Ei(s);const w=s._s.get(t);return o[_].call(w,w)})),f),{}))}return a=il(t,u,e,s,n,!0),a}function il(t,e,s={},n,i,r){let o;const c=zt({actions:{}},s),a={deep:!0};let u,l,f=[],_=[],w;const p=n.state.value[t];!r&&!p&&(n.state.value[t]={}),Te({});let S;function y(M){let D;u=l=!1,typeof M=="function"?(M(n.state.value[t]),D={type:fn.patchFunction,storeId:t,events:w}):(Gr(n.state.value[t],M),D={type:fn.patchObject,payload:M,storeId:t,events:w});const se=S=Symbol();Xt().then(()=>{S===se&&(u=!0)}),l=!0,Ts(f,D,n.state.value[t])}const O=r?function(){const{state:D}=s,se=D?D():{};this.$patch(ge=>{zt(ge,se)})}:tl;function I(){o.stop(),f=[],_=[],n._s.delete(t)}const P=(M,D="")=>{if(nl in M)return M[Qr]=D,M;const se=function(){Ei(n);const ge=Array.from(arguments),De=[],He=[];function Qe(W){De.push(W)}function ps(W){He.push(W)}Ts(_,{args:ge,name:se[Qr],store:F,after:Qe,onError:ps});let ee;try{ee=M.apply(this&&this.$id===t?this:F,ge)}catch(W){throw Ts(He,W),W}return ee instanceof Promise?ee.then(W=>(Ts(De,W),W)).catch(W=>(Ts(He,W),Promise.reject(W))):(Ts(De,ee),ee)};return se[nl]=!0,se[Qr]=D,se},k={_p:n,$id:t,$onAction:sl.bind(null,_),$patch:y,$reset:O,$subscribe(M,D={}){const se=sl(f,M,D.detached,()=>ge()),ge=o.run(()=>nt(()=>n.state.value[t],De=>{(D.flush==="sync"?l:u)&&M({storeId:t,type:fn.direct,events:w},De)},zt({},a,D)));return se},$dispose:I},F=Zn(k);n._s.set(t,F);const Q=(n._a&&n._a.runWithContext||sm)(()=>n._e.run(()=>(o=pc()).run(()=>e({action:P}))));for(const M in Q){const D=Q[M];if(ue(D)&&!rm(D)||Ft(D))r||(p&&im(D)&&(ue(D)?D.value=p[M]:Gr(D,p[M])),n.state.value[t][M]=D);else if(typeof D=="function"){const se=P(D,M);Q[M]=se,c.actions[M]=D}}return zt(F,Q),zt(K(F),Q),Object.defineProperty(F,"$state",{get:()=>n.state.value[t],set:M=>{y(D=>{zt(D,M)})}}),n._p.forEach(M=>{zt(F,o.run(()=>M({store:F,app:n._a,pinia:n,options:c})))}),p&&r&&s.hydrate&&s.hydrate(F.$state,p),u=!0,l=!0,F}/*! #__NO_SIDE_EFFECTS__ */function rl(t,e,s){let n;const i=typeof e=="function";n=i?s:e;function r(o,c){const a=B_();return o=o||(a?sn(el,null):null),o&&Ei(o),o=Xa,o._s.has(t)||(i?il(t,e,n,o):om(t,n,o)),o._s.get(t)}return r.$id=t,r}function ol(t,e){return _r()?(mc(t,e),!0):!1}const cl=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cm=Object.prototype.toString,am=t=>cm.call(t)==="[object Object]",is=()=>{},lm=um();function um(){var t,e,s;return cl&&((t=window)===null||t===void 0||(t=t.navigator)===null||t===void 0?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window)===null||e===void 0||(e=e.navigator)===null||e===void 0?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test((s=window)===null||s===void 0?void 0:s.navigator.userAgent))}function al(...t){if(t.length!==1)return i_(...t);const e=t[0];return typeof e=="function"?Jn(e_(()=>({get:e,set:is}))):Te(e)}function Kr(t){return Array.isArray(t)?t:[t]}function fm(t,e,s){return nt(t,e,{...s,immediate:!0})}const dn=cl?window:void 0;function rs(t){var e;const s=Tt(t);return(e=s?.$el)!==null&&e!==void 0?e:s}function Yr(...t){const e=[],s=()=>{e.forEach(c=>c()),e.length=0},n=(c,a,u,l)=>(c.addEventListener(a,u,l),()=>c.removeEventListener(a,u,l)),i=mt(()=>{const c=Kr(Tt(t[0])).filter(a=>a!=null);return c.every(a=>typeof a!="string")?c:void 0}),r=fm(()=>{var c,a;return[(c=(a=i.value)===null||a===void 0?void 0:a.map(u=>rs(u)))!==null&&c!==void 0?c:[dn].filter(u=>u!=null),Kr(Tt(i.value?t[1]:t[0])),Kr(X(i.value?t[2]:t[1])),Tt(i.value?t[3]:t[2])]},([c,a,u,l])=>{if(s(),!c?.length||!a?.length||!u?.length)return;const f=am(l)?{...l}:l;e.push(...c.flatMap(_=>a.flatMap(w=>u.map(p=>n(_,w,p,f)))))},{flush:"post"}),o=()=>{r(),s()};return ol(s),o}let ll=!1;function dm(t,e,s={}){const{window:n=dn,ignore:i=[],capture:r=!0,detectIframe:o=!1,controls:c=!1}=s;if(!n)return c?{stop:is,cancel:is,trigger:is}:is;if(lm&&!ll){ll=!0;const y={passive:!0};Array.from(n.document.body.children).forEach(O=>O.addEventListener("click",is,y)),n.document.documentElement.addEventListener("click",is,y)}let a=!0;const u=y=>Tt(i).some(O=>{if(typeof O=="string")return Array.from(n.document.querySelectorAll(O)).some(I=>I===y.target||y.composedPath().includes(I));{const I=rs(O);return I&&(y.target===I||y.composedPath().includes(I))}});function l(y){const O=Tt(y);return O&&O.$.subTree.shapeFlag===16}function f(y,O){const I=Tt(y),P=I.$.subTree&&I.$.subTree.children;return P==null||!Array.isArray(P)?!1:P.some(k=>k.el===O.target||O.composedPath().includes(k.el))}const _=y=>{const O=rs(t);if(y.target!=null&&!(!(O instanceof Element)&&l(t)&&f(t,y))&&!(!O||O===y.target||y.composedPath().includes(O))){if("detail"in y&&y.detail===0&&(a=!u(y)),!a){a=!0;return}e(y)}};let w=!1;const p=[Yr(n,"click",y=>{w||(w=!0,setTimeout(()=>{w=!1},0),_(y))},{passive:!0,capture:r}),Yr(n,"pointerdown",y=>{const O=rs(t);a=!u(y)&&!!(O&&!y.composedPath().includes(O))},{passive:!0}),o&&Yr(n,"blur",y=>{setTimeout(()=>{var O;const I=rs(t);((O=n.document.activeElement)===null||O===void 0?void 0:O.tagName)==="IFRAME"&&!I?.contains(n.document.activeElement)&&e(y)},0)},{passive:!0})].filter(Boolean),S=()=>p.forEach(y=>y());return c?{stop:S,cancel:()=>{a=!1},trigger:y=>{a=!0,_(y),a=!1}}:S}function hm(){const t=ti(!1),e=mi();return e&&ta(()=>{t.value=!0},e),t}function _m(t){const e=hm();return mt(()=>(e.value,!!t()))}function pm(t,e,s={}){const{window:n=dn,...i}=s;let r;const o=_m(()=>n&&"ResizeObserver"in n),c=()=>{r&&(r.disconnect(),r=void 0)},a=nt(mt(()=>{const l=Tt(t);return Array.isArray(l)?l.map(f=>rs(f)):[rs(l)]}),l=>{if(c(),o.value&&n){r=new ResizeObserver(e);for(const f of l)f&&r.observe(f,i)}},{immediate:!0,flush:"post"}),u=()=>{c(),a()};return ol(u),{isSupported:o,stop:u}}function mm(t=dn,e){t&&typeof t.requestAnimationFrame=="function"?t.requestAnimationFrame(e):e()}function gm(t={}){var e,s;const{window:n=dn}=t,i=al(t?.element),r=al((e=t?.input)!==null&&e!==void 0?e:""),o=(s=t?.styleProp)!==null&&s!==void 0?s:"height",c=ti(1),a=ti(0);function u(){var l;if(!i.value)return;let f="";i.value.style[o]="1px",c.value=(l=i.value)===null||l===void 0?void 0:l.scrollHeight;const _=Tt(t?.styleTarget);_?_.style[o]=`${c.value}px`:f=`${c.value}px`,i.value.style[o]=f}return nt([r,i],()=>Xt(u),{immediate:!0}),nt(c,()=>{var l;return t==null||(l=t.onResize)===null||l===void 0?void 0:l.call(t)}),pm(i,([{contentRect:l}])=>{a.value!==l.width&&mm(n,()=>{a.value=l.width,u()})}),t?.watch&&nt(t.watch,u,{immediate:!0,deep:!0}),{textarea:i,input:r,triggerResize:u}}const Cs=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},bm={},wm={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 200 200",fill:"none"};function ym(t,e){return V(),Y("svg",wm,[...e[0]||(e[0]=[g("path",{d:"M123.669 110.669L169.919 157.002C171.669 158.836 172.586 161.002 172.586 163.669C172.586 166.336 171.669 168.502 169.919 170.252C168.169 172.002 165.919 172.919 163.253 172.919C160.586 172.919 158.419 172.002 156.586 170.252L110.336 124.002",fill:"#8196A1"},null,-1),g("path",{d:"M79.0035 135.247C71.0035 135.247 62.8368 133.497 55.0868 129.831C41.6702 123.414 31.5868 112.164 26.6702 98.164C21.7535 84.164 22.5035 69.0806 28.9202 55.664C35.3368 42.2473 46.5868 32.164 60.5868 27.2473C74.5868 22.3306 89.6702 23.0806 103.087 29.4973C107.837 31.7473 109.837 37.4973 107.587 42.2473C105.337 46.9973 99.5868 49.0806 94.8368 46.7473C86.0868 42.5806 76.1701 41.9973 67.0035 45.2473C57.8368 48.4973 50.4202 55.0806 46.2535 63.914C42.0868 72.7473 41.5035 82.5806 44.7535 91.7473C48.0035 100.914 54.5868 108.331 63.4202 112.497C81.5868 121.164 103.337 113.497 112.003 95.3306C114.253 90.5806 120.003 88.5806 124.753 90.8306C129.503 93.0806 131.587 98.8306 129.253 103.581C119.753 123.497 99.7535 135.164 79.0035 135.164V135.247Z",fill:"#8196A1"},null,-1),g("path",{d:"M141.83 113.414C127.997 67.0804 137.413 76.4971 91.0801 62.6637C88.9967 61.9971 88.9967 59.1637 91.0801 58.4971C137.413 44.6637 127.997 54.0804 141.83 7.74707C142.497 5.66374 145.33 5.66374 145.997 7.74707C159.83 54.0804 150.413 44.6637 196.747 58.4971C198.83 59.1637 198.83 61.9971 196.747 62.6637C150.413 76.4971 159.83 67.0804 145.997 113.414C145.33 115.497 142.497 115.497 141.83 113.414Z",fill:"#8196A1"},null,-1),g("path",{d:"M99.002 188.584C92.502 166.667 96.9186 171.167 75.002 164.584C74.002 164.251 74.002 162.917 75.002 162.584C96.9186 156.084 92.4186 160.501 99.002 138.584C99.3353 137.584 100.669 137.584 101.002 138.584C107.502 160.501 103.085 156.001 125.002 162.584C126.002 162.917 126.002 164.251 125.002 164.584C103.085 171.084 107.585 166.667 101.002 188.584C100.669 189.584 99.3353 189.584 99.002 188.584Z",fill:"#8196A1"},null,-1)])])}const ul=Cs(bm,[["render",ym]]),fl="1.12.6";function Em(){return new AbortController().signal}function Sm(...t){const e=t.length;if(e===0)return Em();if(e===1)return t[0];const s=new AbortController;for(const n of t)if(!(!n||!n.addEventListener)){if(n.aborted)return AbortSignal.abort(n.reason);n.addEventListener("abort",()=>s.abort(n.reason))}return s.signal}const we=Object.freeze({ASK:"ask",SEARCH:"search",RECOMMENDATION:"recommendation",INTERACTIONS:"interactions"}),Ze=Object.freeze({QUESTIONS:"questions",RELATED_QUESTIONS:"related_questions",TRENDING_QUESTIONS:"trending_questions",SEARCH:"search",AUTOCOMPLETE:"autocomplete",SEARCH_AUTOCOMPLETE:"search_autocomplete",MGET:"mget",USER_TO_PRODUCTS:"user_to_products",USER_TO_CATEGORIES:"user_to_categories",USER_TO_ATTRIBUTES:"user_to_attributes",USER_TO_TRENDING:"user_to_trending",USER_TO_HISTORY:"user_to_history",PRODUCT_TO_PRODUCTS:"product_to_products",UPLOAD:"upload"}),hn=Object.freeze(Object.defineProperty({__proto__:null,GROUP:we,NAME:Ze},Symbol.toStringTag,{value:"Module"}));function Zr(t,e){if(!t)return;const s=t.indexOf(e);s>-1&&t.splice(s,1)}function vm(t,e){if(!t)return;const s=t.findIndex(e);s>-1&&t.splice(s,1)}function os(t){return Array.isArray(t)?t:t===void 0?[]:[t]}function Z(t){if(typeof t!="object")return t;const e={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&t[s]!==void 0&&(e[s]=t[s]);return e}function Si(t){return t==null}function Tm(t,e,s){if(t.has(e))return t.get(e);const n=s(e);return t.set(e,n),n}function Vt(t,e,s){s=typeof s=="string"?[s]:s,Object.defineProperties(t,s.reduce((n,i)=>(n[i]={get:()=>{const r=e[i];return typeof r=="function"?r.bind(e):r}},n),{}))}function Cm(t,e,s){s=typeof s=="string"?[s]:s,Object.defineProperties(t,s.reduce((n,i)=>(n[i]={get:()=>e[i],set:r=>{e[i]=r}},n),{}))}function ae(t,e){for(const s in e)e.hasOwnProperty(s)&&Object.defineProperty(t,s,{value:e[s]})}function Am(t,e){const s=Symbol.for(e);Object.defineProperty(t,s,{value:!0}),Object.defineProperty(t,"isTypeOf",{value:n=>n&&n instanceof t||typeof n.constructor=="function"&&n.constructor[s]===!0})}function dl(t){return t.replace(/-([a-z])/g,e=>e[1].toUpperCase())}function hl(t){return t.replace(/[-_][a-z]/g,e=>e[1].toUpperCase())}function _l(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Om(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}function xm(t){return t.replaceAll("-","_")}function Rm(t){return t.replace(/[-_]([a-zA-Z])/g,(e,s)=>` ${s}`)}class pl{constructor(e,{duration:s=0,onDuration:n,offDuration:i,state:r}={}){if(typeof e!="function")throw new Error(`Callback must be a function: ${e}`);this._callback=e,Object.defineProperty(this,"durations",{value:Object.freeze({on:n!==void 0?n:s,off:i!==void 0?i:s})}),this._value=this._state=!!r,this._active=!0}get active(){return this._active}get state(){return this._state}get value(){return this._value}set value(e){if(e=!!e,this._value===e)return;Im(this);const s=this.durations[e?"on":"off"];s?this._timeout=setTimeout(()=>ml(this,e),s):ml(this,e),this._value=e}disconnect(){this._active=!1}}function Im(t){t._timeout&&(clearTimeout(t._timeout),t._timeout=void 0)}function ml(t,e){t._state!==e&&(t._state=e,t._active&&t._callback(e))}function km(t){return typeof t=="string"?document.querySelector(t):t}function Jr(t,e,{root:s=t.ownerDocument}={}){for(;t&&t!==s;t=t.parentElement){const n=e(t);if(n!==void 0)return n}}function $m(t){const{tagName:e}=t;customElements.define(e,t);for(const s of document.querySelectorAll(e))customElements.upgrade(s)}async function vi(t){return new Promise((e,s)=>{window.requestAnimationFrame(async n=>{try{await t(n),e()}catch(i){s(i)}})})}async function Xr(t,{area:e=.5,duration:s=1e3,signal:n}={}){return t=km(t),new Promise((i,r)=>{const o=new pl(a=>{a&&(o.disconnect(),c.disconnect(),i())},{onDuration:s}),c=new IntersectionObserver(a=>{o.value=a[0].isIntersecting},{threshold:e});c.observe(t),n&&n.addEventListener&&n.addEventListener("abort",()=>{o.disconnect(),c.disconnect(),r(new DOMException("Aborted","AbortError"))})})}async function Lm(){document.readyState==="loading"&&await new Promise(t=>{document.addEventListener("DOMContentLoaded",t,{once:!0})})}function it(t){return t=`${t}`,t&&t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function _n(){return Pm()||Nm()||Um()}function Pm(){return crypto&&crypto.randomUUID?crypto.randomUUID():void 0}function Nm(){if(!URL||!URL.createObjectURL||URL.revokeObjectURL||!Blob)return;const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substring(e.lastIndexOf("/")+1)}function Um(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}function Dm(t,e){const s=Ti(()=>window.localStorage.getItem(t)),n=Ti(()=>Fm(t)),i=s||n||`${e()}`;return i&&!s&&Ti(()=>window.localStorage.setItem(t,i)),i&&!n&&Ti(()=>Mm(t,i)),i}function Fm(t){const e=`; ${document.cookie}`,s=`; ${encodeURIComponent(t)}=`,n=e.indexOf(s);if(n<0)return;const i=n+s.length,r=e.indexOf(";",i);return decodeURIComponent(r<0?e.substring(i):e.substring(i,r))}function Mm(t,e){document.cookie=`${encodeURIComponent(t)}=${encodeURIComponent(e)}; max-age=31536000; path=/`}function Ti(t){try{return t()}catch(e){if(!qm(e))throw e}}function qm(t){return t.name==="SecurityError"}function jm(t,e,s){return t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(e)+"="+encodeURIComponent(`${s}`)}function Ci(t){return new Bm(t)}class Bm{constructor(e){this._value=e;const s=n=>{this._value=n};ae(this,{set:s,args:(...n)=>s(n),t:()=>s(!0),f:()=>s(!1),merge:n=>s({...this._value,...n})})}get value(){return this._value}}class xt{constructor(){const e=this;e.promise=new Promise((s,n)=>{e.resolve=s,e.reject=n}),Object.freeze(this)}}class Hm{constructor(){this._index=-1,this._done=!1,this._aborted=!1,this._abortReason=void 0,this._error=void 0}get aborted(){return this._aborted}get abortReason(){return this._abortReason}get done(){return this._done}update(e,s=!1){this._done||(this._value=e,this._done=s,this._index++,this._resolution&&(this._resolution.resolve(),this._resolution=void 0))}error(e){this._error=e,this._resolution&&(this._resolution.reject(e),this._resolution=void 0)}abort(e){this._aborted=!0,this._abortReason=e,this._resolution&&(e instanceof Error?this._resolution.reject(e):this._resolution.resolve(),this._resolution=void 0)}async*[Symbol.asyncIterator](){let e=0;for(;;){if(this._error)throw this._error;if(this._aborted||(e>this._index&&(this._resolution||(this._resolution=new xt),await this._resolution.promise),this._aborted))break;const s=this._done,n=this._index+1;if(yield this._value,this._aborted||s)break;e=n}}}function zm(t,{interval:e=1e3,errorLimit:s=10,onError:n,onResponse:i,signal:r}={}){if(r&&r.aborted)return[];let o=0,c,a=!1,u;function l(){c&&clearInterval(c),a=!0}const f=new Hm;return c=setInterval(async()=>{let _,w,p;try{if([_,w,p]=await t(r?{signal:r}:{}),a||!Si(u)&&p<=u)return;Si(p)||(u=p),i&&i(_,w,p),o=0}catch(S){n&&n(S),o++,o>s&&(l(),f.error(S));return}f.update(_,w),w&&l()},e),r&&r.addEventListener&&r.addEventListener("abort",()=>{l(),f.abort(r.reason)}),f}function Vm(t,{onError:e=n=>console.error(n),transform:s=n=>n}={}){try{s(t)()}catch(n){e(n)}}function gl(t,e){const s=window[t]||(window[t]=[]);if(s._processed)return;s._processed=!0;const n=i=>Vm(i,e);Object.defineProperty(s,"push",{value:n});for(const i of s)n(i)}const Wm="1.12.6";let Qm;try{Qm=document.currentScript}catch{}async function bl(t){try{let e=Gm(t);return e||(e=document.createElement("link"),e.rel="stylesheet",e.href=t,document.head.appendChild(e)),Km(e)}catch(e){console.error(e)}}function wl(t){return`https://cdn.jsdelivr.net/npm/@miso.ai/client-sdk@${Wm}/dist/css/${t}.css`}function Gm(t){return document.head.querySelector(`link[href="${t}"]`)}async function Km(t){await Ym(t),await Zm(t)}async function Ym(t){if(!t.sheet)return new Promise((e,s)=>{let n;t.onerror=()=>{n&&clearInterval(n),s()},n=setInterval(()=>{t.sheet&&(n&&clearInterval(n),e())},100)})}async function Zm(t){if(!yl(t))return new Promise(e=>{let s;s=setInterval(()=>{yl(t)&&(s&&clearInterval(s),e())},100)})}function yl(t){for(const e of document.styleSheets)if(e.ownerNode===t)return!0;return!1}function El(t){let e;return s=>{e&&clearTimeout(e),e=setTimeout(()=>{e=void 0,s()},t)}}function Sl(t,{depth:e=5,...s}={}){return eo(t,e)}function eo(t,e,s){if(e<=0)return"(...)";switch(typeof t){case"object":if(t)return t.length!==void 0?Array.prototype.map.call(t,n=>eo(n,e-1)):t instanceof Node?Xm(t):Jm(t,e);default:return t}}function Jm(t,e,s){const n={};if(e<=0)return n;for(const i in t){const r=t[i];typeof r!="function"&&(i.startsWith("_")&&typeof r=="object"&&r.constructor.name!=="Object"||(n[i]=eo(r,e-1)))}return n}function Xm(t){return t instanceof Element?`<${t.tagName.toLowerCase()}${t.id?` id="${t.id}"`:""}${t.className?` class="${t.className}"`:""}>`:`[TextNode](${t.length})`}function pn(t,e){const s=Object.getOwnPropertyDescriptors(e),n=Object.getOwnPropertyDescriptors(t);for(const[i,r]of Object.entries(s))i!=="constructor"&&n[i]===void 0&&Object.defineProperty(t,i,r)}function Ai(t){const e={},s=new Set;for(let n=t;n!==Object.prototype;n=Object.getPrototypeOf(n)){const i=Object.getOwnPropertyDescriptors(n);for(const r in i){if(r==="constructor"||r.startsWith("_")||s.has(r))continue;s.add(r);const{value:o}=i[r];o&&(e[r]=typeof o=="function"?o.bind(t):o)}}return Object.freeze(e)}function Oi(t={},e={}){const s=t.metadata||e.metadata?Z({...t.metadata,...e.metadata}):void 0,n=t._meta||e._meta?Z({...t._meta,...e._meta}):void 0;return Z({...t,...e,metadata:s,_meta:n})}function Je(t={},e={}){const s=t.context&&t.context.custom_context||e.context&&e.context.custom_context?Z({...t.context&&t.context.custom_context,...e.context&&e.context.custom_context}):void 0,n=t.context||e.context?Z({...t.context,...e.context,custom_context:s}):void 0;return Z({...t,...e,context:n})}const e1=100,t1=4;function s1(t){const e=n1(t);return(s,n,i,r)=>{const o=e(i,n);return s+Math.max(r-i,0)*o/1e3}}function n1({speed:t=e1,acceleration:e=t1}={}){if(typeof t=="function")return t;if(typeof t!="number")throw new Error(`Invalid speed: ${t}`);if(typeof e!="number")throw new Error(`Invalid acceleration: ${e}`);return(s,n)=>{let i=t*(Math.random()+.5);return e>0&&n!==void 0&&s>n&&(i*=1+(s-n)*e/1e3),i}}const to=Symbol.for("miso:resources");class i1{constructor(){this._resources=new Map;const e=window[to]||[];for(const s of e)try{const[n,i]=s;this.push([n,i])}catch{}}push([e,s]){vl(this._resources,e).resolve(s)}async get(e){return vl(this._resources,e).promise}}function vl(t,e){if(t.has(e))return t.get(e);const s=new xt;return t.set(e,s),s}function r1(){return window[to]||(window[to]=new i1)}class o1{constructor(e,s){this._dispatchRequested=!1,this._requests=[],this._run=e,this._error=s||(n=>console.error(n)),this._bulkId=0,this._dispatch=this._dispatch.bind(this)}get info(){return{bulkId:this._bulkId,index:this._requests.length}}async run(e){const s=new xt;return this._requests.push({action:e,resolution:s}),this._requestDispatch(),s.promise}_requestDispatch(){this._dispatchRequested||(this._dispatchRequested=!0,setTimeout(this._dispatch))}_dispatch(){if(!this._dispatchRequested)return;this._dispatchRequested=!1;const e=this._requests,s=this._bulkId++;this._requests=[];try{this._run(e,{bulkId:s})}catch(n){this._error(n)}}}class As{constructor({target:e,error:s,replays:n=[]}={}){if(this._error=s||(i=>console.error(i)),!Array.isArray(n))throw new Error(`Replays option must be an array of strings: ${n}`);this._replays=new Set(n),this._namedCallbacks={},this._unnamedCallbacks=[],this._pastEvents={},e&&this._injectSubscribeInterface(e)}emit(e,s){const n={data:s,meta:{name:e,ts:Date.now()}},i=this._namedCallbacks[e];if(i)for(const r of i)r(n);for(const r of this._unnamedCallbacks)r(n);this._shallStoreForReplay(e)&&(this._pastEvents[e]||(this._pastEvents[e]=[])).push(n)}on(e,s){return this._checkName(e),this._checkCallback(s),this._on(e,this._wrapCallback(s))}once(e){this._checkName(e);const s=this;return new Promise((n,i)=>{const r=s._on(e,o=>{setTimeout(()=>r());try{n(o)}catch(c){i(c)}})})}clear(){this._namedCallbacks={},this._unnamedCallbacks=[],this._pastEvents={}}_checkName(e){if(typeof e!="string")throw new Error(`Event name should be a string: ${e}`)}_checkCallback(e){if(typeof e!="function")throw new Error(`Event callback should be a function: ${e}`)}_shallStoreForReplay(e){return this._replays.has(e)}_wrapCallback(e){const s=this;return({data:n,meta:i})=>{try{e(n,i)}catch(r){s._error(r)}}}_on(e,s){if(e==="*"?this._unnamedCallbacks.push(s):(this._namedCallbacks[e]||(this._namedCallbacks[e]=[])).push(s),e==="*")for(const n in this._pastEvents)this._pastEvents[n].forEach(s);else this._pastEvents[e]&&this._pastEvents[e].forEach(s);return()=>this._off(e,s)}_off(e,s){if(e==="*")Zr(this._unnamedCallbacks,s);else{const n=this._namedCallbacks[e];n&&Zr(n,s)}}_injectSubscribeInterface(e){Vt(e,this,["on","once"])}}function c1(t,e){if(t!==void 0&&typeof t!="string"&&e===void 0&&(e=t,t=void 0),t!==void 0&&(typeof t!="string"||!t))throw new Error(`Invalid Component name: "${t}"`);return Object.freeze({name:t,parent:e,path:a1(t,e),uuid:_n()})}function a1(t,e){return Object.freeze([...e&&e.meta&&e.meta.path||[],...t?[t]:[]])}class Me{constructor(e,s){const n=c1(e,s);ae(this,{meta:n});const i=this._error=this._error.bind(this);this._events=new As({target:this,error:i,replays:["child"]}),this._warn=this._warn.bind(this),s=n.parent,s&&s._events&&s._events.emit("child",this)}_warn(...e){const s=this.meta.parent;(s&&s._warn||console.warn)(...e)}_error(...e){const s=this.meta.parent;(s&&s._error||console.error)(...e)}}Am(Me,"miso:component");class Tl extends Me{constructor(e,s,{libName:n,keyName:i}={}){switch(super(e,s),this._events._replays.add("register"),this._libraries={},this._libResolutions={},this._libName=n,typeof i){case"string":this._keyFn=(r=>r[i]);break;case"function":this._keyFn=i;break;default:throw new Error(`Expect keyName to be a string or a function: ${i}`)}}isRegistered(e){return this._checkKey(e),!!this._libraries[e]}get registered(){return Object.values(this._libraries)}async whenRegistered(e){if(this.isRegistered(e))return this._libraries[e];const{promise:s}=this._libResolutions[e]||(this._libResolutions[e]=new xt);return s}register(...e){for(const s of e)this._register(s)}_checkKey(e){if(typeof e!="string"||!e)throw new Error(`Expect key to be a non-empty string: ${e}`)}_checkLib(e){if(typeof e!="function")throw new Error(`Expect lib to be a class or function: ${e}`)}_register(e){this._checkLib(e);const s=this._keyFn(e);this._checkKey(s);const n=this._libraries||(this._libraries={});n[s],n[s]=e,this._libResolutions[s]&&this._libResolutions[s].resolve(e),this._events.emit("register",e)}}class l1{constructor(e,s){this._callback=e,this._options=s||{},s!==!1&&(this._intersection=new IntersectionObserver(this._handleIntersection.bind(this),{threshold:s.area||.5}),this._continuity=new pl(this._handleContinuity.bind(this),{onDuration:s.duration||1e3})),this._displayed=void 0,this._intersecting=!1,this._triggered=new Set}observe(e){this._options!==!1&&this._intersection.observe(e)}unobserve(e){this._options!==!1&&this._intersection.unobserve(e)}display(e){this._options!==!1&&(this._triggered.has(e)&&(e=void 0),this._displayed!==e&&(this._displayed=e,this._continuity.value=!1,this._syncContinuity()))}disconnect(){this._options!==!1&&(this._continuity.disconnect(),this._intersection.disconnect())}get triggeredCount(){return this._triggered.size}get triggered(){return new Set(this._triggered)}_syncContinuity(){this._continuity.value=this._intersecting&&this._displayed!==void 0}_handleIntersection(e){this._intersecting=e[0].isIntersecting,this._syncContinuity()}_handleContinuity(e){const s=this._displayed;if(e&&s!==void 0){if(this._triggered.has(s))return;this._triggered.add(s),this._displayed=void 0,this._callback(s)}}}class u1{constructor(e){this._ac=new AbortController,this._timeout=e,this.touch()}clear(){this._timeoutId!==void 0&&(clearTimeout(this._timeoutId),this._timeoutId=void 0)}touch(){this.clear(),this._timeoutId=setTimeout(()=>this.abort(),this._timeout)}get signal(){return this._ac.signal}abort(e){this.clear(),this._ac.abort(e||new Error(`Stall timeout: data stay unchanged for ${this._timeout/1e3} seconds.`))}}const Cl=Object.freeze({DATA_ENDPOINT:"https://api-edge.askmiso.com/v1",EVENT_ENDPOINT:"https://api.askmiso.com/v1"});class Al{constructor(e,s){this._client=e,this._root=s,this._bulk=new o1(this._runBulkFetch.bind(this),e._error.bind(e))}async fetch(e,s,{method:n="POST",headers:i,timeout:r}={}){const{apiKey:o,request:c={}}=this._client.options;r=r||c.timeout;const a=n!=="GET"&&s!=null?JSON.stringify(s):void 0,u=r?AbortSignal.timeout(r):void 0,l=await(this._root._customFetch||window.fetch)(e,Z({method:n,headers:i,body:a,cache:"no-cache",mode:"cors",signal:u})),f=await l.json();if(l.status>=400||f.errors){var _=new Error(f.message);throw _.data=f,_.status=l.status,_}return f}get bulkInfo(){return this._bulk.info}async fetchForBulk(e,s,n,{method:i}={}){if(i&&i!=="POST")throw new Error(`Non-POST API is not supported in bulk mode: ${url}`);return this._bulk.run({apiGroup:e,apiName:s,payload:n})}async _runBulkFetch(e){const s=this.url(["bulk"]),n={requests:e.map(({action:{apiGroup:r,apiName:o,payload:c}})=>({api_name:`${r}/${o}`,body:c}))},{data:i}=await this.fetch(s,n);for(let r=0,o=e.length;r<o;r++){const{resolution:c}=e[r],{error:a,status_code:u,body:l}=i[r];u>=400||a?c.reject({status_code:u,body:l}):c.resolve(l)}}sendBeacon(e,s,{method:n}={}){if(n&&n!=="POST")throw new Error(`Non-POST API is not supported in useBeacon mode: ${e}`);if(!(this._root._customSendBeacon?this._root._customSendBeacon(e,JSON.stringify(s)):window.navigator.sendBeacon(e,JSON.stringify(s))))throw new Error(`Send beacon unsuccessful: ${e}`)}url(e){const{apiKey:s}=this._client.options,n=e.filter(r=>r).join("/");return`${`${this.getApiEndpoint(n)}/${n}`}?api_key=${window.encodeURIComponent(s)}`}getApiEndpoint(e){const{dataEndpoint:s=Cl.DATA_ENDPOINT,eventEndpoint:n=Cl.EVENT_ENDPOINT}=this._client.options;return e==="interactions"?n:s}applyUrlPasses(e,{apiGroup:s,apiName:n,url:i}){const r=this._client;for(const o of this._root._urlPasses)try{i=o({client:r,apiGroup:s,apiName:n,url:i})||i}catch(c){(e._error||console.error)(c)}return i}applyPayloadPasses(e,{apiGroup:s,apiName:n,payload:i}){const r=this._client;for(const o of this._root._payloadPasses)try{i=o({client:r,apiGroup:s,apiName:n,payload:i})||i}catch(c){(e._error||console.error)(c)}return i}applyHeaderPasses(e,{apiGroup:s,apiName:n,payload:i,headers:r,options:o}){const c=this._client;for(const a of this._root._headersPasses)try{r=a({client:c,apiGroup:s,apiName:n,payload:i,headers:r,options:o})||r}catch(u){(e._error||console.error)(u)}return r}}class mn extends Me{constructor(e,s){super(s,e),this._apiPath=s,this.helpers=e.helpers,this.clientOptions=e._client.options,this.context=e._client.context}async _run(e,s,n={}){const{bulk:i}=n,r=i?{bulk:this.helpers.bulkInfo}:void 0,o=this._apiPath,c=this._url({apiGroup:o,apiName:e,payload:s,options:n}),a=this._headers({apiGroup:o,apiName:e,payload:s,options:n});s=this._preprocess({apiGroup:o,apiName:e,payload:s,options:n});const u={apiGroup:o,apiName:e,payload:s,url:c,headers:a,options:n};this._events.emit("request",{...u,...r});const l=await this._send(u),f={...u,response:l};return this._events.emit("response",{...f,...r}),this._postprocess(f)}_headers({apiGroup:e,apiName:s,payload:n,options:i}){return this.helpers.applyHeaderPasses(this,{apiGroup:e,apiName:s,payload:n,headers:{},options:i})}_preprocess({apiGroup:e,apiName:s,payload:n,options:i}){return this.helpers.applyPayloadPasses(this,{apiGroup:e,apiName:s,payload:n,options:i})}_url({apiGroup:e,apiName:s,options:n}){const i=this.helpers.url([e,s],n);return this.helpers.applyUrlPasses(this,{apiGroup:e,apiName:s,url:i,options:n})}async _send({apiGroup:e,apiName:s,url:n,headers:i,payload:r,options:{bulk:o,...c}={}}){return o?this.helpers.fetchForBulk(e,s,r):this.helpers.fetch(n,r,{...c,headers:i})}_postprocess({response:e}){return e.data}}const{GROUP:f1,NAME:Ol}=hn;class xl extends mn{constructor(e){super(e,f1.INTERACTIONS)}async upload(e,s){try{return await this._run(Ol.UPLOAD,e,s)}catch(n){if(n.status===400&&n.message&&n.message.toLowerCase().indexOf("playground")>-1)this._warn("Ignore interactions uploaded to playground app.");else throw n}}_url({apiGroup:e,apiName:s,options:n}){const i=this.helpers.url([this._apiPath],n);return this.helpers.applyUrlPasses(this,{apiGroup:e,apiName:s,url:i,options:n})}_preprocess({apiGroup:e,apiName:s,payload:n}){return s===Ol.UPLOAD&&(n=this._normalizeUploadPayload(n)),super._preprocess({apiGroup:e,apiName:s,payload:n})}_normalizeUploadPayload(e){if(typeof e!="object")throw new Error(`Interactions payload has to be either an object or an array of objects: ${e}`);return Array.isArray(e)||(e=[e]),{data:e}}async _send({options:{useBeacon:e=!0,...s}={},...n}){if(e){const{url:i,payload:r}=n;return this.helpers.sendBeacon(i,r,s),{}}else return super._send({...n,options:s})}}class d1{constructor(e={}){this._ac=new AbortController,this._options=e}async get(e){return this._get({...this._options,...e})}_get(e){throw new Error("Not implemented")}abort(e){this._ac.abort(e)}[Symbol.asyncIterator](){const e=async({signal:u}={})=>{const l=await this.get();return[l,this._isFinished(l),this._revisionOf(l)]};let{pollingInterval:s,signal:n,stallTimeout:i=12e4,...r}=this._options;const o=new u1(i);n=Sm(this._ac.signal,o.signal,n);let c;return zm(e,{interval:s,signal:n,onResponse:(u,l)=>{l?o.clear():this._isUpdated(c,u)&&o.touch(),c=u},...r})[Symbol.asyncIterator]()}_isFinished(e){return!!(e&&e.finished)}_isUpdated(e,s){return!e||e.answer_stage!==s.answer_stage||xi(e.answer)!==xi(s.answer)||xi(e.reasoning)!==xi(s.reasoning)}_revisionOf(e){return e&&e.revision}}class Rl extends d1{constructor(e,s,n,i){super(i),this._api=e,this._method=s,this._id=n}async _get(e){return this._api[this._method](this._id,e)}}function xi(t=""){return t.length}const{GROUP:h1,NAME:Rt}=hn;let Il=class extends mn{constructor(e){super(e,h1.ASK)}async questions(e,s={}){if(Ll(e)&&(e={question_id:e}),e.question_id)return new kl(this,e,s);const n=await this._run(Rt.QUESTIONS,e,s);return new kl(this,n,s)}async _questions(e,s){return this._run(Rt.QUESTIONS,e,s)}async _questionGet(e,s){return this._run(`${Rt.QUESTIONS}/${e}/answer`,void 0,{...s,method:"GET"})}async relatedQuestions(e,s={}){return this._run(Rt.RELATED_QUESTIONS,e,s)}async trendingQuestions(e,s={}){return this._run(Rt.TRENDING_QUESTIONS,e,s)}async search(e,s={}){if(Ll(e)&&(e={question_id:e}),e.question_id)return new $l(this,e,s);const n=await this._run(Rt.SEARCH,e,s);return n.question_id?new $l(this,n,s):n}async _searchGet(e,s){return this._run(`${Rt.QUESTIONS}/${e}/answer`,void 0,{...s,method:"GET"})}async autocomplete(e,s){return this._run(Rt.AUTOCOMPLETE,e,s)}async searchAutocomplete(e,s){return this._run(Rt.SEARCH_AUTOCOMPLETE,e,s)}};class kl extends Rl{constructor(e,s,n={}){super(e,"_questionGet",s.question_id,n),this._response=s}get questionId(){return this._id}}class $l extends Rl{constructor(e,s,n={}){super(e,"_searchGet",s.question_id,n),ae(this,s),this._response=s}get questionId(){return this._id}}function Ll(t){return typeof t=="string"&&t.charAt(0)!=="{"}const{GROUP:_1,NAME:so}=hn;let Pl=class extends mn{constructor(e){super(e,_1.SEARCH)}async search(e,s){return this._run(so.SEARCH,e,s)}async autocomplete(e,s){return this._run(so.AUTOCOMPLETE,e,s)}async multipleGet(e,s){return this._run(so.MGET,e,s)}};const{GROUP:p1,NAME:Os}=hn;let Nl=class extends mn{constructor(e){super(e,p1.RECOMMENDATION)}async userToProducts(e,s){return this._run(Os.USER_TO_PRODUCTS,e,s)}async userToCategories(e,s){return this._run(Os.USER_TO_CATEGORIES,e,s)}async userToAttributes(e,s){return this._run(Os.USER_TO_ATTRIBUTES,e,s)}async userToTrending(e,s){return this._run(Os.USER_TO_TRENDING,e,s)}async userToHistory(e,s){return this._run(Os.USER_TO_HISTORY,e,s)}async productToProducts(e,s){return this._run(Os.PRODUCT_TO_PRODUCTS,e,s)}};class Ul extends Me{constructor(e,s){super("api",e),this._client=e,this.helpers=new Al(e,s),this.interactions=new xl(this),this.ask=new Il(this),this.search=new Pl(this),this.recommendation=new Nl(this)}}const m1=Object.freeze(Object.defineProperty({__proto__:null,Api:Ul,ApiBase:mn,ApiHelpers:Al,Ask:Il,Interactions:xl,Recommendation:Nl,Search:Pl},Symbol.toStringTag,{value:"Module"}));let Dl=class extends Me{constructor(e){super("context",e),this._client=e}};const g1={api:m1,context:{Context:Dl}};class b1{constructor(e){ae(this,{install:e})}}function w1(t,e,s){const n=t.slice(4);if(e==="dev"){const i=s.src,r=i.indexOf("?"),o=r<0?i.length:r,c=i.lastIndexOf("/",o)+1,a=i.indexOf(".",c),u=a<0?"":i.slice(a,o);return`${i.slice(0,c)}plugins/${n}${u}`}else return`https://cdn.jsdelivr.net/npm/@miso.ai/client-sdk@${e}/dist/umd/plugins/${n}.min.js`}class y1 extends Tl{constructor(e){super("plugins",e,{libName:"plugin class",keyName:"id"}),this._root=e,this._currentScript=document.currentScript,this._events._replays.add("install").add("subtree"),this._installed={},this._installedResolutions={},this._useRequests={},this._subtrees=[],this.context=new E1(this,g1),this.plugins=new S1(this)}isInstalled(e){return this._checkKey(e),!!this._installed[e]}get installed(){return Object.values(this._installed)}get(e){return this._installed[e]}getPluginClass(e){return this._libraries[e]}use(e,s){if(typeof e=="function"&&e.id&&typeof e.id=="string"){this.register(e),this.use(e.id,s);return}let n;if(typeof e=="string"&&this.isInstalled(e)){n=this.get(e),this._tryConfig(n,s);return}if(typeof e=="string"&&!this.isRegistered(e)){(this._useRequests[e]||(this._useRequests[e]=[])).push(s);return}n=this._instantiate(e,s),this._install(n)}async install(e,s){return this.use(e,s),typeof e=="string"&&!this.isRegistered(e)&&await this._tryRegisterRemotely(e),this.whenInstalled(e)}async whenInstalled(e){if(typeof e=="function"&&e.id&&typeof e.id=="string"&&(e=e.id),this.isInstalled(e))return this.get(e);const{promise:s}=this._installedResolutions[e]||(this._installedResolutions[e]=new xt);return s}addSubtree(e){this._subtrees.push(e),this._events.emit("subtree",e)}addPayloadPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._payloadPasses.push(e)}addHeadersPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._headersPasses.push(e)}addUrlPass(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._urlPasses.push(e)}setCustomFetch(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._customFetch=e}setCustomSendBeacon(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._customSendBeacon=e}onHubUpdate(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._hubUpdateCallbacks.push(e)}onHubEmit(e){if(typeof e!="function")throw new Error(`Expect parameter to be a function: ${e}`);this._root._hubEmitCallbacks.push(e)}_tryConfig(e,s){s!==void 0&&(typeof e.config=="function"?(e.config(s),this._events.emit("config",[e,s])):this._warn(`Attempt to pass options to plugin "${e.id}", which offers no config() method.`))}_instantiate(e,s){switch(typeof e){case"string":this._checkKey(e);const n=this._libraries[e];if(!n)throw new Error(`Plugin class not found: ${e}`);const i=new n;return ae(i,{id:e}),this._tryConfig(i,s),i;case"function":return new b1(e)}throw new Error(`Unexpected parameters: ${e}`)}_install(e){if(typeof e.install!="function")throw new Error(`Expect plugin.install to be a function: ${e}`);try{e.installed=!1,e.install(this.MisoClient,this.context),e.installed=!0}catch(s){throw s}e.id&&(this._installed[e.id]=e,this._installedResolutions[e.id]&&(this._installedResolutions[e.id].resolve(e),delete this._installedResolutions[e.id])),this._events.emit("install",e)}_register(e){super._register(e),this._fulfillUseRequests(e.id)}_fulfillUseRequests(e){const s=this._useRequests[e];if(s){for(const n of s)try{this.use(e,n)}catch(i){this._error(i)}delete this._useRequests[e]}}async _tryRegisterRemotely(e){if(e.startsWith("std:"))try{await this._registerStdRemotely(e);return}catch(s){console.error(s)}throw new Error(`Cannot register plugin remotely: ${e}`)}async _registerStdRemotely(e){const{version:s}=this._root,n=s==="dev"?`plugin:${e}@dev:${this.MisoClient.uuid}`:`plugin:${e}@${s}`;if(!document.querySelector(`script[data-request="${n}"]`)){const r=document.createElement("script");r.async=!0,r.src=w1(e,s,this._currentScript),r.setAttribute("data-request",n),document.head.appendChild(r)}const i=await new r1().get(n);!this.isRegistered(e)&&this.register(i)}}class E1{constructor(e,s){Vt(this,e,["getPluginClass","addSubtree","addPayloadPass","addHeadersPass","addUrlPass","setCustomFetch","setCustomSendBeacon","onHubUpdate","onHubEmit","whenInstalled","whenRegistered"]),ae(this,{classes:s})}}class S1{constructor(e){Vt(this,e,["installed","registered","isInstalled","isRegistered","whenInstalled","whenRegistered","get","register","use","install"])}}class v1 extends Me{constructor(){super(),this._events._replays.add("create"),this._pluginRoot=new y1(this),this._clients=[],this._payloadPasses=[],this._headersPasses=[],this._urlPasses=[],this._customFetch=void 0,this._customSendBeacon=void 0,this._hubUpdateCallbacks=[],this._hubEmitCallbacks=[],this.version=fl,this._cmdRes=new xt}get instances(){return[...this._clients]}async any(){return this._clients[0]||this._any||(this._any=(await this._events.once("create")).data)}get cmdDone(){return this._cmdRes.promise}}const Wt=new v1;function T1(t){const e=Wt._pluginRoot;return Wt.MisoClient=e.MisoClient=t,Vt(t,Wt,["version","instances","any","meta","on","once","cmdDone"]),Vt(t,e,["plugins"]),t}function C1(t){Wt._clients.push(t),Wt._events.emit("create",t)}function A1(){Wt._cmdRes.resolve()}const O1=Object.freeze(Object.defineProperty({__proto__:null,debounce:El,viewable:Xr},Symbol.toStringTag,{value:"Module"})),{currentScript:Fl}=document;let no=class Mn extends Me{static attach(){if((window.MisoClients||(window.MisoClients=[])).push(Mn),window.MisoClient){window.MisoClient!==Mn&&console.warn(`window.MisoClient already exists: (${window.MisoClient.version}).`);return}window.MisoClient=Mn}static debug(){}constructor(e){super("client",Wt),this._config(e),this.context=new Dl(this),this.api=new Ul(this,Wt),C1(this)}get version(){return Mn.version}_config(e){this.options=Object.freeze(this._normalizeOptions(e))}_normalizeOptions(e={}){if(typeof e=="string"&&(e={apiKey:e}),e.readConfigFromScriptUrl&&(e={...this._readConfigFromScriptUrl(),...e}),!e.apiKey)throw new Error("Require API key to initialize miso client.");return e.request&&e.request.sendApiKeyByHeader&&console.warn('`sendApiKeyByHeader` option is deprecated. Please call `MisoClient.plugins.use("std:header-api-key");` instead.'),e.dataEndpoint=e.dataEndpoint||e.apiHost,e.eventEndpoint=e.eventEndpoint||e.apiHost,delete e.apiHost,Z(e)}_readConfigFromScriptUrl(){const e=Fl.src||Fl.href,s=new URL(new Request(e).url).searchParams;return Z({apiKey:s.get("api_key")||void 0})}};no.helpers=O1,ae(no,{uuid:_n()});const It=T1(no),{GROUP:x1,NAME:R1}=hn,I1="std:context";class k1 extends Me{static get id(){return I1}constructor(){super("context")}install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this)),s.addHeadersPass(this._modifyHeaders.bind(this)),s.addPayloadPass(this._modifyPayload.bind(this))}_injectClient(e){const s=new L1(this);Cm(e.context,s,["anonymous_id","user_id","user_hash","user_type","site","auth"])}_modifyHeaders({client:e,headers:s}){const{auth:n}=e.context;return n&&(s={...s,Authorization:n}),s}_modifyPayload({client:e,apiGroup:s,apiName:n,payload:i}){if(!i)return i;switch(s){case x1.INTERACTIONS:return n===R1.UPLOAD?this._modifyPayloadForInteractions(e,i):i;default:return this._modifyPayloadForQueries(e,i)}}_modifyPayloadForQueries(e,s){const{user_id:n,user_hash:i,user_type:r,anonymous_id:o,site:c}=e.context;return Oi(s,{...n?{user_id:n,user_type:r,user_hash:i}:{anonymous_id:o},metadata:c?{site:c}:void 0})}_modifyPayloadForInteractions(e,{data:s}){const{anonymous_id:n,user_id:i,site:r}=e.context,o={anonymous_id:n,user_id:i},c=r?{site:r}:void 0,a=c?{custom_context:c}:void 0;return s=s.map(u=>Je(u,{...o,context:a})),{data:s}}}let Ml;function $1(){return Ml||(Ml=Dm("miso_anonymous_id",_n))}class L1{constructor(e){this._plugin=e,this._props={}}get anonymous_id(){return this._props.anonymous_id||$1()}set anonymous_id(e){this._requireString("anonymous_id",e),this._set("anonymous_id",e)}get user_id(){return this._props.user_id}set user_id(e){this._requireString("user_id",e),this._set("user_id",e)}get user_hash(){return this._props.user_hash}set user_hash(e){this._requireString("user_hash",e),this._set("user_hash",e)}get user_type(){return this._props.user_type}set user_type(e){this._requireString("user_type",e),this._set("user_type",e)}get site(){return this._props.site}set site(e){this._requireString("site",e),this._set("site",e)}get auth(){return this._props.auth}set auth(e){this._requireString("auth",e),this._set("auth",e)}_set(e,s){this._props[e]=s,this._plugin._events.emit("set",`${e} = '${s}'`)}_requireString(e,s){if(typeof s!="string"&&typeof s<"u")throw new Error(`${e} must be a string`);return s}}const P1="std:page-info";class N1{static get id(){return P1}constructor(){}install(e,{addPayloadPass:s}){s(this._modifyPayload.bind(this))}_modifyPayload({apiGroup:e,apiName:s,payload:n}){return e==="interactions"&&s==="upload"?this._modifyPayloadForInteractions(n):n}_modifyPayloadForInteractions({data:e}){return e=e.map(s=>({...s,context:{...U1(),...s.context}})),{data:e}}}function U1(){return Z({page:D1(),campaign:F1()})}function D1(){return Z({url:window.location.href,referrer:document.referrer||void 0,title:document.title})}function F1(){const t=new URLSearchParams(window.location.search);let e=Z({source:t.get("utm_source")||void 0,medium:t.get("utm_medium")||void 0,name:t.get("utm_campaign")||void 0,term:t.get("utm_term")||void 0,content:t.get("utm_content")||void 0});return Object.keys(e).length===0?void 0:e}const M1="std:auto-events";class q1 extends Me{static get id(){return M1}constructor(){super("auto-events"),this._contexts=new WeakMap}install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this)),s.addPayloadPass(this._captureApiRequest.bind(this))}_injectClient(e){const s=new j1(this);this._contexts.set(e,s),e.autoEvents=s.interface}_captureApiRequest({client:e,apiGroup:s,apiName:n,payload:i}){switch(s){case we.SEARCH:switch(n){case Ze.SEARCH:this._captureSearchApiRequest(e,i);break}break}}_captureSearchApiRequest(e,{q:s}){if(!s||s==="*")return;const n=this._contexts.get(e);!n||!n._config.search||e.api.interactions.upload({type:"search",search:{keywords:s},context:{custom_context:{channel:"miso_api"}}})}}class j1{constructor(e){this._plugin=e,this._config={search:!0},this.interface=Object.freeze({config:this.config.bind(this)})}config(e={}){if(typeof e!="object")throw new Error(`Config options must be an object or undefined: ${e}`);for(const s of e){if(!this._config.hasOwnProperty(s))continue;const n=this._config[s],i=e[s];i!==n&&(this._config[s]=n,this._plugin._events.emit("config",`${s}: ${n} -> ${i}`))}return Object.freeze({...this._config})}}const B1="std:interactions";class H1{static get id(){return B1}constructor(){}install(e,{addPayloadPass:s}){s(this._modifyPayload.bind(this))}_modifyPayload({apiGroup:e,apiName:s,payload:n}){return e==="interactions"&&s==="upload"?this._modifyPayloadForInteractions(n):n}_modifyPayloadForInteractions({data:e}){return{data:e.map(z1)}}}function z1(t){const{context:e={}}=t,s={...e.custom_context,sdk_version:fl};return s.uuid||(s.uuid=_n()),{...t,context:{...e,custom_context:s}}}const io="std:native-fetch";function V1(t){return t.toString().indexOf("[native code]")>-1}let ro,ql;const jl=(()=>{if(V1(window.fetch))return ro="original",window.fetch;try{const t=document.createElement("iframe");return t.style.display="none",document.head.appendChild(t),ro="borrowed",t.contentWindow.fetch}catch(t){ql=t}})();class W1{static get id(){return io}install(e,s){if(!jl){e.debug(`<plugin:${io}>`,"[error]",`Failed to obtain native fetch: ${ql.message}`);return}s.setCustomFetch(jl),e.debug(`<plugin:${io}>`,"[info]",`Using ${ro} native fetch`)}}const Q1="std:api-patch";class G1 extends Me{static get id(){return Q1}constructor(){super("api-patch")}install(e,s){s.addSubtree(this),s.addPayloadPass(this._patchApiPayload.bind(this))}_patchApiPayload(e){let{payload:s,...n}=e;return s&&(s=this._copyMetadataToMeta(s,n),s=this._suppressMetadata(s,n),s=this._suppressUserType(s,n),s)}_copyMetadataToMeta(e,{apiGroup:s}){switch(s){case we.ASK:return e.metadata?{...e,_meta:e.metadata}:e;default:return e}}_suppressMetadata(e,{apiGroup:s}){switch(s){case we.SEARCH:case we.RECOMMENDATION:const{_meta:n,metadata:i,...r}=e;return r;default:return e}}_suppressUserType(e,{apiGroup:s}){switch(s){case we.SEARCH:case we.RECOMMENDATION:const{user_type:n,...i}=e;return i;default:return e}}}const Bl="std:header-api-key";class K1{static get id(){return Bl}install(e,s){s.addUrlPass(this._modifyUrl.bind(this)),s.addHeadersPass(this._modifyHeaders.bind(this)),e.debug(`<plugin:${Bl}>`,"[info]","Send API key in header")}_modifyUrl({url:e}){return e.replace(/[?&]api_key=[^&]*/g,"")}_modifyHeaders({client:e,headers:s}){const{apiKey:n}=e.options;return n?{...s,"X-API-KEY":n}:s}}const Ri="miso-logdump",Hl="miso-logdump",zl=`${Hl}__download-btn`,Vl="Miso Log";class Y1{constructor(e={}){this._options=e,this._logs=[]}config(e={}){this._options={...this._options,...e}}async showDownloadButton(){await tg();let e=document.getElementById(Ri);if(!e){const s=document.createElement("div");s.textContent=this._options.logDownloadButtonText||Vl,s.classList.add(zl),s.addEventListener("click",()=>this.download()),e=document.createElement("div"),e.id=Ri,e.classList.add(Hl),e.appendChild(s),document.body.appendChild(e)}e.style.display="block"}_syncUi(){const e=document.getElementById(Ri),s=e&&e.querySelector(`.${zl}`);s&&(s.textContent=this._options.logDownloadButtonText||Vl)}hideDownloadButton(){const e=document.getElementById(Ri);e&&(e.style.display="none")}download(){const e=this._logs,s=new Blob([J1(e)],{type:"application/json"}),n=URL.createObjectURL(s),i=document.createElement("a");i.href=n,i.download=this._filename(),i.click()}_filename(){let{logFilename:e}=this._options;if(typeof e=="function"){const s=Wl();e=e({timestamp:s})}return e&&typeof e=="string"?e:Z1()}clear(){this._logs=[]}}function Z1(){return`miso-log.${Wl()}.jsonl`}function Wl(){return new Date().toISOString().replaceAll(/[\:\.]/g,"-")}function J1(t){return t.map(e=>JSON.stringify(Sl(X1(e),{depth:10}))).join(`
`)}function X1(t){if(t[0]==="<progressive-markdown>"){const e=t.length;return[...t.slice(0,e-1),eg(t[e-1])]}return t}function eg(t){return t&&Sl(t,{depth:2})}let Ql;async function tg(){return Ql||(Ql=bl(wl("logdump")))}const Gl="std:debug";class sg{constructor(e={}){this._options=e,this._logs=new Y1(e)}static get id(){return Gl}install(e){this._injectComponents(e),e.debug=(...s)=>this._logr(...s),e.logs=this._logs}config(e={}){this._options={...this._options,...e},this._logs.config(e),e.preserveLog&&this._log(Gl,"ua",window.navigator.userAgent)}_injectComponents(e,s=[]){e.on("child",n=>this._injectComponents(n,s)),e.on("subtree",n=>this._injectComponents(n,s.concat(e.meta.path))),e.on("*",(n,i)=>this._handleEvent(e,i,n,s))}_handleEvent(e,{name:s},n,i=[]){if(s==="child"||s==="subtree")return;const r=i.concat(e.meta.path);if(!r.length)switch(s){case"create":this._handleCreateClient(s,n);return}switch(r[0]){case"client":switch(r[1]){case"api":this._handleApiEvent(s,{...n,groupName:r[2]});return}break;case"plugins":r.length===1?this._handlePluginsEvent(s,n):this._handlePluginSpecificEvent(r[1],r.slice(2),s,n);return}this._logw(r.join("."),s,n)}_handleCreateClient(e,s){this._logw("client",e,s)}_handleApiEvent(e,{groupName:s,apiName:n,url:i,bulk:r,...o}){const c=new URL(i).pathname,a=["api",e];if(r&&a.push(`(bulk ${r.bulkId})`),a.push(`POST ${c}`),s==="interactions"){const u=o.payload.data[0],{type:l,custom_action_name:f,context:{custom_context:{property:_}={}}={}}=u,w=l==="custom"&&f?`${l}:${f}`:l;a.push(_?`${w} (${_})`:`${w}`)}a.push([{...o,url:i}]),this._log(...a)}_handlePluginsEvent(e,s){let n=[];Array.isArray(s)&&(n=s.slice(1),s=s[0]),this._log("plugins",e,`${s.id||"(anonymous)"}`,[s,...n])}_handlePluginSpecificEvent(e,s,n,i){this._logw([e,s.join(".")],n,i)}_getPath(e){const s=[];for(let n=e;n;n=n.meta.parent)n.meta.name&&s.push(n.meta.name);return s.reverse()}_logw(e,s,n){n===void 0?this._log(e,s):Array.isArray(n)?this._log(e,s,...n.map(Kl)):this._log(e,s,Kl(n))}_log(e,s,...n){this._logr(rg(e),og(s),...n)}_logr(...e){const s=this._options.console||{};this._options.preserveLog&&this._logs._logs.push(e),console.log(ng(s),ig(s),...e)}}function ng({text:t="Miso"}={}){return`%c${t}`}function ig({color:t="#fff",background:e="#334cbb"}={}){return`color: ${t}; background-color: ${e}; padding: 2px 2px 1px 4px;`}function rg(t){return`<${typeof t=="string"?t:t.filter(e=>e).join("/")}>`}function og(t){return`[${t}]`}function Kl(t){const e=typeof t;return e==="function"||e==="object"&&!Array.isArray(t)?[t]:t}const cg="std:dry-run";class ag{constructor(e={}){this._options=e,this.id="std:dry-run",this.name="dry-run"}static get id(){return cg}install(e,{addUrlPass:s}){s(this._modifyUrl.bind(this))}_modifyUrl({apiGroup:e,apiName:s,url:n}){return e==="interactions"&&s==="upload"?jm(n,"dry_run","1"):n}}function Yl(t,e){return e==null||e<=t?t:t+Math.floor(Math.random()*(e-t+1))}const lg={"code-span":()=>["`","`"],"emphasis-1":()=>co(oo(1),2),"emphasis-2":()=>co(oo(2),2),"emphasis-3":()=>co(oo(3),2),strikethrough:()=>["~","~"],link:({url:t="https://miso.ai"}={})=>["[",`](${t})`]};function oo(t=[1,3]){return t=typeof t=="number"?t:Yl(...t),"_*".charAt(Yl(0,1)).repeat(t)}const ug=Object.keys(lg);new Set(ug);function co(t,e){const s=[];for(let n=0;n<e;n++)s.push(typeof t=="function"?t():t);return s}It.plugins.register(sg,ag,W1,K1),It.plugins.use(k1),It.plugins.use(N1),It.plugins.use(q1),It.plugins.use(H1),It.plugins.use(G1);const fg="data-miso-product-id",ao="default",b=Object.freeze({CONTAINER:"container",BANNER:"banner",QUERY:"query",FEEDBACK:"feedback",PRODUCTS:"products",CATEGORIES:"categories",ATTRIBUTES:"attributes",RESULTS:"results",ITEMS:"items",QUESTION:"question",ANSWER:"answer",REASONING:"reasoning",IMAGES:"images",SOURCES:"sources",RELATED_RESOURCES:"related_resources",FOLLOW_UP_QUESTIONS:"follow_up_questions",QUERY_SUGGESTIONS:"query_suggestions",RELATED_QUESTIONS:"related_questions",AFFILIATION:"affiliation",KEYWORDS:"keywords",FACETS:"facets",TOTAL:"total",MORE:"more",SORT:"sort",ERROR:"error"}),dg=new Set([b.PRODUCTS,b.CATEGORIES,b.ATTRIBUTES,b.RESULTS,b.ITEMS,b.QUESTION,b.ANSWER,b.REASONING,b.IMAGES,b.SOURCES,b.RELATED_RESOURCES,b.FOLLOW_UP_QUESTIONS,b.QUERY_SUGGESTIONS,b.RELATED_QUESTIONS,b.AFFILIATION,b.FACETS,b.TOTAL]);function hg(t){return dg.has(t)}const _g=new Set([b.PRODUCTS,b.IMAGES,b.SOURCES,b.RELATED_RESOURCES]);function pg(t){return _g.has(t)}const Ne=Object.freeze({IMPRESSION:"impression",VIEWABLE:"viewable",CLICK:"click",SUBMIT:"submit",FEEDBACK:"feedback"}),Zl=[Ne.IMPRESSION,Ne.VIEWABLE,Ne.CLICK,Ne.SUBMIT,Ne.FEEDBACK],Jl=[Ne.IMPRESSION,Ne.VIEWABLE,Ne.CLICK],mg=new Set(Jl);function gg(t){return mg.has(t)}const gn=Object.freeze({UNTRACKED:"untracked",TRACKING:"tracking",TRIGGERED:"triggered"}),B=Object.freeze({INITIAL:"initial",LOADING:"loading",ERRONEOUS:"erroneous",READY:"ready",ONGOING:"ongoing",DONE:"done",EMPTY:"empty",NONEMPTY:"nonempty",UNANSWERABLE:"unanswerable"}),cs=Object.freeze({ORGANIC:"_organic",SUGGESTED_QUESTIONS:"_suggested_questions",INLINE_QUESTION_LINK:"_inline_question_link"});function Xl(t){if(Zl.indexOf(t)<0)throw new Error(`Unrecognized event type: ${t}`)}function bg(t){if(t!==gn.UNTRACKED&&t!==gn.TRACKING&&t!==gn.TRIGGERED)throw new Error(`Unrecognized tracking status: ${t}`)}const me=Object.freeze({API:"api",LAYOUTS:"layouts",DATA_PROCESSOR:"dataProcessor",TRACKERS:"trackers",INTERACTIONS:"interactions",FILTERS:"filters",PAGINATION:"pagination",TEMPLATES:"templates"}),Qt=Object.freeze({QUERY:"query",REFINE:"refine",MORE:"more"});function bn(t,e){return Object.freeze({...t,...e,members:wg(t.members,e.members),mappings:Object.freeze({...t.mappings,...e.mappings})})}function wg(t=[],e=[]){return[...new Set([...t,...e])]}function yg(t,e){return t&&t.length?e&&e.length?[...t,...e]:t:e}function as(t,e){let s={};for(const n of t)n&&(s=e(s,n));return Z(s)}function Ii(t){if(t===void 0)throw new Error(`Expect options to be an object or a boolean value: ${t}`);return typeof t=="boolean"&&(t={active:t}),t}function Eg([t,e]=[]){if(t===!1)return{actor:!1};typeof t=="object"&&e===void 0&&(e=t,t=void 0);let s;if(t&&t.indexOf("/")!==-1&&([s,t]=t.split("/")),t&&typeof t!="string"||e!==void 0&&typeof e!="object")throw new Error(`Invalid arguments for useApi(): ${t}, ${e}`);return Z({group:s,name:t,payload:e})}function eu(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>Object.assign(e,{...s,payload:Oi(e.payload,s.payload)}))}function Sg(t={}){if(t===!1)return!1;const{results:e,...s}=t;e!==void 0&&(console.warn(`useLayouts({ results: ... }) is deprecated, use useLayouts({ ${b.PRODUCTS}: ... }) instead`),t={...s,[b.PRODUCTS]:e});const n={};for(const[i,r]of Object.entries(t))n[vg(i)]=tu(r);return n}function vg(t){return t=Om(t),t=xm(t),t}function tu(t){if(t===void 0)return;let[e,s]=os(t);return typeof e=="object"&&(s=e,e=void 0),[e,s]}function Tg(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>{for(const[n,i]of Object.entries(s))e[n]=Cg(e[n],i);return e})}function Cg(t,e){return e=tu(e),e[0]===!1?e:t&&e?[e[0]||t[0],Ag(t[1],e[1])]:e||t}function Ag(t,e){return{...t,...e,link:{...t&&t.link,...e&&e.link},templates:{...t&&t.templates,...e&&e.templates}}}function Og(t){t=os(t);for(const e of t)if(typeof e!="function")throw new Error(`Expect data processor options to be a function: ${e}`);return t}function xg(...t){return t.flat().filter(Boolean)}const Xe=Object.freeze({active:!0,impression:Object.freeze({active:!0}),viewable:Object.freeze({active:!0,area:.5,duration:1e3}),click:Object.freeze({active:!0,lenient:!1})});function Rg(t={}){t=Ii(t);const{active:e,...s}=t,n={};for(const[i,r]of Object.entries(s))n[i]=Ig(r);return{active:e,...n}}function Ig(t={}){t=Ii(t);const{active:e,...s}=t;for(const[n,i]of Object.entries(s))kg(i);return t}function kg(t={}){return t=Ii(t),t}function $g(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>{for(const[n,i]of Object.entries(s))i!==void 0&&(e[n]=n==="active"?i:Lg(e[n],i));return e})}function Lg(t={},e={}){const s={...t};for(const[n,i]of Object.entries(e))i!==void 0&&(s[n]=Zl.includes(n)?Pg(t[n],i):i);return s}function Pg(t={},e={}){return{...t,...e}}function Ng(t){if(t===void 0)return;if(t===!1)return{handle:()=>{}};const e=os(t.preprocess);for(const s of e)if(typeof s!="function")throw new Error(`Expect preprocess options to be a function: ${s}`);if(t.handle&&typeof t.handle!="function")throw new Error(`Expect handle options to be a function: ${t.handle}`);return{...t,preprocess:e}}function Ug(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>Object.assign(e,{...s,preprocess:yg(e.preprocess,s.preprocess)}))}const Dg=Ii;function Fg(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>Object.assign(e,s))}function Mg(t){if(t===void 0)throw new Error(`Expect pagination options to be an object or a boolean value: ${t}`);return typeof t=="boolean"&&(t={active:t}),t}function qg(...t){return t[t.length-1]===!1?!1:as(t,(e,s)=>Object.assign(e,s))}function jg(t={}){const e={};for(const[s,n]of Object.entries(t))e[s]=su(n);return e}function su(t){return t===void 0?void 0:typeof t!="function"?()=>t:t}function Bg(...t){return as(t,(e,s)=>{for(const[n,i]of Object.entries(s))e[n]=Hg(e[n],i);return e})}function Hg(t,e){return su(e)||t}const zg=[{key:me.API,normalize:Eg,merge:eu},{key:me.LAYOUTS,normalize:Sg,merge:Tg},{key:me.DATA_PROCESSOR,normalize:Og,merge:xg},{key:me.TRACKERS,normalize:Rg,merge:$g},{key:me.INTERACTIONS,normalize:Ng,merge:Ug},{key:me.FILTERS,normalize:Dg,merge:Fg},{key:me.PAGINATION,normalize:Mg,merge:qg},{key:me.TEMPLATES,normalize:jg,merge:Bg}];class nu{constructor(){this._events=new As({target:this}),this._globals={}}_notify(e){this._events.emit(e),this._events.emit("_update",e)}}class iu{constructor(e={},s={}){this._events=new As({target:this}),this._defaults=s,this._context=e||{},this._locals={},ae(this,{resolved:new ru(this),defaults:s}),e&&e.on&&(this._unsubscribes=[e.on("_update",n=>this._notify(n))])}_notify(e){this.resolved._invalidate(e),this._events.emit(e)}_destroy(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[]}}class ru{constructor(e){this._options=e,this._cache={}}_invalidate(e){this._cache[e]=void 0}_get({key:e,merge:s}){if(this._cache[e]===void 0){const n=this._options,i=n._context[e];this._cache[e]=s(n._defaults[e],i&&i.get(),n._locals[e])}return this._cache[e]}}class ou{constructor(e,s,n,i,r){this._options=e,this._store=s,this._key=n,this._normalize=o=>o!==void 0?i(o):void 0,this._merge=r}get(){return this._store[this._key]}set(e){this._set(this._normalize(e))}merge(e){this._set(this._merge(this.get(),this._normalize(e)))}_set(e){this._store[this._key]=e,this._options._notify(this._key)}}for(const t of zg){const{key:e,normalize:s,merge:n}=t;Object.defineProperty(nu.prototype,e,{get:function(){const i=`_${e}`;return this[i]||(this[i]=new ou(this,this._globals,e,s,n))}}),Object.defineProperty(iu.prototype,e,{get:function(){const i=`_${e}`;return this[i]||(this[i]=new ou(this,this._locals,e,s,n))}}),Object.defineProperty(ru.prototype,e,{get:function(){return this._get(t)}})}const Vg=[me.API,me.LAYOUTS,me.DATA_PROCESSOR,me.TRACKERS,me.INTERACTIONS];function wn(t,e=Vg){for(const s of e)Wg(t,s)}function Wg(t,e){if(e==="api")Object.assign(t,{useApi(...s){return this._options.api.merge(s),this},clearApi(){return this._options.api.set(),this}});else{const s=Qg(e);Object.assign(t,{[`use${s}`](n){return this._options[e].merge(n),this},[`clear${s}`](){return this._options[e].set(),this}})}}function Qg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const cu="q",Gg="qs";function Kg({setValue:t=!0,focus:e=!0,updateUrl:s=!0,param:n=cu,sourceParam:i=Gg,...r}={}){return{setValue:t,focus:e,updateUrl:s,param:n,sourceParam:i,...r}}function au(t={}){const{setValue:e,focus:s,param:n,sourceParam:i}=this._autoQuery=Kg(t),r=new URLSearchParams(window.location.search),o=r.get(n),c=r.get(i)||void 0,{layout:a}=this._views.get(b.QUERY);a&&(o&&e&&(a.value=o),!o&&s&&a.focus()),o&&this.query(Z({q:o,qs:c}))}function lu({value:t,request:e}){if(!this._autoQuery||!this._autoQuery.updateUrl)return;const{param:s,sourceParam:n}=this._autoQuery,i=t&&(t.question||t.keyword)||e&&e.payload&&(e.payload.question||e.payload.q),r=e&&e.payload&&e.payload.metadata&&e.payload.metadata.question_source;if(!i)return;const o=new URL(window.location),c=o.searchParams.get(s),a=o.searchParams.get(n)||cs.ORGANIC;i===c&&r===a||(o.searchParams.set(s,i),r===cs.ORGANIC?o.searchParams.delete(n):o.searchParams.set(n,r),window.history.replaceState({},"",o))}class lo extends Me{constructor(e,s,n){super(e,s),this._name=e,this._plugin=s,this._client=n,this._options=new nu}}wn(lo.prototype);function ki(){return"session"}function uo(){return"completions"}function xs(){return"filters"}function Gt(){return"query"}function fo(){return"request"}function uu(){return"response"}function Oe(){return"data"}function kt(t){return t?`view:${t}`:"view"}function ho(){return"tracker"}function fu(){return"interaction"}function du(){return"feedback"}function hu(){return"input"}function _o(){return"more"}class Yg{constructor(e={}){(this._events=new As)._injectSubscribeInterface(this),this._options=e,this._states={},ae(this,{states:new Proxy(this._states,{set(){}})})}update(e,s,n={}){this._states[e]=Object.freeze(s);const i=Object.freeze({action:"update",name:e,state:s,...n});typeof this._options.onUpdate=="function"&&this._options.onUpdate(i),n.silent||this._events.emit(e,s),typeof this._options.onEmit=="function"&&this._options.onEmit(i)}trigger(e,s){const n=Object.freeze({action:"trigger",name:e,state:s});typeof this._options.onUpdate=="function"&&this._options.onUpdate(n),this._events.emit(e,s),typeof this._options.onEmit=="function"&&this._options.onEmit(n)}}class Zg{constructor(e){this._hub=e,this._sessionIndex=0}restart(){const e=Object.freeze({uuid:_n(),index:this._sessionIndex++,meta:{}});this._hub.update(ki(),e)}}function _u(t,e){if(!e)return!1;const{session:s}=t.states;return s&&s.index===e.index}class Jg{constructor(e,{source:s,options:n,polling:i=!0}){this._hub=e,this._source=s,this._options=n,this._polling=i,this._unsubscribes=[e.on(ki(),r=>this._handleSession(r)),e.on(fo(),r=>this._handleRequest(r))]}get active(){return this._options.resolved.api.actor!==!1}get source(){return this._source}_handleSession(e){(!this._session||e.index!==this._session.index)&&(this._ac&&this._ac.abort({type:"new-session",message:"A new session is created, discarding the old one."}),this._ac=new AbortController),this._session=e}async _handleRequest(e){if(!this.active)return;const{session:s,...n}=e;try{const{signal:i}=this._ac||{},r={...e.options,signal:i},o=await this._source({session:s,...n,options:r});if(o&&o[Symbol.asyncIterator]){if(o._response&&this._emitResponseWithSessionCheck({session:s,request:n,value:o._response}),this._polling){let c;for await(c of o){if(!_u(this._hub,s))break;this._emitResponse({session:s,request:n,value:c})}}}else this._emitResponseWithSessionCheck({session:s,request:n,value:o})}catch(i){this._error(i),this._emitResponseWithSessionCheck({session:s,request:n,error:i})}}_emitResponseWithSessionCheck(e){_u(this._hub,e.session)&&this._emitResponse(e)}_emitResponse(e){this._hub.update(uu(),e)}_error(e){console.error(e)}_destroy(){this._ac&&this._ac.abort({type:"data-actor-destroy",message:"Data actor is destroyed."});for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class Xg{constructor(e){this._get=typeof e=="function"?e:()=>e,this._handlers=[],this._elementUpdatedHandlers=[],this.sync()}get current(){return this._element}on(e,s){if(e==="element")return this._onElementUpdated(s);const n=this._get();return n&&n.addEventListener(e,s),this._handlers.push({event:e,handler:s}),()=>this._off(e,s)}_off(e,s){const n=this._get();n&&n.removeEventListener(e,s),vm(this._handlers,i=>i.handler===s)}_onElementUpdated(e){return this._elementUpdatedHandlers.push(e),()=>{Zr(this._elementUpdatedHandlers,e)}}sync({silent:e=!1}={}){const s=this._get();if(this._element===s)return;if(this._offAllFromCurrentElement(),s)for(const{event:i,handler:r}of this._handlers)s.addEventListener(i,r);const n=this._element;if(this._element=s,!e)for(const i of this._elementUpdatedHandlers)try{i(s,n)}catch(r){console.error(r)}}_offAllFromCurrentElement(){if(this._element)for(const{event:e,handler:s}of this._handlers)this._element.removeEventListener(e,s)}destroy(){this._offAllFromCurrentElement()}}const{IMPRESSION:eb,VIEWABLE:tb,CLICK:sb}=Ne,{UNTRACKED:$i,TRIGGERED:nb}=gn,pu=Object.freeze({[eb]:$i,[tb]:$i,[sb]:$i});class mu{constructor(e){this.sessionId=e,this._states=new Map}getFullState(e){const s=this._states.get(this._getKey(e));return s?{...s}:pu}get(e,s){const n=this._states.get(this._getKey(e));return n&&n[s]||$i}set(e,s,n){Xl(s),bg(n);for(const i of os(e))this._setOne(i,s,n)}untriggered(e,s){return e.filter(n=>this.get(n,s)!==nb)}_getKey(e){return e.product_id||e.text||e.id||e}_setOne(e,s,n){Tm(this._states,this._getKey(e),()=>({...pu}))[s]=n}}const ib=[Symbol("itemless")];class po{constructor({hub:e,role:s,options:n}){this._hub=e,this._role=s,this._options=n,this._states=new mu(this._getSessionId())}get options(){return typeof this._options=="function"?this._options():this._options}getState(e){return this._states.getFullState(e)}_trigger(e,s,n){Xl(e);const{options:i}=this;if(!i||i.active===!1)return;this._syncSession();const{deduplicated:r=!0,itemless:o=!1}=i;if(r){if(o&&(s=ib),s=this._states.untriggered(os(s),e),s.length===0)return;this._states.set(s,e,gn.TRIGGERED)}this._sendToHub({type:e,items:o?void 0:s,...n})}submit({value:e}){this._syncSession(),this._sendToHub({type:Ne.SUBMIT,value:e})}_sendToHub(e){this._hub.trigger(ho(),Object.freeze(Z({role:this._role,...e})))}_syncSession(){const e=this._getSessionId();e&&(!this._states||e!==this._states.sessionId)&&(this._states=new mu(e))}_getSessionId(){const{session:e}=this._getViewState()||{};return e&&e.uuid}_getMisoId(){const e=this._getViewState();return e&&e.meta&&e.meta.miso_id||void 0}_getRequestPayload(){const{request:e}=this._getViewState()||{};return e&&e.payload}_getViewState(){return this._hub.states[kt(this._role)]}}for(const t of Jl)po.prototype[t]=function(e,s){this._trigger(t,e,s)};function rb(t,e){return t===e||t&&e&&t.status===e.status&&t.error===e.error&&t.value===e.value&&t.ongoing===e.ongoing&&gu(t)===gu(e)&&ob(t.session,e.session)}function ob(t,e){return t===e||t&&e&&t.uuid===e.uuid}function gu(t){return t&&t.meta&&t.meta.empty}class bu{constructor(e,s){this._events=new As({target:this}),this._views=e,this._mapping=wu((e._roles.mappings||{})[s]||s),ae(this,{role:s,interface:new cb(this)})}get hub(){return this._views._hub}get element(){return this._element}set element(e){e!==this._element&&(this._element&&this._safeApplyOnLayout("unrender",this._element),this._element=e,this._proxyElement&&this._proxyElement.sync(),this._events.emit("element",e),this.refresh({force:!0}))}get proxyElement(){return this._proxyElement||(this._proxyElement=new Xg(()=>this.element)),this._proxyElement}get layout(){return this._layout}set layout(e){if(e===this._layout)return;if(e&&typeof e.render!="function")throw new Error("Render function is mandatory in a layout.");const{element:s}=this;s&&this._safeApplyOnLayout("unrender",s),this._safeApplyOnLayout("destroy"),this._layout=e,e&&(e._view=this,typeof e.initialize=="function"&&e.initialize(this)),this.refresh({force:!0})}get tracker(){const{role:e}=this;if(e===b.CONTAINER)return this._views._getContainerTracker();if(!this._tracker){const{hub:s}=this;this._tracker=new po({hub:s,role:e,options:()=>this.trackerOptions})}return this._tracker}get workflow(){return this._views._workflow}get workflowOptions(){return this._views._options.resolved}get trackerOptions(){return this._views._getTrackerOptions(this.role)}get filters(){return this._views.filters}async refresh({force:e=!1,data:s}={}){if(!this._layout)return;const{element:n}=this;if(!n)return;const i=this._data;if(this._data=s=this._sliceData(s||this._views._getData()),!e&&rb(s,i))return;const{session:r,status:o,ongoing:c,request:a,meta:u,value:l}=s,f={session:r,status:o,ongoing:c,request:a,meta:u,data:l,...ab(this.role,s)},_=(w={},p)=>{w!==!1&&this.updateState({...f,...w},p)};try{await this._layout.render(n,s,{notifyUpdate:_})}catch(w){this._error(w),_({error:w})}}updateState(e,{silent:s=!1}={}){const n=e.error?B.ERRONEOUS:e.status;e=this._state=Object.freeze(Z({...e,status:n}));const{role:i}=this;this.hub.update(kt(i),e,{silent:s})}_sliceData(e){const{value:s,error:n,status:i,meta:r,...o}=e,c={value:this._mapping(e,this),status:i,data:s,meta:r,...o};return this.role===b.CONTAINER&&(c.meta={...r,empty:this._isContainerEmpty(e)}),Z(c)}_isContainerEmpty(e){const{element:s}=this;if(!s)return!1;for(const{role:n}of s.components){if(!hg(n))continue;const r=wu((this._views._roles.mappings||{})[n]||n)(e,this);if(!yu(n,r))return!1}return!0}_syncSize(){this._element&&this._safeApplyOnLayout("syncSize",this._element)}_safeApplyOnLayout(e,...s){if(!(!this._layout||typeof this._layout[e]!="function"))try{this._layout[e](...s)}catch(n){this._error(n)}}_error(e){this._views._error(e)}_destroy(){this._safeApplyOnLayout("destroy"),this._proxyElement&&this._proxyElement.destroy()}}class cb{constructor(e){Vt(this,e,["role","layout","element","proxyElement","refresh","on","tracker"])}}function wu(t){switch(typeof t){case"function":return t;case"string":return e=>e.value&&e.value[t];default:throw new Error(`Invalid mapping function: ${t}`)}}function ab(t,e){return lb(e)?{empty:!!yu(t,e&&e.value)}:{}}function lb(t){return t.status===B.READY&&!t.ongoing}function yu(t,e){switch(t){case b.ANSWER:case b.REASONING:return!e||!e.value;default:return e===void 0||(Array.isArray(e)||typeof e=="string")&&!e.length}}function ub(t={},e={}){return Object.freeze(Z({...t,...e,facets:Object.freeze(Z({...t.facets,...e.facets}))}))}function fb({sort:t}={}){return Z({facets:Object.freeze({}),sort:db(t)})}function db(t){if(!t)return;const{options:e=[]}=t;for(const s of e)if(s.default)return Object.freeze(s);return Object.freeze(e[0])}class hb{constructor(e,{facets:s}={}){this._views=e,this._hub=e._hub;const n=this._error=this._error.bind(this);this._events=new As({target:this,error:n}),ae(this,{facets:new _b(this,s)}),this._unsubscribes=[e._options.on("filters",()=>this._syncOptions())],this._syncOptions(),this._states=void 0}_syncOptions(){const e=this._views._options.resolved.filters;this._initialStates=fb(e),this.apply({silent:!0})}_getStates(){return this._states||this._initialStates}update(e){const s=this._getStates();this._states=ub({...s,...e});const n=this._getStates();this._events.emit("update",{updates:e,states:n,oldStates:s})}reset({silent:e=!1}={}){const s=this._states;this._states=void 0;const n=this._getStates();this._hub.update(xs(),n,{silent:e}),this._events.emit("reset",{states:n,oldStates:s})}apply({silent:e=!1}={}){const s=this._getStates();this._hub.update(xs(),s,{silent:e}),!e&&this._events.emit("apply")}_error(e){this._views._error(e)}_destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class _b{constructor(e,s={}){this._filters=e,this._options=s}isSelected(e,s){return this._getFieldValues(e).includes(s)}select(e,s){this.isSelected(e,s)||this._select(e,s)}unselect(e,s){this.isSelected(e,s)&&this._unselect(e,s)}toggle(e,s){this.isSelected(e,s)?this._unselect(e,s):this._select(e,s)}_getFieldValues(e){return this._filters._getStates().facets[e]||[]}_select(e,s){const n=this._options.multivalued?[...this._getFieldValues(e),s]:[s];n.sort(),this._filters.update({facets:{[e]:n}})}_unselect(e,s){let n=this._getFieldValues(e).filter(i=>i!==s);n.length===0&&(n=void 0),this._filters.update({facets:{[e]:n}})}}const Eu=Symbol.for("miso:tracked");function mo(t){return!!t[Eu]}function go(t){t[Eu]=!0}const Li=Object.freeze({impression:Object.freeze({}),viewable:Object.freeze({area:.5,duration:1e3}),click:Object.freeze({lenient:!1})});function bo(t,e){return!!e&&{...t,...e}}function pb(t){if(t===!1)return!1;if(t===!0&&(t={}),typeof t!="object")throw new Error(`Invalid options: ${t}`);const{impression:e={},viewable:s={},click:n={},...i}=t;return Z({...Li,...i,impression:bo(Li.impression,e),viewable:bo(Li.viewable,s),click:bo(Li.click,n)})}function mb(t={},e){return t?typeof t.validate=="function"?t.validate(e):t.lenient?!0:!(mo(e)||e.button!==0||e.defaultPrevented||!Jr(e.target,s=>s.tagName==="A"&&s.href||void 0)):!1}class gb{constructor(e,{workflow:s,extensions:n,layouts:i,roles:r,options:o}){this._hub=e,this._workflow=s,this._workflowName=s._name,this._extensions=n,this._layoutFactory=i,this._options=o,this._roles=r,this._containers=new Map,this._containerTracker=void 0,this._views={},this._filters=new hb(this);for(const a of r.members)a!==b.CONTAINER&&(this._views[a]=new bu(this,a));ae(this,{interface:new bb(this),trackers:new wb(this,r.members)});const c=()=>this.syncSize();window.addEventListener("resize",c),this._unsubscribes=[()=>window.removeEventListener("resize",c),e.on(Oe(),a=>this.refresh({data:a})),o.on("layouts",()=>this._syncLayouts())],this._syncLayouts()}get filters(){return this._filters}addContainer(e){if(this._containers.has(e))return;const s=new bu(this,b.CONTAINER);s.layout=this._createLayout(b.CONTAINER),s.element=e,this._containers.set(e,s);const{components:n}=e;for(const i of n)this.addComponent(i)}removeContainer(e){const s=this._containers.get(e);if(!s)return;const{components:n}=e;for(const i of n)this.removeComponent(i);s._destroy(),this._containers.delete(e)}addComponent(e){this._getViewByElement(e).element=e}removeComponent(e){this._getViewByElement(e).element=void 0}updateComponentRole(e,s,n){}containsElement(e){return this._containers.has(e)||this._views[e.role]}refreshElement(e){const s=e.isContainer?this._containers.get(e):this._getViewByElement(e);s&&s.refresh({force:!0})}_getViewByElement(e){let{role:s}=e;if(!s)throw new Error("Component must have a role");return this.get(s)}_syncLayouts(){const{layouts:e}=this._options.resolved;if(e===!1){for(const s of this._containers.values())s.layout=void 0;for(const s of Object.values(this._views))s.layout=void 0}else for(let[s,[n,i]]of Object.entries(e)){const r=()=>this._layoutFactory.create(n,{...i,role:s,workflow:this._workflowName});if(s===b.CONTAINER)for(const o of this._containers.values())o.layout=r();else{const o=this.get(s);o&&(o.layout=r())}}}_createLayout(e){const s=this._options.resolved.layouts[e];if(!s)return;const[n,i]=s;return this._layoutFactory.create(n,{...i,role:e,workflow:this._workflowName})}get(e){return this._views[e]}get views(){return this._getViews(!0)}_getViews(e=!0){return e?[...this._containers.values(),...Object.values(this._views)]:[...Object.values(this._views),...this._containers.values()]}syncSize(){for(const e of Object.values(this._views))e._syncSize()}async refresh({force:e,data:s}={}){s=this._getData(s);let n=this._getViews(!0);await Promise.all(n.map(i=>i.refresh({force:e,data:s})))}_getData(e){return e||this._hub.states[Oe()]}_getTrackerOptions(e){const s=this._options.resolved.trackers;return pb(s&&s[e]||!1)}_getContainerTracker(){if(!this._containerTracker){const e=this._hub,s=b.CONTAINER;this._containerTracker=new po({hub:e,role:s,itemless:!0,options:()=>this._getTrackerOptions(s)})}return this._containerTracker}_error(e){console.error(e)}_destroy({dom:e}={}){for(const s of this._getViews(!1))s._destroy();for(const s of this._unsubscribes)s();this._unsubscribes=[],this._filters._destroy()}}class bb{constructor(e){this._actor=e,Vt(this,e,["syncSize","refresh","trackers","filters"])}get(e){return this._actor.get(e).interface}get all(){return this._actor.views.map(e=>e.interface)}}class wb{constructor(e,s){this._views=e;for(const n of s)n!==b.CONTAINER&&Object.defineProperty(this,n,{get:()=>e.get(n).tracker});Object.defineProperty(this,b.CONTAINER,{get:()=>e._getContainerTracker()})}}class yb{constructor(e){this._hub=e,this._unsubscribes=[e.on(du(),s=>this._trigger(s))]}_trigger(e){this._hub.trigger(ho(),{type:Ne.FEEDBACK,result_type:"answer",value:e.unselected?"unselected":e.value})}_destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}class Eb{constructor(e,{client:s,options:n}){this._client=s,this._options=n,this._unsubscribes=[e.on(fu(),i=>this._handle(i))]}_handle(e){e=os(e),e.length!==0&&this._client.api.interactions.upload(e,{merge:!0})}destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[]}}function Su(t){return async({group:e,name:s,payload:n,options:i})=>{if(e===we.ASK)switch(s){case Ze.QUESTIONS:return t.api.ask.questions(n,i);case Ze.SEARCH:return t.api.ask.search(n,i)}return t.api[e]._run(s,n,i)}}class wo{constructor({role:e,workflow:s,...n}={}){ae(this,{role:e,workflow:s,options:n}),this._unsubscribes=[],this._rendered=new WeakMap,this._element=void 0,this._notifyUpdate=void 0,this._pending=void 0}async render(e,s,n={}){this._syncElement(e);const i=this._rendered.get(e),r=Ci(!1);s=this._preprocess({state:s,rendered:i},{skip:r.t})||s,this._updatePending(s,n),r.value||this._handleInput({state:s,rendered:i},n)}_syncElement(e){this._element!==e&&this._rendered.delete(this._element),this._element=e}_preprocess({state:e}){return e}_updatePending(e,s){this._pending=[Object.freeze(e),s]}_takePending(){const e=this._pending;return this._pending=void 0,e}_handleInput(){this._requestRaf()}_requestRaf(){this._requested||(this._requested=!0,vi(e=>this._doRaf(e)))}_doRaf(e){this._requested&&(this._requested=!1,this._applyRender(e))}_applyRender(e,s={}){if(!this._pending)return;let[n,{notifyUpdate:i}]=this._takePending();n=Object.freeze({...n,timestamp:e});const r=this._rendered.get(this._element),o=Ci([]),c=Ci({});this._render(this._element,{state:n,rendered:r,timestamp:e},{notifyUpdate:o.args,writeToState:c.merge,...s}),n=Object.freeze({...n,...c.value}),this._rendered.set(this._element,n),i&&i(...o.value),this._afterRender(this._element,n)}_render(){throw new Error("Unimplemented")}_afterRender(){}destroy(){for(const e of this._unsubscribes)e();this._unsubscribes=[],this._view=void 0,this._element=void 0,this._notifyUpdate=void 0,this._pending=void 0}}function vu(...t){return t.reduce((e,s)=>(e[s]=Sb(s),e),{})}function Sb(t){return()=>{throw new Error(`Template '${t}' is not implemented.`)}}function vb(t,e,s,n){const{templates:i}=t,[r,o]=Kt(t,s);return[r,(i.imageBlock||Is)(t,s,n),(i.infoBlock||i.productInfoBlock||yo)(t,s,n),o].join("")}function Tb(t,e,s){const[n,i]=Kt(t,s);return`${n}${s.value||s.text||s}${i}`}function Cb(t,e,s,n){const{templates:i}=t,[r,o]=Kt(t,s);return[r,(i.imageBlock||Is)(t,s,n),(i.infoBlock||i.articleInfoBlock||Cu)(t,s,n),(i.indexBlock||To)(t,s,n),o].join("")}function Tu(t,e,s,n){const{templates:i}=t,[r,o]=Kt(t,s);return[r,(i.indexBlock||To)(t,s,n),(i.infoBlock||i.articleInfoBlock||Eo)(t,s,n),o].join("")}function Ab(t,e,s,n){const{templates:i}=t,[r,o]=Kt(t,s);return[r,(i.imageBlock||Is)(t,s,n),(i.infoBlock||i.imageInfoBlock||Au)(t,s,n),o].join("")}function Ob(t,e,s,n){const{templates:i}=t,[r,o]=Kt(t,s,{link:!1});return[r,(i.infoBlock||i.affiliationInfoBlock||xb)(t,s,n),(i.imageBlock||Is)(t,s,{brand:!0,...n}),o].join("")}function xb(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||Rs)(t,e,s),(i.descriptionBlock||Pi)(t,e,s),(i.priceBlock||vo)(t,e,s),(i.ctaBlock||Co)(t,e,s)].join("")}</div>`}function yo(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||Rs)(t,e,s),(i.descriptionBlock||Pi)(t,e,s),(i.priceBlock||vo)(t,e,s)].join("")}</div>`}function Cu(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||Rs)(t,e,s),(i.dateBlock||So)(t,e,s),(i.descriptionBlock||Pi)(t,e,s),(i.ctaBlock||Co)(t,e,s)].join("")}</div>`}function Eo(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||Rs)(t,e,s),(i.authorsAndDateBlock||Ru)(t,e,s)].join("")}</div>`}function Au(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-info-container">${[(i.titleBlock||Rs)(t,e,s)].join("")}</div>`}function Rs({className:t},{title:e,_title_with_markups:s}){const n=Ao(s)||it(e);return n?`<div class="${t}__item-title">${n}</div>`:""}function Ou({className:t},{brand:e,brand_logo:s}){if(!e&&!s)return"";const n=s?`<img class="${t}__item-brand-logo" src="${s}"${e?` alt="${e}"`:""}>`:`<div class="${t}__item-brand">${e}</div>`;return`<div class="${t}__item-brand-container">${n}</div>`}function Pi({className:t},{snippet:e,description:s}){return e?`<div class="${t}__item-snippet">${Ao(e)}</div>`:s?`<div class="${t}__item-desc">${it(s)}</div>`:""}function So({className:t,templates:e},{created_at:s,updated_at:n,published_at:i}){const r=i||s||n;return r?`<div class="${t}__item-date">${Lu(r,e.date)}</div>`:""}function xu({className:t},{authors:e}){return e&&Array.isArray(e)&&e.length?`<div class="${t}__item-authors">${e.join(", ")}</div>`:""}function Ru(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__item-authors-and-date-container">${[(i.authorsBlock||xu)(t,e,s),(i.dateBlock||So)(t,e,s)].join("")}</div>`}function vo(t,e){const{className:s,templates:n}=t,{sale_price:i,original_price:r,currency:o="USD"}=e,c=i||r;if(!c)return"";const a=r!==void 0&&i!==void 0&&i<r,u=e.discount_rate_percent||(a?Math.floor((1-i/r)*100):void 0);let l="";if(a&&(l+=`<span class="${s}__item-original-price miso-price" data-currency="${o}">${r}</span><br>`),l+=`<span class="${s}__item-price miso-price" data-currency="${o}">${c}</span>`,u){const f=(n.discountRateText||Iu)(t,{...e,discount_rate_percent:u});l+=` <span class="${s}__item-discount-rate">${f}</span>`}return`<div class="${s}__item-price-container">${l}</div>`}function Iu(t,{discount_rate_percent:e}){return`(${e}% off)`}function Is(t,e,s={}){const{className:n,templates:i}=t,{cover_image:r,image_src:o,image_alt:c}=e;if(!r&&!o)return"";const a=o?"image":"cover-image",u=a==="image"?`<img class="${n}__item-${a}" src="${o}"${c?` alt="${c}"`:""}>`:`<img class="${n}__item-${a}" src="${r}">`,l=a==="cover-image"&&s.brand?(i.brandBlock||Ou)(t,e,s):"";return`<div class="${n}__item-${a}-container">${u}${l}</div>`}function To({className:t},e,{index:s}){return`<div class="${t}__item-index-container"><span class="${t}__item-index miso-citation-index" data-index="${s+1}"></span></div>`}function Co(t,e,s){const{className:n,templates:i}=t,r=$t.asFunction(i.cta)(t,e,s);return r?`<div class="${n}__item-cta-container">${r}</div>`:""}function Rb(t,e,s){const{templates:n}=t,{url:i}=e;if(!i)return"";const[r,o]=Kt(t,{url:i},{classSuffix:"item-cta",role:"cta"}),c=$t.asFunction(n.ctaText)(t,e,s);return c?`${r}${c}${o}`:""}function Kt({className:t,options:e={}},{product_id:s,url:n},{classSuffix:i="item-body",role:r="item",...o}={}){const c=o.link!==!1&&n?"a":"div",a=o.link!==!1&&n?`href="${n}" ${Ib(e.link)}`:"",u=s?`${fg}="${s}"`:"",l=r?`data-role="${r}"`:"";return[`<${c} class="${t}__${i}" ${l} ${u} ${a}>`,`</${c}>`]}function Ib(t={}){const{target:e="_blank",rel:s="noopener",open:n=!0}=t;let i="";return n&&(e&&(i+=` target="${e}"`),s&&(i+=` rel="${s}"`)),i}const ku=Object.freeze({locale:"en-US",year:"numeric",month:"short",day:"numeric"}),$u="en-US";function Lu(t,e=ku){switch(typeof e){case"function":return e(t);case"string":return new Date(t).toLocaleDateString(e);case"object":return new Date(t).toLocaleDateString(e.locale||ku.locale,e);default:throw new Error(`Invalid date format: ${e}`)}}function kb(t,e=$u){switch(typeof e){case"function":return e(t);case"string":return new Intl.NumberFormat(e).format(t);case"object":return new Intl.NumberFormat(e.locale||$u.locale,e).format(t);default:throw new Error(`Invalid number format: ${e}`)}}function Ao(t){return t&&t.replace(/<\/mark>\s+<mark>/g,"</mark>&nbsp;<mark>")}function $b(t=""){return typeof t=="function"?t:()=>t}const $t=Object.freeze({tagPair:Kt,formatDate:Lu,formatNumber:kb,formatHtmlWithMarkup:Ao,escapeHtml:it,asFunction:$b});class rt extends wo{constructor({className:e,templates:s,...n}={}){super(n),ae(this,{className:e,templates:{...vu("root"),...s,helpers:$t}})}_preprocess({state:e}){const s=this.templates.root(this,e);return{...e,html:s}}_render(e,{state:s}){e.innerHTML=s.html}}const Lb="miso-banner";class Ni extends HTMLElement{static get tagName(){return Lb}async connectedCallback(){Ni.MisoClient.ui.layouts.create("banner").render(this)}}class Pu{constructor(){this._entries=new WeakMap}isTracked(e){return this._entries.has(e)}async track(e,s={}){if(!s||this._entries.get(e))return!1;const i=new AbortController,{signal:r}=i;this._entries.set(e,{ac:i});let o=!1;try{await Xr(e,{...s,signal:r}),o=!0}catch(c){if(c.name!=="AbortError")throw c}finally{this._entries.delete(e)}return o}untrack(e){const s=this._entries.get(e);s&&(s.ac.abort(),this._entries.delete(e))}}const Pb="container";class Nu extends wo{static get type(){return Pb}constructor({logo:e="auto",...s}={}){super({logo:e,...s}),this._impression=!1,this._viewables=new Pu}_syncElement(e){this._element!==e&&this._viewables.untrack(this._element),super._syncElement(e)}_render(e,s){this._syncBanner(e),this._syncStatus(e,s),this._trackInteractions(e,s)}_afterRender(e,s){this._trackInteractions(e,s)}_syncBanner(e){const s=Ni.tagName,n=this._shallRenderBanner(e),i=e.querySelector(s);n&&!i?e.insertAdjacentHTML("beforeend",`<${s} visible-when="ready"></${s}>`):!n&&i&&i.remove()}_shallRenderBanner(e){const{logo:s}=this.options,{logo:n}=e,i=n!==void 0&&n!=="auto"?n:s;return i==="auto"?e.components.some(({role:r})=>Nb(r)):!!i}_syncStatus(e,{state:s}){if(!e)return;const{status:n,ongoing:i,meta:{miso_id:r,empty:o=!1,unanswerable:c=!1}={}}=s,a=[n,o?B.EMPTY:B.NONEMPTY];n===B.READY&&a.push(i?B.ONGOING:B.DONE),c&&a.push(B.UNANSWERABLE),e.setAttribute("status",a.join(" ")),r?e.setAttribute("miso-id",r):e.removeAttribute("miso-id")}_trackInteractions(e,s){const{status:n}=s;n===B.READY&&(this._trackImpression(),this._trackViewable(e))}_trackImpression(){const{impression:e}=this._view.tracker.options||{};e&&(this._impression||(this._impression=!0,this._view.tracker.impression()))}async _trackViewable(e){const{viewable:s}=this._view.tracker.options||{};s&&await this._viewables.track(e,s)&&this._view.tracker.viewable()}}function Nb(t){return t===b.PRODUCTS||t===b.ANSWER}const Ub="error",Db="miso-error";function Fb(t,e){const{className:s,templates:n}=t,{status:i,value:r}=e;return i!=="erroneous"?"":`<div class="${s}"><div class="${s}__message">${n.message(t,r)}</div></div>`}function Mb(t,e){return`Error: ${e.message||e}`}const Uu=Object.freeze({root:Fb,message:Mb});class Du extends rt{static get type(){return Ub}static get defaultTemplates(){return Uu}constructor({className:e=Db,templates:s,...n}={}){super({className:e,templates:{...Uu,...s},...n})}}const qb='<svg viewBox="0 0 500 200"><path d="M131.1,39.4 C144.3,39.4 155,43.8 163.2,52.7 C171.3,61.3 175.2,72.9 175.2,87.6 L175.2,159.1 L140.4,159.1 L140.4,90.6 C140.4,78.7 134.6,71.5 123.7,71.5 C112.3,71.5 105.5,79.7 105.5,93.4 L105.5,159.1 L70.7,159.1 L70.7,90.6 C70.7,78.7 64.9,71.5 54,71.5 C42.6,71.5 35.8,79.7 35.8,93.4 L35.8,159.1 L1,159.1 L1,42.7 L35.8,42.7 L35.8,53.4 C42.1,44.1 52.6,39.4 67,39.4 C80.5,39.4 90.7,44.5 97.4,54.8 C104.6,44.5 115.8,39.4 131.1,39.4 Z M202,42.4 L238.4,42.4 L238.4,159.1 L202,159.1 Z M202,0 L238.4,0 L202,36.4 Z M302.6,76.6 C302.6,81.2 311.7,83.8 323,86.8 C339.2,90.3 360.5,98.7 360.3,124 C360.3,136.6 355.6,146.1 346.2,152.6 C336.8,158.9 325.3,162.1 311.5,162.1 C286.9,162.1 270,152.8 261.1,134.5 L291.6,117.3 C294.6,126.3 301.4,131 311.5,131 C319.9,131 324.2,128.7 324.2,123.8 C324.2,119.1 315,116.3 303.8,113.5 C287.6,109.1 266.5,101.2 266.5,77.5 C266.5,65.4 270.9,56.1 279.6,49.4 C288.5,42.6 299.5,39.4 312.4,39.4 C331.9,39.4 348.6,48.2 358.2,64.3 L328.2,80.3 C324.4,73.6 319.2,70.1 312.4,70.1 C305.9,70.1 302.6,72.2 302.6,76.6 Z M480.4,144.5 C468.4,156.3 453.7,162.1 436.3,162.1 C419,162.1 404.2,156.3 392.2,144.5 C380.3,132.6 374.2,118 374.2,100.8 C374.2,83.6 380.3,69.1 392.2,57.3 C404.2,45.4 419,39.4 436.3,39.4 C453.7,39.4 468.4,45.4 480.4,57.3 C492.4,69.1 498.5,83.6 498.5,100.8 C498.5,118 492.4,132.6 480.4,144.5 Z M417.1,120.5 C422.2,125.6 428.6,128.2 436.3,128.2 C444.1,128.2 450.4,125.6 455.5,120.5 C460.7,115.4 463.3,108.9 463.3,100.8 C463.3,92.6 460.7,86.1 455.5,81 C450.4,75.9 444.1,73.3 436.3,73.3 C428.6,73.3 422.2,75.9 417.1,81 C411.9,86.1 409.3,92.6 409.3,100.8 C409.3,108.9 411.9,115.4 417.1,120.5 Z" /></svg>',jb='<svg viewBox="0 0 16 16"><path d="M8.342 3.652 4.979 5.708a1 1 0 0 0-.479.852v5.561a1 1 0 0 0 .87.992l6.029.79a1 1 0 0 0 1.042-.583l2.534-5.65a1 1 0 0 0-.74-1.394l-3.543-.623.9-3.1A2.097 2.097 0 0 0 10.297 0L8.719 3.237a1 1 0 0 1-.377.415ZM1 6.5a1.5 1.5 0 0 1 3 0v6a1.5 1.5 0 0 1-3 0Z"/></svg>',Bb="banner",Hb="miso-banner";function zb(t){const{className:e,templates:s}=t;return`<div class="${e}"><div class="${e}__logo">${s.logo(t)}</div></div>`}const Fu=Object.freeze({root:zb,logo:()=>qb});class Vb extends rt{static get type(){return Bb}static get defaultTemplates(){return Fu}constructor({className:e=Hb,templates:s,...n}={}){super({className:e,templates:{...Fu,...s},...n})}}function Wb(t,e,s){const n=new Map,i=new Map,r=[];for(let o=0;o<t.length;o++){const c=t[o],a=s[o],u=e[o],l=Object.freeze({index:o,key:c,value:u,element:a});n.set(c,l),i.set(a,l),r.push(l)}return{k2b:n,e2b:i,entries:r}}function Mu(t,e){const s=[];for(const n of e.entries){const i=t.e2b.get(n.element);(!i||i.key!==n.key)&&s.push(n)}return s}class qu{constructor(){this._k2b=new Map,this._e2b=new Map,this._entries=[]}get entries(){return[...this._entries]}get(e){return this._e2b.get(e)||void 0}find(e){return this._k2b.get(e)||void 0}update(e,s,n){const i=Wb(e,s,n),r={k2b:this._k2b,e2b:this._e2b,entries:this._entries},o=Mu(r,i),c=Mu(i,r);return this._k2b=i.k2b,this._e2b=i.e2b,this._entries=i.entries,{bounds:o,unbounds:c}}clear(){const e=this._entries;return this._k2b=new Map,this._e2b=new Map,this._entries=[],{bounds:[],unbounds:e}}}function Oo(t){pn(t,Qb.prototype)}class Qb{_initTrackable(){this._bindings=new qu,this._viewables=new Pu}_syncBindings(e,s){const n=this._getItems(s)||[],i=n.map(a=>this._getItemKey(a)),r=this._getItemElements(e),{bounds:o,unbounds:c}=this._bindings.update(i,n,r);this._onBindingsUpdate(o,c)}_clearBindings(){const{bounds:e,unbounds:s}=this._bindings.clear();this._onBindingsUpdate(e,s)}_getItemKey(e){return e.product_id||e.text||e.id||e}_getItems(e){throw new Error("Not implemented.")}_getItemElements(e){throw new Error("Not implemented.")}_onBindingsUpdate(e,s){this._trackImpressions(e),this._untrackViewables(s),this._trackViewables(e)}_trackImpressions(e){if(e.length===0)return;const{impression:s}=this._view.tracker.options||{};s&&this._view.tracker.impression(e.map(({value:n})=>n))}_untrackViewables(e){for(const{element:s}of e)this._viewables.untrack(s)}_trackViewables(e){if(e.length===0)return;const{viewable:s}=this._view.tracker.options||{};if(s)for(const{value:n,element:i}of e)(async()=>await this._viewables.track(i,s)&&this._view.tracker.viewable([n]))()}_trackClick(e,s){const{click:n}=this._view.tracker.options||{};mb(n,e)&&(go(e),this._view.tracker.click([s.value]))}_destroyTrackable(){const{unbounds:e}=this._bindings.clear();this._untrackViewables(e)}}function Gb(t){pn(t,Kb.prototype)}class Kb{_initTriggerable(){this._trigger=void 0}_syncTrigger(e,s){if(!this.options.infiniteScroll)return;const n=this._view.workflowOptions.pagination;!n.active||n.mode!=="infiniteScroll"||(s.status===B.READY?this._trackTrigger(e):this._untrackTrigger())}async _trackTrigger(e){if(this._trigger)return;const s=e.querySelector('[data-role="trigger"]');if(!s)return;const n=new AbortController;this._trigger=Object.freeze({element:s,ac:n});let i=!1;try{await Xr(s,{area:1,duration:0,signal:n.signal}),i=!0}catch(r){if(r.name!=="AbortError")throw r}finally{this._trigger=void 0}i&&this._onTrigger()}_onTrigger(){this._view.hub.trigger(_o())}_untrackTrigger(){this._trigger&&(this._trigger.ac&&this._trigger.ac.abort(),this._trigger=void 0)}_destroyTriggerable(){this._untrackTrigger()}}function Yb(t,e){const{className:s,role:n,templates:i,options:r}=t,{status:o}=e,c=n?` data-role="${n}"`:"",a=r.itemType?` data-item-type="${r.itemType}"`:"";return`<div class="${s} ${o}"${c}${a}>${o===B.READY?i[o](t,e):""}${i.trigger(t,e)}${i.loading(t,e)}</div>`}function Zb(t,e){const{templates:s}=t,n=t._getItems(e)||[];return n.length>0||e.ongoing?s.body(t,e,n):s.empty(t,e)}function Jb(t,e,s){return t.templates.list(t,e,s)}function Xb(t,e,s){const{className:n,templates:i,options:r}=t,o=i.ordered?"ol":"ul",c=r.itemType?` data-item-type="${r.itemType}"`:"";return`<${o} class="${n}__list" data-role="list"${c}>${i.items(t,e,s)}</${o}>`}function ew(t,e,s,{offset:n=0}={}){const{templates:i}=t;let r=n;return s.map(o=>i.item(t,e,o,r++)).join("")}function tw(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r[c](t,e,s,{index:n});return`<li class="${i}__item">${a}</li>`}function sw(t,e){const{className:s}=t;return`<div class="${s}__trigger" data-role="trigger"></div>`}function nw(){return'<div class="miso-loading" aria-label="Loading" data-role="loading"></div>'}const ju=Object.freeze({product:vb,article:Cb,compactArticle:Tu,image:Ab,question:Tb,root:Yb,[B.READY]:Zb,empty:()=>"",body:Jb,list:Xb,ordered:!1,items:ew,item:tw,productInfoBlock:yo,articleInfoBlock:Cu,compactArticleInfoBlock:Eo,imageInfoBlock:Au,brandBlock:Ou,titleBlock:Rs,descriptionBlock:Pi,dateBlock:So,authorsBlock:xu,authorsAndDateBlock:Ru,priceBlock:vo,discountRateText:Iu,ctaBlock:Co,cta:Rb,imageBlock:Is,indexBlock:To,trigger:sw,loading:nw});class et extends rt{static get defaultTemplates(){return ju}constructor({templates:e,itemType:s="product",...n}){super({templates:{...ju,...e},itemType:s,...n}),this._initTrackable(),this._initTriggerable()}initialize(e){this._unsubscribes.push(e.proxyElement.on("click",this._onClick.bind(this)))}_preprocess({state:e,rendered:s}){const n=this._shallRenderIncrementally(e,s),i=this._html(e,s,n);return{...e,incremental:n,html:i}}_shallRenderIncrementally(e,s){return this.options.incremental&&s&&s.value&&s.value.length>0&&e.value&&e.value.length>=s.value.length&&e.session&&s.session&&e.session.id===s.session.id}_html(e,s,n){if(n){const i=s.value.length,r=(this._getItems(e)||[]).slice(i);return r.length>0?this.templates.items(this,e,r,{offset:i}):""}else return this.templates.root(this,e)}_render(e,{state:s},{notifyUpdate:n}){const{incremental:i,html:r}=s;i?r?this._getListElement(e).insertAdjacentHTML("beforeend",r):n(!1):e.innerHTML=r}_afterRender(e,s){this._syncBindings(e,s),this._syncTrigger(e,s)}_unrender(){this._clearBindings(),this._untrackTrigger()}_getItems(e){return e.value&&(e.value.products||e.value)}_getListElement(e){return e.querySelector('[data-role="list"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="item"]')):[]}_onClick(e){const s=e.target.closest('[data-role="item"]');if(!s)return;const n=this._bindings.get(s);n&&(this._trackClick(e,n),this._emitClickEvent(e,n))}_emitClickEvent(e,s){const{session:n}=this._view._state,{value:i,element:r}=s;this._view._events.emit("click",{session:n,value:i,element:r,domEvent:e})}destroy(){this._destroyTrackable(),this._destroyTriggerable(),this._view=void 0,super.destroy()}}Oo(et.prototype),Gb(et.prototype);const iw="list",Bu="miso-list";class ks extends et{static get type(){return iw}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return Bu}constructor({className:e=Bu,...s}={}){super({className:e,...s})}}const rw="horizontal",Hu="miso-horizontal";class zu extends et{static get type(){return rw}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return Hu}constructor({className:e=Hu,...s}={}){super({className:e,...s})}}const ow="cards",Vu="miso-cards";class cw extends et{static get type(){return ow}static get defaultTemplates(){return super.defaultTemplates}static get defaultClassName(){return Vu}constructor({className:e=Vu,...s}={}){super({className:e,...s})}}function Wu(t,e,s){s===void 0?t.removeAttribute(e):t.setAttribute(e,s)}function $s(t,e,s){s?t.classList.add(e):t.classList.remove(e)}function aw(t){if(typeof t=="number")return t;const[e,s]=lw(t);switch(s){case"":case"px":return e;case"rem":return uw(e);default:throw new Error(`Unsupported unit: ${s}`)}}function lw(t){const e=t.match(/^([+-]?(?:\d+|\d*\.\d+))([a-z]*)$/);if(!e)throw new Error(`Invalid length: ${t}`);const s=parseFloat(e[1]),n=e[2]||"";return[s,n]}function uw(t=1){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function xo(t){return t===void 0||t instanceof Qu?t:new Qu(t)}class Qu{constructor(e){switch(this._width=NaN,this._height=NaN,typeof e){case"number":this._width=e,this._height=1;break;case"object":Array.isArray(e)&&(this._width=parseFloat(e[0]),this._height=parseFloat(e[1]));break;case"string":const s=e.indexOf("/");s<0?(this._width=parseFloat(e),this._height=1):(this._width=parseFloat(e.slice(0,s).trim()),this._height=parseFloat(e.slice(s+1).trim()));break}if(this._width===NaN||this._height===NaN)throw new Error(`Invalid aspect ratio value: ${e}`)}get width(){return this._width}get height(){return this._height}get floatValue(){return this._width/this._height}scaleBy(e){return e=xo(e),xo([e._width*this._width,e._height*this._height])}toString(){return this._height===1?`${this._width}`:`${this._width} / ${this._height}`}}function fw(t){pn(t,dw.prototype)}class dw{_initSwipeable(){this._swipeableContext={itemCount:void 0,itemIndex:void 0,displayedCount:void 0,displayedIndex:void 0,displayEventIndex:void 0}}get itemIndex(){return this._swipeableContext.itemIndex}set itemIndex(e){const s=this._swipeableContext;s.itemCount!==void 0&&(e<0?e=s.itemCount-1:e>=s.itemCount&&(e=0),s.itemIndex=e,vi(()=>this._syncDisplayedSwipeableItemIndex()))}next(){this._swipeableContext.itemCount!==void 0&&this.itemIndex++}previous(){this._swipeableContext.itemCount!==void 0&&this.itemIndex--}_renderSwipeable(e,s,n){this._syncSwipeableItemCount(s),this._syncDisplayedSwipeableItemCount(),this._syncDisplayedSwipeableItemIndex()}_afterRenderSwipeable(){this._emitSwipeableDisplayEvent()}_syncSwipeableItemCount({state:e}={}){const s=this._swipeableContext,n=this._getItems(e),i=s.itemCount,r=s.itemCount=n?n.length:void 0;r!==i&&(r===void 0?s.itemIndex=void 0:i===void 0&&(s.itemIndex=0))}_syncDisplayedSwipeableItemCount(){const e=this._swipeableContext,{itemCount:s}=e;if(s===e.displayedCount)return;let{element:n}=this._view;n=n.firstElementChild,n&&(Wu(n,"data-item-count",s),e.displayedCount=s)}_syncDisplayedSwipeableItemIndex(){const e=this._swipeableContext,{itemIndex:s}=e;s!==e.displayedIndex&&(e.displayedIndex=s,this._syncSwipeableListIndex(s),this._syncSwipeableIndicatorIndex(s))}_syncSwipeableListIndex(e){const{element:s}=this._view,n=s&&this._getListElement(s);n&&(n.style.left=`${-e*100}%`)}_syncSwipeableIndicatorIndex(e){const{element:s}=this._view,n=s&&this._getSwipeableIndicatorElement(s);if(!n)return;let i=0;for(const r of n.children)$s(r,"active",i===e),i++}_getSwipeableIndicatorElement(e){return e.querySelector('[data-role="index-indicator"]')}_emitSwipeableDisplayEvent(){const e=this._swipeableContext,s=e.displayedIndex;e.displayEventIndex!==s&&(e.displayEventIndex=s,this._view._events.emit("display",{index:s}))}_onClickSwipeable(e){const{target:s}=e;s.closest('[data-role="previous"]')&&(e.preventDefault(),this.previous()),s.closest('[data-role="next"]')&&(e.preventDefault(),this.next())}}const hw="1.12.6";function _w(t){const s=t*Math.tan(3*Math.PI/8),n=s*Math.sin(Math.PI/4);return`M${t} 0L${100-s} 0A${t} ${t} 0 0 1 ${100-n} ${n}L${n} ${100-n}A${t} ${t} 0 0 1 0 ${100-s}L0 ${t}Z`}const Lt="miso-ui-icon",Gu=`${Lt}-svg-${hw.replaceAll(".","_")}`,tt={SEND:"send",SEARCH:"search",TRIANGLE:"triangle",TRIANGLE_EQ:"triangle-eq",CHEVRON:"chevron",CHEVRON_NEGATIVE:"chevron-negative",BULB:"bulb"},pw=`<symbol id="${Lt}-${tt.SEND}" viewBox="0 0 32 32"><path fill="currentColor" d="M11.499,19.173l5.801,-5.849c0.389,-0.392 1.022,-0.394 1.414,-0.006c0.392,0.389 0.395,1.022 0.006,1.414l-5.798,5.847l5.306,8.002c0.207,0.313 0.572,0.483 0.945,0.441c0.373,-0.042 0.691,-0.289 0.824,-0.64l9.024,-23.904c0.138,-0.366 0.05,-0.78 -0.226,-1.058c-0.276,-0.278 -0.689,-0.369 -1.057,-0.233l-24.004,8.892c-0.353,0.13 -0.602,0.448 -0.646,0.821c-0.044,0.373 0.125,0.74 0.438,0.948l7.973,5.325Z"/></symbol>`,mw=`<symbol id="${Lt}-${tt.SEARCH}" viewBox="0 0 24 24"><path fill="currentColor" d="M4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11C18 14.866 14.866 18 11 18C7.13401 18 4 14.866 4 11ZM11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C13.125 20 15.078 19.2635 16.6177 18.0319L20.2929 21.7071C20.6834 22.0976 21.3166 22.0976 21.7071 21.7071C22.0976 21.3166 22.0976 20.6834 21.7071 20.2929L18.0319 16.6177C19.2635 15.078 20 13.125 20 11C20 6.02944 15.9706 2 11 2Z"/></symbol>`,gw=`<symbol id="${Lt}-${tt.TRIANGLE}" viewBox="-5 -5 105 105"><path d="${_w(5)}"/></symbol>`,bw=`<symbol id="${Lt}-${tt.TRIANGLE_EQ}" viewBox="-100 -100 200 200"><path d="M12.99 -77.5A15 15,0,0,0,-12.99 -77.5L-73.61 27.5A15 15,0,0,0,-60.62 50L60.62 50A15 15,0,0,0,73.61 27.5L12.99 -77.5Z"/></symbol>`,ww=`<symbol id="${Lt}-${tt.CHEVRON}" viewBox="-100 -100 200 200"><path d="M10.61 -43.94A15 15,0,0,0,-10.61 -43.94L-60.61 6.06A15 15,0,0,0,-39.39 27.27L0 -12.12L39.39 27.27A15 15,0,0,0,60.61 6.06L10.61 -43.94Z"/></symbol>`,yw=`<symbol id="${Lt}-${tt.CHEVRON_NEGATIVE}" viewBox="-100 -100 200 200"><path d="M100 100V-200H-200V200H200ZM-10.61 -43.94A15 15,0,0,1,10.61 -43.94L60.61 6.06A15 15,0,0,1,39.39 27.27L0 -12.12L-39.39 27.27A15 15,0,0,1,-60.61 6.06L-10.61 -43.94Z"/></symbol>`,Ew=`<symbol id="${Lt}-${tt.BULB}" viewBox="0 0 16 16"><path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a2 2 0 0 0-.453-.618A5.98 5.98 0 0 1 2 6m6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1"/></symbol>`,Sw=`<svg id="${Gu}" style="display:none;">${[pw,mw,gw,bw,ww,yw,Ew].join("")}</svg>`;let Ku=!1;function vw(){Ku||document.head.querySelector(`#${Gu}`)||(Ku=!0,document.head.insertAdjacentHTML("beforeend",Sw))}vw();function yn(t){return`<svg class="miso-ui-icon miso-ui-icon-${t}"><use href="#${Lt}-${t}"></use></svg>`}const Tw=new Set(Object.values(tt));function Cw(t){return Tw.has(t)?yn(t):""}const Aw=yn(tt.TRIANGLE),Yu=yn(tt.CHEVRON),Ow=yn(tt.CHEVRON_NEGATIVE),xw=yn(tt.BULB),Rw="carousel",Zu="miso-carousel",Ju=Object.freeze({body:kw,controls:$w,controlContainer:Lw,control:Pw,controlIcon:Nw,indexIndicator:Uw,indexIndicatorItem:()=>"",trigger:()=>""}),Iw=Object.freeze({...et.defaultTemplates,...Ju});function kw(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__viewport"><div class="${n}__viewport-inner">${i.list(t,e,s)}</div></div>${i.controls(t,e,s)}`}function $w(t,e,s){const{templates:n}=t;return`${n.controlContainer(t,e,"previous")}${n.controlContainer(t,e,"next")}${n.indexIndicator(t,e,s)}`}function Lw(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-container-${s}">${i.control(t,e,s)}</div>`}function Pw(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}" data-role="${s}">${i.controlIcon(t,e,s)}</div>`}function Nw(t){return t.options.itemType==="image"?Ow:Yu}function Uw(t,e,s){const{className:n,templates:i}=t;return`<ul class="${n}__index-indicator" data-role="index-indicator">${s.map(r=>`<li class="${n}__index-indicator-item">${i.indexIndicatorItem(t,e,r)}</li>`).join("")}</ul>`}class Xu extends et{static get type(){return Rw}static get defaultTemplates(){return Iw}static get defaultClassName(){return Zu}constructor({className:e=Zu,templates:s,...n}={}){super({className:e,templates:{...Ju,...s},...n}),this._initSwipeable()}_render(e,s,n){super._render(e,s,n),this._renderSwipeable(e,s,n)}_afterRender(e,s){super._afterRender(e,s),this._afterRenderSwipeable(e,s)}_onClick(e){this._onClickSwipeable(e),super._onClick(e)}}fw(Xu.prototype);function Dw(t,e){const s=e*2;let n=Math.max(s-t,0),i=t;const r=Math.min(Math.floor(n/3),i);i-=r,n-=r*3;const o=Math.min(n,i);return i-=o,n-=o,[r,o,i]}function Fw(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r[c](t,e,s,{index:n}),u=s._size?` ${i}__item-${s._size}`:"";return`<li class="${i}__item${u}">${a}</li>`}const Mw="16rem",ef=Object.freeze({...et.defaultTemplates,item:Fw}),qw="gallery",tf="miso-gallery";class sf extends et{static get type(){return qw}static get defaultTemplates(){return ef}static get defaultClassName(){return tf}constructor({className:e=tf,templates:s,...n}={}){super({className:e,templates:{...ef,...s},...n}),this._galleryContext={itemAspectRatio:void 0,itemCount:void 0,columnCount:void 0}}syncSize(){const{element:e}=this._view,s=e&&this._getListElement(e);s&&(this._syncListAspectRatio(s),this._syncItemSizes(s))}_preprocess({state:e,rendered:s}){const n=this._shallRenderIncrementally(e,s),i=n?void 0:this._bodyHtml(e),r=this._itemsHtml(e,s);return{...e,...Z({incremental:n,bodyHtml:i,itemsHtml:r})}}_bodyHtml(e){return this.templates.root(this,{...e,value:[]})}_itemsHtml(e,s){const n=s&&s.value&&s.value.length||0,i=(this._getItems(e)||[]).slice(n);return i.length>0?this.templates.items(this,e,i,{offset:n}):""}_render(e,s,n){this._syncItemCount(s),this._syncCssVariables();const i=this._renderListElement(e,s,n);i&&(this._syncListAspectRatio(i),this._renderItems(i,s,n))}_renderListElement(e,{state:s}){const{incremental:n,bodyHtml:i}=s;return n||(e.innerHTML=i),this._getListElement(e)}_renderItems(e,s){s.state.incremental?this._appendItems(e,s):this._updateItems(e,s)}_updateItems(e,{state:s}){const{itemSizes:n}=this._galleryContext,i=this._writeItemSizes(this._getItems(s)||[],n);e.innerHTML=this.templates.items(this,s,i)}_appendItems(e,{state:s}){const{itemSizes:n}=this._galleryContext;this._syncItemSizes(e);const i=e.children.length,r=this._writeItemSizes((this._getItems(s)||[]).slice(i),n,i);e.insertAdjacentHTML("beforeend",this.templates.items(this,s,r,{offset:i}))}_writeItemSizes(e,[s=0,n=0]=[],i=0){let r=0;i>0&&(r=Math.min(i,s),i-=r,s-=r),i>0&&(r=Math.min(i,n),i-=r,n-=r);const o=[];for(const c of e){let a="small";s>0?(a="large",s--):n>0&&(a="medium",n--),o.push({...c,_size:a})}return o}_syncCssVariables(){const e=this._galleryContext;let{itemAspectRatio:s=1}=this.options;s=e.itemAspectRatio=xo(s);const{element:n}=this._view;n&&(n.style.setProperty("--miso-gallery-item-1x1-aspect-ratio",`${s}`),n.style.setProperty("--miso-gallery-item-1x2-aspect-ratio",`${s.scaleBy([1,2])}`))}_syncListAspectRatio(e){const s=this._galleryContext,{itemCount:n,itemAspectRatio:i}=s,{height:r=Mw}=this.options,o=aw(r),c=e.clientWidth;if(c===0){s.columnCount=void 0,s.itemSizes=void 0;return}const a=s.columnCount=Math.round(c*i.width*2/(o*i.height));s.itemSizes=Dw(n,a),e.style.aspectRatio=`${a} / 2`,e.style.height=n>0?"auto":"0"}_syncItemCount({state:e}={}){const s=this._getItems(e);this._galleryContext.itemCount=s?s.length:void 0}_syncItemSizes(e){const{itemSizes:s=[]}=this._galleryContext;let[n=0,i=0]=s;const{className:r}=this;for(const o of e.children){let c=!1,a=!1;n>0?(c=!0,n--):i>0&&(a=!0,i--),$s(o,`${r}__item-large`,c),$s(o,`${r}__item-medium`,a),$s(o,`${r}__item-small`,!c&&!a)}}}const jw="search-box",nf="miso-search-box",Bw="miso-autocomplete";function Hw(t){const{className:e,templates:s,role:n,options:i,autocomplete:r}=t,{placeholder:o}=i,c=n?`data-role="${n}"`:"";return`
<div class="${e}" ${c}>
  <div class="${e}__input-group">
    <input class="${e}__input" type="text" data-role="input" ${o?`placeholder="${o}"`:""}>
    <button class="${e}__button" type="submit" data-role="submit">${s.buttonContent(t)}</button>
  </div>
  <div class="${r.className}" data-role="autocomplete"></div>
</div>`.trim()}function zw(t){const{templates:e,options:s}=t;if(s.buttonText)return s.buttonText;const{buttonText:n,buttonIcon:i}=e,r=typeof n=="function"?n(t):`${n}`,o=typeof i=="function"?i(t):Cw(i)||`${i}`;return r+o}function Vw(t,e){const{templates:s,workflow:n,autocomplete:i}=t;t={templates:s,workflow:n,...i};const r=[],o=[];for(const c of e)(c.product?r:o).push(c);return s.queries(t,o)+(o.length>0&&r.length>0?"<hr>":"")+s.products(t,r)}function Ww(t,e){const{templates:s}=t;return s.completionList(t,"query",e)}function Qw(t,e){const{templates:s}=t;return s.completionList(t,"product",e)}function Gw(t,{text:e,text_with_inverted_markups:s}={}){return s||it(e)}function Kw(t,{product:e}){const{templates:s}=t,[n,i]=s.helpers.tagPair(t,e,{role:!1});return[n,s.imageBlock(t,e),s.productInfoBlock(t,e),i].join("")}function Yw(t,e,s){const{className:n,templates:i}=t;return`<ul class="${n}__${e}-list" data-role="${e}-list">${s.map(r=>i.completionItem(t,e,r)).join("")}</ul>`}function Zw(t,e,s){const{className:n,templates:i}=t;return`
<li class="${n}__${e}-item" data-role="${e}-item" data-index="${s._index}" tabindex="0">
  ${i[e](t,s)}
</li>`.trim()}const rf=Object.freeze({root:Hw,buttonContent:zw,buttonText:"",buttonIcon:"search",completions:Vw,completionList:Yw,completionItem:Zw,queries:Ww,products:Qw,query:Gw,product:Kw,imageBlock:Is,productInfoBlock:yo}),Jw=Object.freeze({className:Bw,debounce:300});class Ls extends rt{static get type(){return jw}static get defaultTemplates(){return rf}static get defaultClassName(){return nf}constructor({className:e=nf,templates:s,autocomplete:n,...i}={}){super({className:e,templates:{...rf,...s},...i}),ae(this,{autocomplete:{...Jw,...n}}),this._contexts=new WeakMap,this._prevInput=void 0,this._debounce=El(this.autocomplete.debounce)}initialize(e){const{proxyElement:s,hub:n}=e;this._unsubscribes=[...this._unsubscribes,s.on("input",i=>this._syncInput(i)),s.on("keydown",i=>this._handleKeyDown(i)),s.on("click",i=>this._handleClick(i)),s.on("focusin",i=>this._handleFocusIn(i)),s.on("focusout",i=>this._handleFocusOut(i)),n.on(uo(),()=>e.refresh({force:!0}))]}focus(){this._element?this._context().focus():this._focusRequested=!0}open(){this._element.classList.add("open")}close(){this._element.classList.remove("open")}set value(e){this._element?this._context().value=e:this._valueRequested=e}_preprocess({state:e}){return e=super._preprocess({state:e}),{...e,completions:this._view.hub.states[uo()]}}_render(e,s,n){e.childElementCount===0&&super._render(e,s,n),this._updateCompletions(e,s,n)}_afterRender(e,s){this._fullfillFocusRequest(e),this._fullfillValueRequest(e)}_updateCompletions(e,{state:s,rendered:n},{writeToState:i}){if(!s.completions)return;const{status:r=B.INITIAL,session:o,value:c}=s.completions,{index:a}=o;if(n&&n.completions.index===a&&n.completions.status===r)return;const u=this._context(e),{autocompleteElement:l}=u;if(!l)return;const f=u.trackItems(c);$s(e,"nonempty",f.length>0),l.setAttribute("data-status",r),l.innerHTML=this.templates.completions(this,f),i({completions:{index:a,status:r}})}_fullfillFocusRequest(e){!e||!this._focusRequested||(this._focusRequested=!1,this._context(e).focus())}_fullfillValueRequest(e){!e||!this._valueRequested||(this._context(e).value=this._valueRequested,this._valueRequested=void 0)}_context(e){if(e=e||this._view.element,!e)return Ps.empty();let s=this._contexts.get(e);return s||this._contexts.set(e,s=new Ps(e)),s}_syncInput(){const{inputElement:e}=this._context();if(!e)return;const s=e.value.trim();if(this._prevInput===s)return;this._prevInput=s;const n=this;this._debounce(()=>n._view.hub.update(hu(),{value:s}))}_handleFocusIn({target:e}){this._element&&e.matches('[data-role="input"]')&&(this._syncInput(),this.open())}_handleFocusOut({relatedTarget:e}){this._element&&(!e||!Jr(e,s=>s===this._element||void 0))&&this.close()}_handleKeyDown({key:e,target:s,isComposing:n}){!n&&e==="Enter"&&s.matches('[data-role="input"]')&&(this._submit(s.value),s.blur())}_handleClick(e){const{target:s}=e,{inputElement:n}=this._context();for(let i=s;i&&i!==this._element;i=i.parentElement){if(i.matches('[data-role="submit"]')||i.matches('[data-role="button"]')||i.matches('[type="submit"]')){n&&(n.blur(),this._submit(n.value));return}if(i.matches('[data-role="query-item"]')){const r=i.getAttribute("data-index"),o=this._context().data.get(parseInt(r)),c=o&&o.text;c&&(n&&(n.value=c),this._view._events.emit("select",Object.freeze({value:o,index:r,domEvent:e})),e.defaultPrevented||this._submit(c)),this.close();return}if(i.matches('[data-role="product-item"]')){this._view._events.emit("select",Object.freeze({value:item,index,domEvent:e}));return}}}async _submit(e){!e||!e.trim()||(this.close(),this._view.hub.update(Gt(),{q:e}),this._trackSubmit(e))}_trackSubmit(e){const{[Ne.SUBMIT]:s}=this._view.tracker.options||{};s&&this._view.tracker.submit({value:e})}}class Ps{static empty(){return Ps._empty||(Ps._empty=new Ps)}constructor(e){this._element=e,this._cache={},this._data=new Map}get inputElement(){return this._get("input")}get autocompleteElement(){return this._get("autocomplete")}get data(){return this._data}trackItems(e){let s=0;const n=this._data=new Map,i=[];for(const r in e)for(const o of e[r])o.product&&!o.product.url||(o._index=s,o._field=r,n.set(s,o),i.push(o),s++);return i}focus(){if(!this._element)return;const{inputElement:e}=this;e&&e.focus()}set value(e){if(!this._element)return;const{inputElement:s}=this;s&&(s.value=e)}_get(e){return this._element?this._cache[e]||(this._cache[e]=this._element.querySelector(`[data-role="${e}"]`)):void 0}}const Xw="option-list",of="miso-option-list";function e0(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"";return`
<div class="${s}" ${r}>
  ${i.options(t,e)}
</div>
`}function t0(t,e){const{className:s,templates:n}=t,i=e.value||[];return`
<ol class="${s}__options" data-role="options">
  ${i.map((r,o)=>n.option(t,r,{index:o})).join("")}
</ol>
`}function s0(t,e){const{className:s}=t,n=it(e.text||e);return`<li class="${s}__option" data-role="option" tabindex="0">${n}</li>`}const cf=Object.freeze({root:e0,options:t0,option:s0});class Ui extends rt{static get type(){return Xw}static get defaultTemplates(){return cf}static get defaultClassName(){return of}constructor({className:e=of,templates:s,...n}={}){super({className:e,templates:{...cf,...s},...n}),this._initTrackable()}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",n=>this._handleClick(n))]}_render(e,s,n){super._render(e,s,n);const{state:i}=s;this._syncOptionValues(e,i)}_afterRender(e,s){this._syncBindings(e,s)}_unrender(){this._clearBindings()}_syncOptionValues(e,s){const n=e&&this._getOptionsElement(e);if(!n)return;const i=this._getItems(s)||[];$s(n,"empty",i.length===0)}_getItems(e){return e.value}_getOptionsElement(e){return e.querySelector('[data-role="options"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="option"]')):[]}_handleClick(e){const s=e.target.closest('[data-role="option"]');if(!s)return;const n=this._bindings.get(s),i=n&&n.value;i&&(this._trackClick(e,n),this._select(i.text))}async _select(e){e&&this._view._events.emit("select",{value:e})}destroy(){this._destroyTrackable(),super.destroy()}}Oo(Ui.prototype);function n0(t){const{className:e,role:s,templates:n}=t,i=s?`data-role="${s}"`:"";return`
<div class="${e}" ${i}>
  ${n.options(t)}
</div>
`}function i0(t,e){const{className:s,templates:n}=t;return`
<div role="button" class="${s}__option" data-value="${e.value}">
  ${n.content(t,e)}
</div>
`}const af=Object.freeze({...vu("options"),root:n0,option:i0});class r0 extends rt{static get defaultTemplates(){return af}constructor({className:e,templates:s,field:n,defaultValue:i,...r}={}){super({className:e,templates:{...af,...s},...r}),this._field=n,this._defaultValue=i}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,e.hub.on(this._field,()=>this._refresh()),s.on("click",n=>this._handleClick(n))],this._defaultValue?this._select(this._defaultValue,{silent:!0}):this._clear({silent:!0})}_preprocess(e,s){return e.rendered&&s.skip(),super._preprocess(e,s)}_handleClick({target:e}){const s=Jr(e,o=>o.hasAttribute("data-value")?o:void 0);if(!s)return;let{unselected:n,value:i}=this._view.hub.states[this._field];n=n||i===void 0;const r=s.getAttribute("data-value");n||i===void 0||i!==r?this._select(r):this._clear()}_refresh(){this._state=this._view.hub.states[this._field],vi(()=>this._syncValueAttribute())}_syncValueAttribute(){if(!this._state||!this._view)return;const{element:e}=this._view,s=e&&e.children[0];if(!s)return;let{unselected:n,value:i}=this._state;n?s.removeAttribute("data-selected"):s.setAttribute("data-selected",i),this._state=void 0}_select(e,s){this._submit({value:e},s)}_clear(e){this._submit({unselected:!0},e)}async _submit(e,s){this._view.hub.update(this._field,e,s)}}const o0="feedback",lf="miso-feedback",c0=["helpful","unhelpful"];function a0(t){const{templates:e}=t;return c0.map(s=>e.option(t,{value:s})).join("")}function l0(t,{value:e}){const{className:s,templates:n,options:i={}}=t;return`
${i.icon!==!1?`<i class="${s}__icon">${n.icon(t,e)}</i>`:""}
${i.text!==!1?`<span class="${s}__text">${n.text(t,e)}</span>`:""}
`}function u0(t,e){switch(e){case"helpful":case"unhelpful":return jb;default:return""}}function f0(t,e){switch(e){case"helpful":return"Helpful";case"unhelpful":return"Not helpful";default:return""}}const uf=Object.freeze({options:a0,content:l0,icon:u0,text:f0});class ff extends r0{static get type(){return o0}static get defaultTemplates(){return uf}static get defaultClassName(){return lf}constructor({className:e=lf,templates:s,...n}={}){if(super({className:e,templates:{...uf,...s},field:du(),...n}),n.text===!1&&n.icon===!1)throw new Error("At least one of options.text or options.icon must be enabled")}}const d0="text",df="miso-text";function h0(t,{value:e}){const{className:s,role:n,options:{raw:i=!1,tag:r}}=t,o=n?`data-role="${n}"`:"",c=e!==void 0?it(_0(t)(e)):"";return i?c:`<${r} class="${s}" ${o}>${c}</${r}>`}function _0(t){let{format:e}=t.options;const{formatDate:s,formatNumber:n}=t.templates.helpers;if(!e)return o=>`${o}`;switch(typeof e){case"function":return e;case"string":e=[e];break}let[i,r]=e;switch(i){case"date":return o=>s(o,r);case"number":return o=>n(o,r);default:return o=>`${o}`}}const hf=Object.freeze({root:h0});class En extends rt{static get type(){return d0}static get defaultTemplates(){return hf}static get defaultClassName(){return df}constructor({className:e=df,templates:s,tag:n="p",...i}={}){super({className:e,templates:{...hf,...s},tag:n,...i})}}class p0 extends wo{constructor(e){super(e)}_takePending(){return this._pending}_applyRender(e,s={}){const n=Ci(!1);super._applyRender(e,{...s,loop:n.t}),n.value&&this._requestRaf()}}class m0{clear(e){return e.innerText="",{cursor:0,done:!1}}update(e,{value:s,cursor:n},{value:i,cursor:r,done:o}){const c=i.length;r=Math.min(r,c);const a=!!o&&r===c,u=s.substring(0,n),l=!i.startsWith(u);return a||l?e.innerText=i:e.insertAdjacentText("beforeend",i.substring(n,r)),a&&e.classList.add("done"),{cursor:r,done:a}}}function g0(t,e,{status:s}){if(!e)return;e.children.length===0&&(e.innerHTML=b0(t));const n=e.children[0];return n.setAttribute("data-status",s||B.INITIAL),n}function b0(t){let{className:e,role:s,options:{tag:n,format:i,builtInStyles:r=!0}}=t;n==="auto"&&(n=i==="markdown"?"div":"p");const o=s?`data-role="${s}"`:"",c=[e,_f(e)];return r&&i==="markdown"&&c.push("miso-markdown"),`<${n} class="${c.join(" ")}" ${o} data-format="${i}"></${n}>`}function _f(t){return`${t}__cursor`}function w0(t,e){return t&&e&&t.session&&e.session&&t.session.uuid===e.session.uuid}function y0(t){if(t===!0)return E0();if(t){if(typeof t=="function")return t;throw new Error("onDebug must be a function or a boolean")}}function E0(t=performance.now()){return function({summary:e,timestamp:s,elapsed:n,ref:i,operation:r,conflict:o}){MisoClient.debug("<progressive-markdown>",`[${S0(s-t)}](${pf(n[0])}, ${pf(n[1])})`,e,`${r}`,i,o)}}function S0(t){return`${Math.floor(t)/1e3}s`}function pf(t){return`${Math.floor(t*100)/100}ms`}const v0="typewriter",mf="miso-typewriter";class Sn extends p0{static get type(){return v0}static get defaultClassName(){return mf}constructor({className:e=mf,tag:s="auto",format:n="markdown",tooltip:i=!1,speed:r,acceleration:o,nextCursorFn:c,...a}={}){super({tag:s,format:n,tooltip:i,...a}),ae(this,{className:e}),this._prevState=void 0,this._getNextCursor=typeof c=="function"?c:s1({speed:r,acceleration:o}),this._readiness=new xt,n==="markdown"&&Sn.MisoClient.plugins.install("std:ui-markdown")}initialize(){this._setup()}async _setup(){try{switch(this.options.format){case"plaintext":await this._setupForPlaintext();break;default:await this._setupForMarkdown()}this._readiness.resolve()}catch(e){this._readiness.reject(e)}}async _setupForMarkdown(){const e=await this._view._views._extensions.require("markdown");if(!this._view)return;const s=_f(this.className),{onDebug:n,onCitationLink:i,variant:r}=this.options;this._renderer=e.createRenderer({cursorClass:s,getSource:o=>this._getSource(o),onCitationLink:i,onDebug:y0(n),variant:r}),this._unsubscribes.push(this._view.proxyElement.on("click",o=>this._onClick(o)))}_getSource(e){const{data:s={}}=this._view._data,{sources:n=[]}=s;return n[e]}async _setupForPlaintext(){this._renderer=new m0}async _ready(){return this._readiness.promise}async render(...e){await this._ready(),await super.render(...e)}_preprocess({state:e}){const s=this._prevState,{value:{value:n="",stage:i,finished:r}={},session:o,status:c}=e,a=w0(s,e),u=a&&i===s.stage,l=s?u?s.streak:s.streak+1:0,f=a&&s&&s.doneAt||(c===B.READY&&r?performance.now():void 0),_=f!==void 0;return this._prevState=Object.freeze(Z({session:o,status:c,value:n,stage:i,streak:l,doneAt:f,done:_}))}_render(e,{state:s,rendered:n},{notifyUpdate:i,writeToState:r,loop:o}){const c=g0(this,e,s);let a;const u=!n||s.streak!==n.streak;if(u)a=this._renderer.clear(c,n);else{const _=this._getNextCursor(n.cursor,s.doneAt,n.timestamp,s.timestamp);a=this._renderer.update(c,n,{...s,cursor:_})}r(a);const l=s.status===B.READY&&!a.done,f=l&&(!n||n.status===B.READY)&&!u;i({ongoing:l},{silent:f}),l&&o()}_onClick(e){const{target:s}=e,n=s.closest('[data-role="citation-link"]');if(n){const o=parseInt(n.dataset.index);Number.isNaN(o)||this._view._events.emit("citation-click",{event:e,index:o});return}const i=s.closest('[data-role="follow-up-link"]');if(i){let{q:o}=i.dataset;o=o?o.trim():void 0,o&&this._view._events.emit("follow-up-click",{event:e,q:o});return}const r=s.closest("a");if(r){if(!e.defaultPrevented){const{href:o,innerText:c,className:a}=r;o&&this._view._events.emit("link-click",Z({event:e,url:o,text:c?c.trim():"",className:a||"",attributes:T0(r)}))}return}}}function T0(t){const{attributes:e}=t,s={};for(const{name:n,value:i}of e)n.startsWith("data-")&&(s[n]=i);try{return JSON.stringify(s)}catch{return"{}"}}const C0="affiliation",gf="miso-affiliation";function A0(t,e){const{className:s,role:n,templates:i,options:r}=t,{status:o}=e,c=n?` data-role="${n}"`:"",a=e.value||{},u=a.channel?` data-channel="${a.channel}"`:"",l=t._getItems(e),f=l?l.length:void 0,_=f!==void 0?` data-item-count="${f}"`:"",w=r.itemType?` data-item-type="${r.itemType}"`:"";return`<div class="${s} ${o}"${c}${u}${w}${_}>${o===B.READY?i[o](t,e):""}</div>`}function O0(t,e){const{templates:s}=t,n=t._getItems(e);return n&&n.length>0?s.controlContainer(t,e,"previous")+s.body(t,e)+s.controlContainer(t,e,"next"):s.empty(t,e)}function x0(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}-container">${i.control(t,e,s)}</div>`}function R0(t,e,s){const{className:n,templates:i}=t;return`<div class="${n}__control-${s}" data-role="${s}">${i.controlIcon(t,e,s)}</div>`}function I0(t,e,s){return Aw}function k0(t,e){const{className:s,templates:n}=t,i=t._getItems(e);return`<div class="${s}__body">${n.list(t,e,i)}</div>`}function $0(t,e,s,n){const{className:i,templates:r,options:o}=t,{itemType:c}=o,a=r.itemHeader(t,e,s,{index:n}),u=r[c](t,e,s,{index:n});return`<li class="${i}__item"><div class="${i}__item-inner">${a}${u}</div></li>`}function L0(t,e,s,n){const{className:i,templates:r}=t;let{itemHeaderLeftText:o,itemHeaderRightText:c}=r;return o=$t.asFunction(o)(t,e,s,n),c=$t.asFunction(c)(t,e,s,n),`<div class="${i}__item-header">
  <div class="${i}__item-header-left">${o}</div>
  <div class="${i}__item-header-right">${c}</div>
</div>`}function P0(t,e,s,n){const{className:i,templates:r}=t,o=$t.asFunction(r.logoText)(t,e,s,n)||"",c=$t.asFunction(r.logoImg)(t,e,s,n);return c?`<span class="${i}__item-header-logo-text">${o}</span>${c}`:""}function N0(t,e,s,n){const{className:i,templates:r}=t,o=$t.asFunction(r.logoUrl)(t,e,s,n);if(!o)return"";const c=$t.asFunction(r.logoAltText)(t,e,s,n),a=c?` alt="${c}"`:"";return`<img class="${i}__item-header-logo" src="${o}"${a}>`}const bf=Object.freeze({root:A0,[B.READY]:O0,controlContainer:x0,control:R0,controlIcon:I0,body:k0,item:$0,itemHeader:L0,affiliation:Ob,ctaText:"View deal",itemHeaderLeftText:"Today's best deals",itemHeaderRightText:P0,logoImg:N0,logoText:"Selected by"}),U0=Object.freeze({...et.defaultTemplates,...bf});class wf extends et{static get type(){return C0}static get defaultTemplates(){return U0}static get defaultClassName(){return gf}constructor({className:e=gf,templates:s,autoplay:n,...i}={}){super({className:e,itemType:"affiliation",templates:{...bf,...s},...i}),this._itemCount=void 0,this._itemIndex=0,this._displayedCount=void 0,this._displayedIndex=void 0,this._viewable=void 0}initialize(e){super.initialize(e);const{viewable:s}=this._view.tracker.options||{};this._viewable=new l1(this._onViewable.bind(this),s)}get itemIndex(){return this._itemIndex}set itemIndex(e){this._itemCount!==void 0&&(e<0?e=this._itemCount-1:e>=this._itemCount&&(e=0),this._itemIndex=e,vi(()=>this._syncItemIndex()))}next(){this._itemCount!==void 0&&this.itemIndex++}previous(){this._itemCount!==void 0&&this.itemIndex--}_render(e,s,n){super._render(e,s,n),this._syncItemCount(s),this._syncItemIndex()}_syncElement(e){const s=this._element;super._syncElement(e),this._syncViewableElement(s,e)}_syncViewableElement(e,s){e!==s&&(e&&this._viewable.unobserve(e),s&&this._viewable.observe(s))}_syncItemCount({state:e}={}){const s=this._getItems(e),n=this._itemCount=s?s.length:void 0;if(n===this._displayedCount)return;let{element:i}=this._view;i=i.firstElementChild,i&&(Wu(i,"data-item-count",n),this._displayedCount=n)}_syncItemIndex(){const e=this._itemIndex;if(e===this._displayedIndex)return;const{element:s}=this._view,n=s&&this._getListElement(s);n&&(this._displayedIndex=e,n.style.left=`${-e*100}%`,this._viewable.display(e),this._view._events.emit("display",{index:e}))}_onViewable(e){const s=this._getRenderedItemData(e);s&&this._view.tracker.viewable([s])}_getRenderedItemData(e){const{value:s}=this._rendered.get(this._element)||{};if(!s)return;const{products:n=[]}=s;return n[e]}_trackViewables(){}_onClick(e){const s=e.target;if(s.closest('[data-role="previous"]')){this.previous();return}if(s.closest('[data-role="next"]')){this.next();return}super._onClick(e)}}const D0="facets",yf="miso-facets",Di="miso-facet",Ef="custom_attributes.";function F0(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"";return`<div class="${s}" ${r}>${i.facets(t,e)}</div>`}function M0(t,e){const{templates:s}=t,{facet_fields:n={}}=e.value||{};return Object.keys(n).map(i=>s.facet(t,{field:i,entries:n[i]},e))}function q0(t,e,s){const{facetClassName:n=Di,templates:i}=t,{field:r}=e;return`<div class="${n}" data-role="facet" data-field="${it(r)}">${i.header(t,e,s)}${i.options(t,e,s)}</div>`}function j0(t,e,s){const{facetClassName:n=Di,templates:i}=t;return`<div class="${n}__header">${i.title(t,e,s)}</div>`}function B0(t,{field:e}){return e.startsWith(Ef)&&(e=e.substring(Ef.length)),it(e)}function H0(t,{field:e,entries:s},n){const{facetClassName:i=Di,templates:r}=t;return`<ul class="${i}__options" data-role="options">${s.map(([o,c])=>r.option(t,{field:e,value:o,count:c},n)).join("")}</ul>`}function z0(t,e,s){const{facetClassName:n=Di,templates:i}=t;return`
<li class="${n}__option" data-role="option" tabindex="0">
  <span class="${n}__value">${i.value(t,e,s)}</span>
  <span class="${n}__count">${i.count(t,e,s)}</span>
</li>`}function V0(t,{value:e},s){return it(e)}function W0(t,{count:e},s){return t.templates.helpers.formatNumber(e)}const Sf=Object.freeze({root:F0,facets:M0,facet:q0,header:j0,title:B0,options:H0,option:z0,value:V0,count:W0});function Q0(t,e){return`${t}:::${e}`}function vf(t){const e={};for(const s in t)e[s]=new Set(t[s]);return e}class Tf extends rt{static get type(){return D0}static get defaultTemplates(){return Sf}static get defaultClassName(){return yf}constructor({className:e=yf,templates:s,...n}={}){super({className:e,templates:{...Sf,...s},...n}),this._bindings=new qu}initialize(e){const{proxyElement:s,filters:n}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",i=>this._handleClick(i)),n.on("update",i=>this._updateSelections(i)),n.on("reset",()=>this._syncSelections())]}_render(e,s,n){super._render(e,s,n)}_afterRender(e,s){this._syncBindings(e,s),this._syncSelections()}_unrender(){this._clearBindings()}_syncSelections(){const e=vf(this._view.hub.states[xs()].facets);for(const{value:{field:s,value:n},element:i}of this._bindings.entries)this._setSelected(i,e[s]&&e[s].has(n))}_updateSelections({updates:e}){const s=vf(e.facets);for(const{value:{field:n,value:i},element:r}of this._bindings.entries)s[n]&&this._setSelected(r,s[n].has(i))}_setSelected(e,s){e&&(s?e.classList.add("selected"):e.classList.remove("selected"))}_syncBindings(e,s){if(!e||!s.value)return;const n=this._getItems(s),i=[],r=[],o=[];for(const c of this._getFacetElements(e)){const a=c.getAttribute("data-field"),u=n[a];if(!u)continue;const l=this._getItemElements(c);for(let f=0;f<l.length;f++){const _=l[f],w=u[f];if(!w)break;i.push(Q0(a,w)),r.push({field:a,value:w}),o.push(_)}}this._bindings.update(i,r,o)}_clearBindings(){this._bindings.clear()}_getItems({value:e}={}){const{facet_fields:s={}}=e||{},n={};for(const i in s)n[it(i)]=s[i].map(([r])=>r);return n}_getFacetElements(e){return Array.from(e.querySelectorAll('[data-role="facet"]'))}_getFacetElement(e,s){return e.querySelector(`[data-role="facet"][data-field="${s}"]`)}_getItemElements(e){return Array.from(e.querySelectorAll('[data-role="option"]'))}_handleClick(e){if(e.button!==0)return;const s=e.target.closest('[data-role="option"]');if(!s)return;const n=this._bindings.get(s),i=n&&n.value;if(!i)return;const{field:r,value:o}=i;this._view.filters.facets.toggle(r,o),this._view.filters.apply()}destroy(){this._bindings.clear(),super.destroy()}}const G0="select",Cf="miso-select";function K0(t,e){const{className:s,role:n,templates:i}=t,r=n?`data-role="${n}"`:"",o=t._getItems(e),c=o.find(a=>a.selected)||o[0];return`
<div class="${s}" ${r}>
  ${i.button(t,c)}
  ${i.options(t,e)}
</div>`}function Y0(t,e){const{className:s,templates:n}=t;return`<button class="${s}__button" data-role="button" tabindex="0">${n.text(t,e)}</button>`}function Z0(t,e){const{className:s,templates:n}=t,i=t._getItems(e);return`<ul class="${s}__options">${i.map((r,o)=>n.option(t,r,{index:o})).join("")}</ul>`}function J0(t,e){const{className:s,templates:n}=t,i=e.selected?"selected":"";return`<li class="${s}__option ${i}" data-role="option" tabindex="0">${n.text(t,e)}</li>`}function X0(t,e){return it(e&&e.text&&Rm(e.text)||e||"")}const Af=Object.freeze({root:K0,button:Y0,options:Z0,option:J0,text:X0});class Ro extends rt{static get type(){return G0}static get defaultTemplates(){return Af}static get defaultClassName(){return Cf}constructor({className:e=Cf,templates:s,...n}={}){super({className:e,templates:{...Af,...s},...n}),this._initTrackable()}initialize(e){const{proxyElement:s}=e;this._unsubscribes=[...this._unsubscribes,s.on("click",n=>this._handleClick(n))]}_afterRender(e,s){this._syncBindings(e,s)}_unrender(){this._clearBindings()}_getItems(e){return e.value||[]}_getOptionsElement(e){return e.querySelector('[data-role="options"]')}_getItemElements(e){return e?Array.from(e.querySelectorAll('[data-role="option"]')):[]}_handleClick(e){if(this._element)for(let s=e.target;s&&s!==this._element;s=s.parentElement){const{role:n}=s.dataset;switch(n){case"button":this._toggle();break;case"option":const i=this._bindings.get(s);this._select(i&&i.value);break}}}_toggle(){if(!this._element)return;const e=this._element.children[0];e&&e.classList.toggle("open")}async _select(e){e&&this._view._events.emit("select",{value:e})}destroy(){this._destroyTrackable(),super.destroy()}}Oo(Ro.prototype);const ey="more-button",Of="miso-more-button";function ty(t,e){const{className:s,role:n,templates:i}=t,r=n?` data-role="${n}"`:"",o=e.status!==B.READY?" disabled":"";return`
<div class="${s}"${r}${o}>
  ${i.text(t)}
</div>
`}const xf=Object.freeze({root:ty,text:sy});function sy(t){return"More"}class Rf extends rt{static get type(){return ey}static get defaultTemplates(){return xf}static get defaultClassName(){return Of}constructor({className:e=Of,templates:s,...n}={}){super({className:e,templates:{...xf,...s},...n})}initialize(e){this._unsubscribes=[...this._unsubscribes,e.proxyElement.on("click",s=>this._handleClick(s))]}_handleClick(e){if(e.button!==0)return;const s=e.target.closest('[data-role="more"]');!s||s.disabled||this._view.hub.trigger(_o())}}const ny=Object.freeze(Object.defineProperty({__proto__:null,AffiliationLayout:wf,BannerLayout:Vb,CardsLayout:cw,CarouselLayout:Xu,CollectionLayout:et,ContainerLayout:Nu,ErrorLayout:Du,FacetsLayout:Tf,FeedbackLayout:ff,GalleryLayout:sf,HorizontalLayout:zu,ListLayout:ks,MoreButtonLayout:Rf,OptionListLayout:Ui,SearchBoxLayout:Ls,SelectLayout:Ro,TemplateBasedLayout:rt,TextLayout:En,TypewriterLayout:Sn},Symbol.toStringTag,{value:"Module"}));function iy(t,{hub:e,workflowOptions:s={}}={}){const{sort:{options:n=[]}={}}=s.filters||{};if(!n.length)return[];const{sort:i}=e.states[xs()]||{},r=i&&i.field||ry(n).field;return r?n.map(o=>({...o,selected:o.field===r})):n}function ry(t){for(const e of t)if(e.default)return e;return t[0]}function oy(t){if(!t||!t.value)return;const{answer:e="",answer_stage:s,finished:n}=t.value;return Object.freeze({value:e,stage:s,finished:!!n})}function cy(t){if(!t||!t.value)return;const{reasoning:e="",reasoning_finished:s}=t.value;return Object.freeze({value:e,stage:"reasoning",finished:!!s})}function ay(t,{workflow:e}={}){const s=e.previous,n=s&&s.states[Oe()].value,i=n&&(n.suggested_followup_questions||n.followup_questions||[]);return i&&i.map(r=>({text:r}))}function ly(t){if(!(!t||!t.value))return(t.value.followup_questions||[]).map(e=>({text:e}))}function If({qs:t,...e}={}){return Oi(e,{metadata:{question_source:t||cs.ORGANIC}})}function uy(t,e){return e===Qt.QUERY?t:{...t,answer:!1}}function kf(t){return t&&t.value&&t.value.revision}function fy(t,e){if(!t||!t.value||t.request||!e||!e.request)return t;const{request:s}=e;return{...t,request:s}}function dy(t){const e=hy(t),s=e===B.READY?t.ongoing:void 0;return Z({status:e,ongoing:s,...t})}function hy(t){if(!t)return B.INITIAL;const{request:e,error:s,value:n}=t;return s?B.ERRONEOUS:n?B.READY:e?B.LOADING:B.INITIAL}function _y(t){const{value:e}=t;if(!e)return t;const{miso_id:s}=e;return s?{...t,meta:{...t.meta,miso_id:s}}:t}function $f(t){const{session:e,value:s}=t;if(!e||!s)return;const{miso_id:n}=s;n&&(e.meta.miso_id=n)}function py(t){const{session:e,value:s}=t;if(!e||!s)return t;const{meta:{miso_id:n}={}}=e;return n?{...t,meta:{...t.meta,miso_id:n}}:t}function Lf(t){const{request:e,value:s}=t;if(!e)return t;const{payload:n}=e||{},{q:i}=n||{};return i?{...t,value:{...s,keywords:i}}:t}function my(t){const{value:e}=t;if(!e)return t;const{answer_stage:s}=e;return s?{...t,ongoing:!e.finished,meta:{...t.meta,answer_stage:s}}:t}function gy(t,e){if(!e)return t;const{status:s,value:n}=t;switch(s){case B.INITIAL:case B.LOADING:break;default:return t}return n&&n.facet_counts?t:{...t,value:{...n,facet_counts:e}}}function by(t){const{value:e}=t;if(!e)return t;const{miso_id:s}=e;return s?{...t,value:{...e,root_miso_id:s}}:t}function wy(t,e,{role:s=b.PRODUCTS}={}){if(!e.value)return t;const{[s]:n=[],facet_counts:i,total:r,root_miso_id:o}=t.value,{[s]:c=[]}=e.value;return{...e,value:{...e.value,facet_counts:i,total:r,root_miso_id:o,[s]:[...n,...c]}}}function yy(t,{role:e=b.PRODUCTS}={}){const{status:s,request:n,value:i}=t;if(s!==B.READY||!n||!i)return t;const{[e]:r}=i;if(!r)return t;const{rows:o}=n.payload,{length:c}=r;return c<o?{...t,meta:{...t.meta,exhausted:!0}}:t}function Ey(t,e){const{question_id:s}=e&&e.value||{};return s?{...t,value:{...t.value,question_id:s}}:t}function Sy(t){const{role:e,type:s,items:n}=t,i={type:s==="viewable"?"viewable_impression":s,context:{custom_context:Z({property:e})}};switch(gg(s)&&(vy(e,n)?i.product_ids=(n||[]).map(r=>typeof r=="string"?r:r.product_id).filter(r=>r):(i.product_ids=[],i.context.custom_context.items=(n||[]).map(r=>r.text||r.id||r))),s){case Ne.SUBMIT:i.context.custom_context.value=t.value;break;case Ne.FEEDBACK:i.context.custom_context.value=i.value=t.value,i.context.custom_context.result_type=i.result_type=t.result_type;break}return Z(i)}function vy(t,e=[]){return pg(t)||e.length>0&&typeof e[0]=="object"&&e[0].product_id}function Ty(t,e){const{data:s}=e;if(!s)return t;const n=s.request&&s.request.payload&&s.request.payload.metadata;return n?Je(t,{context:{custom_context:n}}):t}function Cy(t,e){const{data:s}=e;if(!s)return t;const n=s.request&&s.request.payload;if(!n)return t;const{question:i,q:r,fq:o}=n;return Je(t,{context:{custom_context:{question:i,q:r,fq:o}}})}function Ay(t,e){if(e.role!==b.AFFILIATION)return t;const{items:s}=e,n=s[0]&&s[0].channel||void 0,i=s.map(r=>r.position);return Je(t,{context:{custom_context:{channel:n,positions:i}}})}function Pf(t,e){return t=Oy(t,e),t=xy(t,e),t=Ry(t,e),t}function Oy(t={},{data:e}={}){if(!e)return t;const{request:s={},value:n={}}=e,{question_source:i}=s.payload&&s.payload.metadata||{},{question_id:r}=n;return Je(t,{context:{custom_context:{question_source:i,question_id:r}}})}function xy(t,e){if(e.role!==b.ANSWER)return t;const{items:s=[]}=e;return Je(t,{context:{custom_context:{urls:s.map(n=>n.url),texts:s.map(n=>n.text),class_names:s.map(n=>n.className),attributes:s.map(n=>n.attributes)}}})}function Ry(t,{event_target:e}={}){return e?Je(t,{context:{custom_context:{event_target:e}}}):t}function Iy(t){const{value:e}=t;return!e||!e.finished||e.finish_reason!=="success"||e.sources&&e.sources.length>0?t:{...t,meta:{...t.meta,unanswerable:!0}}}const Nf=Object.freeze({}),Uf=Object.freeze({[b.CONTAINER]:Nu.type,[b.ERROR]:Du.type}),Df=Object.freeze({}),ky=Object.freeze({api:Nf,layouts:Uf,trackers:Df}),$y=Object.freeze({mappings:{[b.ERROR]:t=>t.error}});class fe extends Me{constructor(e){super(e.name||"workflow",e.plugin);let{context:s,plugin:n,client:i,defaults:r,options:o,extraOptions:c}=e;this._context=s,this._plugin=n=n||s._plugin,this._client=i=i||s._client,e=Object.freeze({...e,plugin:n,client:i}),this._name=e.name,this._roles=e.roles,this._extensions=n._getExtensions(i),this._defaults=r,this._options=o||new iu(s&&s._options,r),this._extraOptions=c||{},this._hub=new Yg({onUpdate:a=>this._onHubUpdate(a),onEmit:a=>this._onHubEmit(a)}),this._sessionContext=new WeakMap,i._events.emit("workflow",this),this._initProperties(e),this._initActors(e),this._initSubscriptions(e),this._initSession(e)}_initProperties(){}_initActors({roles:e}){const s=this._hub,n=this._client,i=this._options,r=this._extensions,o=this._plugin.layouts;this._sessions=new Zg(s),this._data=new Jg(s,{source:Su(n),options:i,...this._extraOptions.api}),this._views=new gb(s,{extensions:r,layouts:o,roles:e,options:i,workflow:this}),this._interactions=new Eb(s,{client:n,options:i})}_initSubscriptions({roles:e}){this._unsubscribes=[this._hub.on(ki(),s=>this._onSession(s)),this._hub.on(uu(),s=>this.updateData(s)),this._hub.on(ho(),s=>this._onTracker(s))],e.main&&this._unsubscribes.push(this._hub.on(kt(e.main),s=>this._onMainViewUpdate(s)))}_initSession(){this.restart()}_getSessionContext(e){let s=this._sessionContext.get(e);return s||this._sessionContext.set(e,s={}),s}_onHubUpdate(e){this._runCallbacks(this._client.meta.parent._hubUpdateCallbacks,e)}_onHubEmit(e){this._runCallbacks(this._client.meta.parent._hubEmitCallbacks,e),this._emitAsWorkflowEvent(e)}_emitAsWorkflowEvent({action:e,name:s,state:n,silent:i}){i||this._emit(s,{_action:e,...n})}get uuid(){return this.session&&this.session.uuid}get session(){return this._hub.states[ki()]}get states(){return this._hub.states}get status(){const e=this._hub.states[Oe()];return e&&e.status}get views(){return this._views.interface}restart(){return this._emitInterruptEventIfNecessary(),this._sessions.restart(),this}_emitInterruptEventIfNecessary(){const{main:e}=this._roles;if(!e)return;const s=this._hub.states[kt(e)]||{};s.session&&s.status===B.LOADING&&(this._emitLifecycleEvent("interrupt",s),this._emitLifecycleEvent("finally",s))}_onSession(e){this.updateData({session:e})}_onMainViewUpdate(e){const{status:s}=e,n=s===B.READY,i=s===B.ERRONEOUS,r=i?"error":s;this._emitLifecycleEvent(r,e),n&&this._emitLifecycleEvent("done",e),(n||i)&&this._emitLifecycleEvent("finally",e)}_shallEmitLifecycleEvent(e,{session:s}){const n=this._getSessionContext(s),i=n.lifecycleEvents||(n.lifecycleEvents=new Set),r=i.has(e);return i.add(e),!r}_emitLifecycleEvent(e,s){this._shallEmitLifecycleEvent(e,s)&&this._emit(e,s)}_request(e={}){const{session:s}=this,n=eu(this._options.resolved.api,e);this.updateData({session:s,request:n}),this._hub.update(fo(),{...n,session:s})}updateData(e){if(!e)throw new Error("Data is required.");const{session:s}=e;if(!s)throw new Error("Session is required to update data.");if(!this.session)throw new Error("No session is created yet. Call workflow.restart() to start a new session.");if(s.uuid!==this.session.uuid)return;const n=kf(e);if(!Si(n)){const i=kf(this._hub.states[Oe()]);if(!Si(i)&&n<=i)return}return this._updateData(e),this}_updateData(e){const s=this._hub.states[Oe()];e=this._defaultProcessData(e,s);for(const n of this._options.resolved.dataProcessor)e=n(e,s);this._updateDataInHub(e,s)}_defaultProcessData(e,s){return e=fy(e,s),e=dy(e),e=_y(e),e}_updateDataInHub(e){this._hub.update(Oe(),e)}notifyViewUpdate(e,s){return s={status:B.READY,session:this.session,...s},this._hub.update(kt(e),s),this}get trackers(){return this._views.trackers}_onTracker(e){const s=this,n=this._hub.states[Oe()],i=this._buildInteraction({...e,data:n,workflow:s});this._sendInteraction(i)}_buildInteraction(e){let s=Sy(e);s=this._defaultProcessInteraction(s,e);const{preprocess:n=[]}=this._options.resolved.interactions;for(const i of n)s=i(s,e);return s}_defaultProcessInteraction(e,s){return e=this._writeApiInfoToInteraction(e,s),e=this._writeMisoIdToInteraction(e,s),e=Cy(e,s),e=Ty(e,s),e=Ay(e,s),e}_writeApiInfoToInteraction(e){const{group:s,name:n}=this._options.resolved.api;return Je(e,{context:{custom_context:{api_group:s,api_name:n}}})}_writeMisoIdToInteraction(e,s){const n=this._hub.states[kt(s.role)]||{},i=n.meta&&n.meta.miso_id||void 0;return i?Je(e,{miso_id:i}):e}_sendInteraction(e){const{handle:s}=this._options.resolved.interactions;typeof s=="function"?s(e):this._hub.trigger(fu(),e)}destroy(e){this._emit("destroy"),this._destroy(e)}get destroyed(){return!!this._destroyed}_destroy({dom:e}={}){for(const s of this._unsubscribes||[])s();this._unsubscribes=[],this._views._destroy({dom:e}),this._data._destroy(),this._destroyed=!0}_runCallbacks(e,s){for(const n of e)try{n({workflow:this,...s})}catch(i){this._error(i)}}_emit(e,s){this._events.emit(e,{_event:e,...s}),this._context&&this._context._events.emit(e,{workflow:this,_event:e,...s})}}wn(fe.prototype),Object.assign(fe,{DEFAULT_API_OPTIONS:Nf,DEFAULT_LAYOUTS:Uf,DEFAULT_TRACKERS:Df,DEFAULT_OPTIONS:ky,ROLES_OPTIONS:$y});function Ly(t){if(!t||!t.value)return t;const{value:e}=t;return{...t,value:Py(e)}}function Py(t){if(t.affiliation_products){const{affiliation_products:e,...s}=t;t={...s,affiliation:Uy(e)}}else if(t.sovrn_aff){const{sovrn_aff:e,...s}=t;t={...s,affiliation:Dy(e)}}return Ny(t)}function Ny(t){const{affiliation:e}=t;if(!e)return t;let{channel:s,products:n}=e;if(!n)return t;n=n.map(r=>({...r}));let i=0;for(const r of n)s&&(r.channel=s),r.position=i++;return{...t,affiliation:{...e,products:n}}}function Uy(t){return{channel:"miso",products:t}}function Dy({products:t,...e}){return{channel:"sovrn",...e,products:t.map(Fy)}}function Fy({id:t,deeplink:e,headline:s,description:n,currency:i,retailPrice:r,salePrice:o,discountRate:c,image:a,thumbnail:u,merchant:l,...f}){const _=l&&l.name,w=l&&l.logo;return Z({id:`sovrn-${t}`,title:s,description:n,cover_image:a,url:e,currency:i,original_price:r,sale_price:o,discount_rate_percent:c,brand:_,brand_logo:w,custom_attributes:Ff({sovrn_id:t,thumbnail:u,merchant:l,...f})})}function Ff(t,e=""){return Object.keys(t).reduce((s,n)=>{const i=t[n];if(i===void 0)return s;const r=e?`${e}_${n}`:n;return typeof i=="object"?{...s,...Ff(i,r)}:{...s,[r]:i}},{})}function Mf(t){pn(t,Io.prototype)}class Io{useLink(e,s={}){if(typeof e!="function"&&e!==!1)throw new Error("useLink(fn) expects fn to be a function or false");return this._linkFn=e?[e,s]:!1,this}_submitToPage(e={}){if(!this._linkFn)return;const s=this._getSubmitUrl(e),[n,i={}]=this._linkFn;if(i.open===!1)window.location.href=s;else{const r=i.target||"_blank",o=i.windowFeatures||"";window.open(s,r,o)}}_getSubmitUrl({q:e,...s}={}){if(!this._linkFn)throw new Error("useLink(fn) must be called before _getSubmitUrl()");return this._linkFn[0](e,s)}}const qf=Object.freeze({...fe.DEFAULT_API_OPTIONS,group:we.ASK,payload:{...fe.DEFAULT_API_OPTIONS.payload,source_fl:["cover_image","url","created_at","updated_at","published_at"],cite_link:1,cite_start:"[",cite_end:"]"}}),jf=Object.freeze({actor:!1,api:{group:we.ASK,name:Ze.AUTOCOMPLETE}}),ko=Object.freeze({...fe.DEFAULT_LAYOUTS,[b.QUERY]:[Ls.type,{placeholder:"Ask a question"}],[b.QUESTION]:[En.type,{tag:"h2"}],[b.ANSWER]:Sn.type,[b.FEEDBACK]:ff.type,[b.IMAGES]:[sf.type,{incremental:!0,itemType:"image"}],[b.SOURCES]:[ks.type,{incremental:!0,itemType:"article",templates:{ordered:!0}}],[b.AFFILIATION]:[wf.type,{incremental:!0,itemType:"affiliation",link:{rel:"noopener nofollow"}}]}),Bf=Object.freeze({...fe.DEFAULT_TRACKERS,[b.ANSWER]:{active:!0,itemless:!0,deduplicated:!1,click:Xe.click},[b.IMAGES]:Xe,[b.SOURCES]:Xe,[b.AFFILIATION]:Xe,[b.PRODUCTS]:Xe}),My=Object.freeze({...fe.DEFAULT_OPTIONS,api:qf,autocomplete:jf,layouts:ko,trackers:Bf}),qy=bn(fe.ROLES_OPTIONS,{main:b.ANSWER,members:Object.keys(ko),mappings:{[b.ANSWER]:oy,[b.REASONING]:cy}});class ye extends fe{_initProperties(e){super._initProperties(e),this._questionId=void 0,this._autoQuery=!1}_initActors(e){super._initActors(e),this._feedback=new yb(this._hub)}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(Gt(),s=>this._query(s)),this._views.get(b.ANSWER).on("citation-click",s=>this._onCitationClick(s)),this._views.get(b.ANSWER).on("link-click",s=>this._onAnswerLinkClick(s))]}restart(){this._questionId&&(this._questionId=void 0),super.restart()}_shallEmitLifecycleEvent(e,s){return e==="answer-stage"||super._shallEmitLifecycleEvent(e,s)}_emitInterruptEventIfNecessary(){const e=this._hub.states[kt(this._roles.main)]||{};e.session&&e.status!==B.INITIAL&&(e.status!==B.READY||e.ongoing)&&(this._emitLifecycleEvent("interrupt",e),this._emitLifecycleEvent("finally",e))}_onMainViewUpdate(e){const{status:s,session:n}=e,i=s===B.READY&&!e.ongoing,r=s===B.ERRONEOUS,o=i?"done":r?"error":s,c=this._getSessionContext(n),a=c.answerStage,u=e.meta&&e.meta.answer_stage;u&&u!==a&&(this._emitLifecycleEvent("answer-stage",Object.freeze({...e,answer_stage:u})),c.answerStage=u),this._emitLifecycleEvent(o,e),(i||r)&&this._emitLifecycleEvent("finally",e)}get questionId(){return this._questionId}autoQuery(e={}){au.call(this,e)}query(e){if(!e.q&&!e.questionId)throw new Error("q is required in query() call");this._hub.update(Gt(),e)}_query(e={}){if(this._linkFn){this._submitToPage(e);return}this.restart(),this._writeQuestionSourceToSession(e);const s=this._buildPayload(e);this._request({payload:s})}_writeQuestionSourceToSession(e){this.session.meta.question_source=e.qs||cs.ORGANIC}_buildPayload(){throw new Error("Not implemented")}_writeWikiLinkTemplateToPayload(e){return!this._autoQuery||!this._autoQuery.param||this._autoQuery.param===cu?e:{...e,wiki_link_template:`?${this._autoQuery.param}=%s`}}_updateData(e){if(this._writeQuestionIdFromData(e),e.value&&!e.value.answer_stage){this._handleHeadResponse(e);return}super._updateData(e),lu.call(this,e)}_handleHeadResponse(e){}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=Ly(e),e=my(e),e}_writeQuestionIdFromData({value:e}){e&&this._writeQuestionId(e.question_id)}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=Pf(e,s),e}_getQuestionSourceFromViewState(e){const{request:s}=this._hub.states[kt(e.role)]||{},{payload:n}=s||{};return n&&n.metadata&&n.metadata.question_source||void 0}_onCitationClick({index:e,event:s}){if(s.button!==0||mo(s))return;const{value:n}=this._hub.states[Oe()]||{},{sources:i}=n||{},r=i&&i[e-1];!r||!r.product_id||(go(s),this._views.trackers.sources.click([r.product_id],{event_target:"citation-link"}))}_onAnswerLinkClick({event:e,...s}){e.button===0&&(mo(e)||(go(e),this._views.trackers.answer.click([],{items:[s]})))}_writeQuestionId(e){!this._questionId&&e&&(this._questionId=e)}_clearQuestionId(){this._questionId=void 0}_destroy(e){this._feedback._destroy(),super._destroy(e)}}Mf(ye.prototype),Object.assign(ye,{DEFAULT_API_OPTIONS:qf,DEFAULT_AUTOCOMPLETE_OPTIONS:jf,DEFAULT_LAYOUTS:ko,DEFAULT_TRACKERS:Bf,DEFAULT_OPTIONS:My,ROLES_OPTIONS:qy});const Hf=Object.freeze(Object.defineProperty({__proto__:null,CLASS_PREFIX:"miso-ask-combo",CONAINER_TAG:"miso-ask"},Symbol.toStringTag,{value:"Module"})),zf=Object.freeze(Object.defineProperty({__proto__:null,followUpQuestions:"Related questions you can explore",question:"You asked...",relatedResources:"Go beyond, and learn more about this topic",sources:"This reply is based on the following articles",thoughts:"Thoughts"},Symbol.toStringTag,{value:"Module"}));let Vf=class{constructor({helpers:e}){this._helpers=e}errorSection(e){const{section:s,container:n}=this._helpers;return s(e,{name:"error"},[n(e,{name:"error",visibleWhen:"erroneous"},"<miso-error></miso-error>")])}answerGroup(e){return[this.answer(e),this.affiliation(e),this.sources(e)]}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready"},[...this.question(e),"<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}question(e){const{phrase:s}=this._helpers;return[s(e,{name:"question",tag:"div"}),"<miso-question></miso-question>"]}sources(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"sources",visibleWhen:"nonempty"},[n(e,{name:"sources",tag:"h3"}),"<miso-sources></miso-sources>"])}affiliation(e){const{container:s}=this._helpers,{affiliation:n=!0}=e||{};return n?s(e,{name:"affiliation",visibleWhen:"nonempty"},["<miso-affiliation></miso-affiliation>"]):""}};class Wf{constructor(e){this._context=e,ae(this,{lowerCamelToKebab:_l,kebabToLowerCamel:dl,kebabOrSnakeToLowerCamel:hl})}normalizeOptions({classPrefix:e,circledCitationIndex:s=!0,phrases:n,...i}={}){return e=e||this._context.CLASS_PREFIX,n=this.normalizePhraseOptions(n),{classPrefix:e,circledCitationIndex:s,phrases:n,...i}}normalizePhraseOptions(e={}){if(!e)return{};const s={};for(const n in e)s[this.normalizePhraseOptionKey(n)]=e[n];return s}normalizePhraseOptionKey(e){return e=hl(e),e==="relatedQuestions"||e==="querySuggestions"?"followUpQuestions":e}phrase(e,{name:s,extraNames:n=[],tag:i="div",inline:r=!1}){const{classPrefix:o}=e,c=r?`${o}__phrase-inline`:`${o}__phrase`;return`<${i} class="${c} ${[s,...n].map(a=>`${o}__${a}-phrase`).join(" ")}">${this.phraseText(e,dl(s))}</${i}>`}phraseText(e,s){const{phrases:n={}}=e,i=n[s]||this._context.DEFAULT_PHRASES[s];switch(typeof i){case"function":return i(e);case"string":return i;default:return""}}section({classPrefix:e},{name:s},n){return this.element("section",{classes:[`${e}__section`,`${e}__${s}`]},n)}container({classPrefix:e,circledCitationIndex:s,parentQuestionId:n,workflow:i},{name:r,extraNames:o=[],visibleWhen:c,trait:a,logo:u=!1},l){const f=[r,...o].map(_=>`${e}__${_}-container`);return s&&f.push("miso-circled-citation-index"),this.element(this._context.CONAINER_TAG,{classes:f,visibleWhen:c,trait:a,logo:u,parentQuestionId:n,workflow:i},l)}element(e,s={},n=""){return`<${e}${this.attrs(s)}>${Array.isArray(n)?n.join(""):n}</${e}>`}attrs({classes:e=[],...s}={}){let n="";e.length&&(n+=` class="${e.join(" ")}"`);for(const i in s){const r=s[i];r!==void 0&&(n+=` ${_l(i)}="${r}"`)}return n}}let jy=class extends Vf{constructor(){super({helpers:vn})}answerGroup(e){const{container:s}=this._helpers;return[this.question(e),this.reasoning(e),this.answer(e),this.affiliation(e),this.sources(e),this.followUpQuestions(e),s(e,{name:"bottom-spacing",visibleWhen:"ongoing"})]}question(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"question",visibleWhen:"ready"},[e.parentQuestionId?"<hr>":"",n(e,{name:"question",tag:"div"}),"<miso-question></miso-question>"])}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready"},["<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}reasoning(e={}){const{phrases:s,reasoning:n={}}=e,{container:i,element:r,phraseText:o}=this._helpers,c=[];return n.expand&&c.push("expanded"),i(e,{name:"reasoning",visibleWhen:"nonempty"},[r("miso-stub",{classes:c,trait:"collapsible","data-role":"reasoning-box"},[r("div",{classes:["miso-collapsible__header"],"data-role":"toggle-expand"},[`<div class="miso-collapsible__icon">${n.icon||xw}</div>`,`<div class="miso-collapsible__title" data-role="title">${o(s,"thoughts")}</div>`,`<div class="miso-collapsible__toggle">${Yu}</div>`]),r("div",{classes:["miso-collapsible__body"]},["<miso-reasoning></miso-reasoning>"])])])}sources(e){const{container:s,phrase:n}=this._helpers;return s(e,{name:"sources",visibleWhen:"nonempty"},["<hr>",n(e,{name:"sources",tag:"h3"}),"<miso-sources></miso-sources>"])}followUpQuestions(e){const{container:s,phrase:n}=this._helpers,i="follow-up-questions",r=["query-suggestions"];return s(e,{name:i,extraNames:r,visibleWhen:"nonempty"},[n(e,{name:i,extraNames:r,tag:"h3"}),"<miso-follow-up-questions></miso-follow-up-questions>"])}followUps(e){const{features:s={}}=e;return s.followUpQuestions===!1?"":'<miso-follow-ups id="miso-ask-combo__follow-ups" class="miso-ask-combo__follow-ups"></miso-follow-ups>'}relatedResourcesSection(e){const{container:s,phrase:n,section:i}=this._helpers,{features:r={},logo:o=!0}=e,c=r.relatedResources===!1?"":s({...e,workflow:"active"},{name:"related-resources",visibleWhen:"nonempty",logo:o},[n(e,{name:"related-resources",tag:"h2"}),"<miso-related-resources></miso-related-resources>"]);return i(e,{name:"related-resources"},c)}};const vn=Ai(new Wf({...Hf,DEFAULT_PHRASES:zf})),$o=Ai(new jy({helpers:vn}));function By(t={}){const{normalizeOptions:e,section:s,container:n}=vn,{followUps:i,relatedResourcesSection:r,answerGroup:o}=$o;return t=e(t),[s(t,{name:"question"},[n(t,{name:"query"},"<miso-query></miso-query>")]),s(t,{name:"answer"},o(t)),i(t),r(t)].join("")}function Fi(t={}){const{normalizeOptions:e,section:s,container:n}=vn,{answerGroup:i}=$o;return t=e(t),s(t,{name:"follow-up"},[n(t,{name:"query",visibleWhen:"initial loading"},"<miso-query></miso-query>"),...i(t)])}const Hy=Object.freeze(Object.defineProperty({__proto__:null,followUp:Fi,helpers:vn,root:By,sections:$o},Symbol.toStringTag,{value:"Module"})),zy=Object.freeze({...ye.DEFAULT_API_OPTIONS,name:Ze.QUESTIONS,payload:{...ye.DEFAULT_API_OPTIONS.payload,related_resource_fl:["cover_image","url","created_at","updated_at","published_at"]}}),Qf=Object.freeze({...ye.DEFAULT_LAYOUTS,[b.QUERY]:[Ls.type,{templates:{buttonIcon:"send"}}],[b.REASONING]:Sn.type,[b.RELATED_RESOURCES]:[ks.type,{incremental:!0,itemType:"article"}],[b.QUERY_SUGGESTIONS]:Ui.type,[b.FOLLOW_UP_QUESTIONS]:Ui.type}),Vy=Object.freeze({...ye.DEFAULT_TRACKERS,[b.RELATED_RESOURCES]:Xe,[b.QUERY_SUGGESTIONS]:{...Xe,click:{...Xe.click,validate:t=>t.button===0}}}),Wy=Object.freeze({followUp:Fi}),Qy=Object.freeze({...ye.DEFAULT_OPTIONS,api:zy,layouts:Qf,trackers:Vy,templates:Wy}),Gy=bn(ye.ROLES_OPTIONS,{members:Object.keys(Qf),mappings:{[b.QUERY_SUGGESTIONS]:ay,[b.FOLLOW_UP_QUESTIONS]:ly}});class Gf extends ye{constructor(e,s){super({name:"ask",context:e,roles:Gy,defaults:Qy,parentQuestionId:s})}_initProperties(e){super._initProperties(e);const{parentQuestionId:s}=e;ae(this,{parentQuestionId:s})}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(kt(b.REASONING),s=>this._onReasoningViewUpdate(s)),this._views.get(b.ANSWER).on("follow-up-click",s=>this._onFollowUpClick(s)),this._views.get(b.FOLLOW_UP_QUESTIONS).on("select",s=>this._onFollowUpQuestionSelect(s)),this._views.get(b.QUERY_SUGGESTIONS).on("select",s=>this._onQuerySuggestionSelect(s))]}_initSession(e){e.parentQuestionId&&this._context._byPqid.set(e.parentQuestionId,this),this._context._events.emit("create",this),super._initSession(e)}restart(){const{next:e}=this;e&&e.destroy(),this._questionId&&this._context._byQid.delete(this._questionId),super.restart()}get rootQuestionId(){return this._context.root.questionId}get previous(){const{parentQuestionId:e}=this;return e?this._context.getByQuestionId(e):void 0}get next(){const{questionId:e}=this;return e?this._context.getByParentQuestionId(e):void 0}getOrCreateNext(){const{questionId:e}=this;return e?this._context.getByParentQuestionId(e,{autoCreate:!0}):void 0}_buildPayload({q:e,qs:s,questionId:n,...i}={}){if(n)return Z({...i,question_id:n});const{parentQuestionId:r}=this;let o=Z({...i,question:e,parent_question_id:r});return o=If({...o,qs:s}),o=this._writeWikiLinkTemplateToPayload(o),o}_updateData(e){super._updateData(e),this._triggerSuggestionsRefreshIfNecessary()}_triggerSuggestionsRefreshIfNecessary(){const{next:e}=this;if(!e)return;const s=e._views.get(b.QUERY_SUGGESTIONS);s&&s.refresh()}_onReasoningViewUpdate({status:e,ongoing:s}){if(e!==B.READY||s)return;const n=this._getReasoningBoxElement();n&&n.classList.add("done")}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeAdditionalAskPropertiesToInteraction(e,s),e}_writeAdditionalAskPropertiesToInteraction(e,s){const n=this.rootQuestionId;let{property:i}=e.context&&e.context.custom_context||{},r,o,c;return(s.role===b.FOLLOW_UP_QUESTIONS||s.role===b.QUERY_SUGGESTIONS)&&(i="suggested_followup_questions"),s.role===b.QUERY_SUGGESTIONS?(o=this.previous&&this.previous.parentQuestionId,r=this.parentQuestionId,c=this.previous&&this.previous.session.meta.question_source):o=this.parentQuestionId,Je(e,{context:{custom_context:Z({property:i,root_question_id:n,parent_question_id:o,question_id:r,question_source:c})}})}_onFollowUpClick({q:e,event:s}={}){s.button===0&&this._submitFollowUpQuestion({q:e,qs:cs.INLINE_QUESTION_LINK})}_onFollowUpQuestionSelect({value:e}){this._submitFollowUpQuestion({q:e,qs:cs.SUGGESTED_QUESTIONS})}_submitFollowUpQuestion({q:e="",qs:s}={}){if(e=e.trim(),!e)return;this.getOrCreateNext().query({q:e,qs:s})}_onQuerySuggestionSelect({value:e}){e&&this.query({q:e,qs:cs.SUGGESTED_QUESTIONS})}_writeQuestionId(e){!this._questionId&&e&&(this._questionId=e,this._context._byQid.set(e,this))}_clearQuestionId(){this._questionId&&(this._context._byQid.delete(this._questionId),this._questionId=void 0)}_getReasoningBoxElement(){const e=this._views.get(b.REASONING),s=e&&e.element;return s&&s.closest('[data-role="reasoning-box"]')}_destroy(e){const{next:s,parentQuestionId:n,questionId:i}=this;s&&s.destroy(e),n&&this._context._byPqid.delete(n),i&&this._context._byQid.delete(i),super._destroy(e)}}const Kf={event:"done"};function Ky(t=Kf){switch(t===!0&&(t=Kf),typeof t=="string"&&(t={event:t}),typeof t){case"object":return e=>e&&t.event===e._event;case"function":return t;default:return()=>!1}}class Yf extends lo{constructor(e,s){super("asks",e,s),this._byQid=new Map,this._byPqid=new Map,this._root=new Gf(this),this._events.on("*",n=>this._createNextIfNecessary(n)),this._events.on("loading",n=>this._setActive(n.workflow)),this._events.on("destroy",()=>this._requestEmitAfterDestroy()),this._events.on("after-destroy",()=>this._syncActiveOnAfterDestroy()),this._autoNextFn=void 0,this._active=this._root}get root(){return this._root}get workflows(){return[this._root,...this._byPqid.values()]}get active(){return this._active}getByQuestionId(e){if(typeof e!="string")throw new Error(`Required ID to be a string: ${e}`);return this._byQid.get(e)}getByParentQuestionId(e,{autoCreate:s=!1}={}){if(e===void 0)return this._root;if(typeof e!="string")throw new Error(`Required ID to be a string: ${e}`);let n=this._byPqid.get(e);return!n&&s&&(n=new Gf(this,e)),n}reset({root:e=!0,events:s,...n}={}){s===void 0&&(s=!!e),s&&this._events.clear();for(const i of this._byPqid.values())i.destroy(n);e&&this._root.restart()}autoNext(e){this._autoNextFn=Ky(e)}_createNextIfNecessary(e){if(!this._autoNextFn||!this._autoNextFn(e))return;const{workflow:s}=e;s&&s.getOrCreateNext()}_requestEmitAfterDestroy(){this._emitAfterDestroyRequested||(this._emitAfterDestroyRequested=!0,setTimeout(()=>{this._emitAfterDestroyRequested=!1,this._events.emit("after-destroy",{})},0))}_syncActiveOnAfterDestroy(){if(!this._active.destroyed)return;let e=this._root;for(;e.next&&e.next.status!==B.INITIAL;e=e.next);this._setActive(e)}_setActive(e){e!==this._active&&(this._active=e,this._events.emit("active",{workflow:e}))}}wn(Yf.prototype,[me.TEMPLATES]);const Yy=10,Zy=10,Zf=Object.freeze({...fe.DEFAULT_API_OPTIONS,group:we.SEARCH,payload:{...fe.DEFAULT_API_OPTIONS.payload,fl:["cover_image","url","created_at","updated_at","published_at","title"],rows:Yy}}),Lo=Object.freeze({...fe.DEFAULT_LAYOUTS,[b.QUERY]:[Ls.type],[b.PRODUCTS]:[ks.type,{incremental:!0,infiniteScroll:!0}],[b.KEYWORDS]:[En.type,{raw:!0}],[b.TOTAL]:[En.type,{raw:!0,format:"number"}],[b.FACETS]:[Tf.type],[b.SORT]:[Ro.type],[b.MORE]:[Rf.type]}),Jf=Object.freeze({...fe.DEFAULT_TRACKERS,[b.PRODUCTS]:Xe}),Xf=Object.freeze({active:!1,mode:"infiniteScroll",pageLimit:10}),Jy=Object.freeze({...fe.DEFAULT_OPTIONS,api:Zf,layouts:Lo,trackers:Jf,pagination:Xf}),Xy=bn(fe.ROLES_OPTIONS,{main:b.PRODUCTS,members:Object.keys(Lo),mappings:{[b.FACETS]:"facet_counts",[b.SORT]:iy}});class Ue extends fe{_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._hub.on(Gt(),s=>this._query(s)),this._hub.on(xs(),()=>this._refine()),this._hub.on(_o(),()=>this._more()),this._views.get(b.SORT).on("select",s=>this._handleSortSelect(s))]}restart(){super.restart(),this._page=0}get exhausted(){const e=this._hub.states[Oe()];return!!(e&&e.meta&&e.meta.exhausted)}get page(){return this._page}autoQuery(e={}){au.call(this,e)}query(e){if(!e.q)throw new Error("q is required in query() call");this._hub.update(Gt(),e)}_query(e){const s=Qt.QUERY;this._views.filters.reset({silent:!0}),this.restart({type:s});const n=this._buildPayload(e,s);this._request({payload:n,type:s})}_refine(){const e=Qt.REFINE,{facet_counts:s}=this._hub.states[Oe()].value||{};this._currentFacetCounts=s,this.restart({type:e});const n=this._getQuery(),i=this._buildPayload(n,e);this._request({payload:i,type:e})}_more(){if(this.status!==B.READY)throw new Error("Can not call more() while loading.");if(this.exhausted||this._page>=Zy-1)return;this._page++;const e=Qt.MORE,s=this._getQuery(),n=this._buildPayload(s,e);this._request({payload:n,type:e})}_getQuery(){return this._hub.states[Gt()]}_getPageSize(){return this._options.resolved.api.payload.rows}_buildPayload(e,s){return e=this._writeFiltersToPayload(e),e=this._writePageInfoToPayload(e),s===Qt.MORE&&(e=this._processPayloadForMoreRequest(e)),e}_writeFiltersToPayload(e){const s=this._hub.states[xs()],{facets:n,sort:i}=s||{};return Z({...e,facet_filters:this._buildFacetFilters(n),order_by:this._buildOrderBy(i)})}_buildFacetFilters(e){if(!e)return;const s={};for(const n in e){const i=e[n];!i||!i.length||(s[n]={terms:i})}return Object.keys(s).length?s:void 0}_buildOrderBy(e){if(e)return os(e)}_writePageInfoToPayload(e){return{...e,metadata:{...e.metadata,page:this._page}}}_processPayloadForMoreRequest(e={}){const s=this._hub.states[Oe()],{[this._roles.main]:n=[]}=s&&s.value||{},i=n.map(o=>o.product_id).filter(o=>o),r=[...e.exclude||[],...i];return r.length===0?e:{...e,exclude:r}}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=Lf(e),e=gy(e,this._currentFacetCounts),e=yy(e,{role:this._roles.main}),e}_updateData(e){super._updateData(e),lu.call(this,e)}_updateDataInHub(e,s){e=this._appendResultsFromMoreRequest(e),super._updateDataInHub(e,s)}_appendResultsFromMoreRequest(e){const{request:s}=e;if(!s)return e;const{metadata:n}=s.payload;if(!n||!n.page)return by(e);const i=this._hub.states[Oe()];return wy(i,e,{role:this._roles.main})}_handleSortSelect({value:e}={}){e&&(this._views.filters.update({sort:e}),this._views.filters.apply())}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeRootMisoIdToInteraction(e),e}_writeRootMisoIdToInteraction(e){const s=this._hub.states[Oe()],{root_miso_id:n}=s&&s.value||{};return n?Je(e,{context:{custom_context:{root_miso_id:n}}}):e}}wn(Ue.prototype,[me.PAGINATION,me.FILTERS]),Object.assign(Ue,{DEFAULT_API_OPTIONS:Zf,DEFAULT_LAYOUTS:Lo,DEFAULT_TRACKERS:Jf,DEFAULT_PAGINATION:Xf,DEFAULT_OPTIONS:Jy,ROLES_OPTIONS:Xy});const e2=ye.ROLES_OPTIONS;class t2 extends ye{constructor(e){super({name:"hybrid-search/answer",plugin:e._plugin,client:e._client,options:e._options,defaults:e._defaults,roles:e2,superworkflow:e})}_initProperties(e){super._initProperties(e),this._superworkflow=e.superworkflow}_initSession(){}_doLoading(e){const{session:s}=this;this.updateData({...e,session:s})}_queryWithQuestionId(e){const{session:s}=this,{request:n,value:i}=e;this.updateData({...e,session:s});const{question_id:r}=i;if(!r)return;const o={...n.payload,question_id:r};o.metadata.page!==void 0&&delete o.metadata.page,this._hub.update(fo(),{...n,payload:o,session:s})}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=Lf(e),e=py(e),e=Iy(e),e}_handleHeadResponse(e){super._handleHeadResponse(e),$f(e)}_onTracker(e){this._superworkflow._onTracker(e)}}const s2=Ue.ROLES_OPTIONS.members;function n2(t){return s2.includes(t)?"results":"answer"}class i2{constructor(e){this._subviews=e,this._containers=new Set}get filters(){return this._subviews.results.filters}get(e){return this._getSubviews(e).get(e)}addContainer(e){if(this._containers.has(e))return;this._containers.add(e);const{components:s}=e;for(const n of s)this.addComponent(n)}removeContainer(e){for(const s of this._getAllSubviews())s.removeContainer(e);this._containers.delete(e)}addComponent(e){this._getViewByElement(e).element=e,this._addContainerToSubviews(e._container,e)}removeComponent(e){this._getViewByElement(e).element=void 0,this._removeContainerFromSubviewsIfNecessary(e._container)}updateComponentRole(e,s,n){}refreshElement(e){const s=e.isContainer?this._containers.get(e):this._getViewByElement(e);s&&s.refresh({force:!0})}_getAllSubviews(){return Object.values(this._subviews)}_getSubviews(e){return this._subviews[n2(e)]}_getViewByElement(e){let{role:s}=e;if(!s)throw new Error("Component must have a role");return this.get(s)}_addContainerToSubviews(e,s){if(!e)return;const{role:n}=s,i=this._getSubviews(n);if(!i._containers.has(e)){for(const r of this._getAllSubviews())if(r!==i&&r._containers.has(e)){for(const o of e.components)if(r.containsElement(o))throw new Error(`<${e.tagName.toLowerCase()}> cannot contain both <${o.tagName.toLowerCase()}> and <${s.tagName.toLowerCase()}>, for they don't share the same data lifecycle.`);throw new Error(`Failed to add container <${e.tagName.toLowerCase()}> with child component <${s.tagName.toLowerCase()}>.`)}i.addContainer(e)}}_removeContainerFromSubviewsIfNecessary(e){if(!(!e||e.components.length>0))for(const s of this._getAllSubviews())s.removeContainer(e)}}const r2=Object.freeze({members:[]});function o2({layouts:t,trackers:e,...s}={}){return{active:!1,...s,layouts:{},trackers:{}}}function c2(t,e){return Mi(t)===Mi(e)}function Mi(t){return t&&t.value&&t.value.trim()||void 0}class a2 extends fe{constructor(e,{defaults:s,...n}={}){super({name:"autocomplete",plugin:e._plugin,client:e._client,defaults:o2(s),roles:r2,superworkflow:e,...n})}_initProperties(e){super._initProperties(e),this._superworkflow=e.superworkflow,this._active=e.defaults.active}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,e.superworkflow._hub.on(hu(),s=>this._query(s))]}get enabled(){return this._active}enable(){this._active=!0}disable(){this._active=!1}_query(e){if(!this._active||c2(e,this._args))return;this._args=e,this.restart();const{session:s}=this;if(s.meta.input=e,!Mi(e)){this._updateCompletions({session:s,status:B.INITIAL});return}const n=this._buildPayload(e);this._request({payload:n})}_buildPayload(e){return{q:Mi(e)}}_updateDataInHub(e){e.value&&(e={...e,value:e.value.completions}),this._updateCompletions(e)}_updateCompletions(e){this._superworkflow.updateCompletions(e)}}function ed(t){pn(t,l2.prototype)}class l2{_initAutocomplete(e){this._autocomplete=new a2(this,{defaults:e.defaults.autocomplete})}get autocomplete(){return this._autocomplete}updateCompletions(e){return this._hub.update(uo(),e),this}_destroyAutocomplete(){this._autocomplete&&this._autocomplete._destroy(),this._autocomplete=void 0}}const u2=Object.freeze({group:we.ASK,name:Ze.SEARCH,payload:{...ye.DEFAULT_API_OPTIONS.payload,...Ue.DEFAULT_API_OPTIONS.payload,source_fl:["cover_image","url","created_at","updated_at","published_at","title","authors"]}}),td=Object.freeze({...ye.DEFAULT_LAYOUTS,...Ue.DEFAULT_LAYOUTS,[b.QUERY]:[Ls.type,{placeholder:""}],[b.QUESTION]:[En.type,{raw:!0}],[b.SOURCES]:[zu.type,{incremental:!0,itemType:"article",templates:{ordered:!0,article:Tu,articleInfoBlock:Eo}}]}),f2=Object.freeze({...ye.DEFAULT_TRACKERS,...Ue.DEFAULT_TRACKERS}),d2=Object.freeze({...Ue.DEFAULT_PAGINATION,active:!0}),h2=Object.freeze({api:{group:we.ASK,name:Ze.SEARCH_AUTOCOMPLETE,payload:{completion_fields:["suggested_queries"]}}}),_2=Object.freeze({sort:{options:[{field:"relevance",text:"Relevance",default:!0},{field:"published_at",text:"Date"}]}}),p2=Object.freeze({...ye.DEFAULT_OPTIONS,...Ue.DEFAULT_OPTIONS,api:u2,layouts:td,trackers:f2,autocomplete:h2,pagination:d2,filters:_2}),m2=Object.freeze({main:b.PRODUCTS,members:Object.keys(td),mappings:Object.freeze({...ye.ROLES_OPTIONS.mappings,...Ue.ROLES_OPTIONS.mappings})}),g2=Object.freeze({api:Object.freeze({polling:!1})});class Po extends Ue{constructor(e,s){super({name:"hybrid-search",plugin:e,client:s,roles:m2,defaults:p2,extraOptions:g2})}_initProperties(e){super._initProperties(e),this._initAutocomplete(e),this._answer=new t2(this)}_initActors(e){super._initActors(e),this._views=new i2({results:this._views,answer:this._answer._views})}restart({type:e}={}){super.restart(),(!e||e===Qt.QUERY)&&this._answer.restart()}get answer(){return this._answer}get questionId(){return this._answer.questionId}_buildPayload(e,s){return e=super._buildPayload(e,s),e=uy(e,s),e=If(e),e=this._writeQuestionIdToPayload(e,s),e.answer!==!1&&(e=ye.prototype._writeWikiLinkTemplateToPayload.call(this,e)),e}_buildOrderBy(e){if(e)return e.field}_writeQuestionIdToPayload(e,s){if(s===Qt.QUERY)return e;const n=this._answer.questionId;return n?Oi(e,{metadata:{question_id:n}}):e}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),$f(e),e}_updateDataInHub(e,s){this._dispatchDataToAnswerWorkflow(e),e=Ey(e,s),super._updateDataInHub(e,s)}_dispatchDataToAnswerWorkflow(e){const{request:s}=e;if(!s)return;const{type:n,payload:i}=s;if(!(n!==Qt.QUERY||!i||i.answer===!1))switch(e.status){case B.LOADING:this._answer._doLoading(e);break;case B.READY:this._answer._queryWithQuestionId(e);break}}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=Pf(e,s),e}_destroy(){this._answer.destroy(),super._destroy()}}wn(Po.prototype,[me.PAGINATION,me.FILTERS]),ed(Po.prototype);const b2=Object.freeze({group:we.SEARCH,name:Ze.SEARCH,payload:{fl:["*"]}}),w2=Object.freeze({api:{group:we.SEARCH,name:Ze.AUTOCOMPLETE,payload:{completion_fields:["suggested_queries","title"],fl:["title","url","cover_image"]}}}),y2=Object.freeze({...Ue.DEFAULT_LAYOUTS}),E2=Object.freeze({...Ue.DEFAULT_TRACKERS}),S2=Object.freeze({...Ue.DEFAULT_OPTIONS,api:b2,autocomplete:w2,layouts:y2,trackers:E2}),v2=Ue.ROLES_OPTIONS;class sd extends Ue{constructor(e,s){super({name:"search",plugin:e,client:s,roles:v2,defaults:S2})}_initProperties(e){super._initProperties(e),this._initAutocomplete(e)}notifyViewUpdate(e=b.PRODUCTS,...s){return super.notifyViewUpdate(e,...s),this}_destroy(e){this._destroyAutocomplete(),super._destroy(e)}}ed(sd.prototype);class nd extends lo{constructor(e,s,n){super(e,s,n),this._members=new Map}workflows(){return[...this._members.values()]}create(e=ao){if(this._members.has(e))throw new Error(`Unit already exists: ${e}`);return this._create(e)}has(e=ao){return this._members.has(e)}get(e=ao){if(typeof e!="string")throw new Error(`Required unit ID to be a string: ${e}`);return this._members.get(e)||this._create(e)}_create(e){throw new Error("Not implemented")}}class qe extends fe{_initProperties(e){super._initProperties(e);const{id:s}=e;ae(this,{id:s})}_initSession(e){this._context._members.set(e.id,this),super._initSession(e)}_defaultProcessInteraction(e,s){return e=super._defaultProcessInteraction(e,s),e=this._writeUnitIdToInteraction(e,s),e}_writeUnitIdToInteraction(e){const s=this.id,n=this.uuid;return Je(e,{context:{custom_context:{unit_id:s,unit_instance_uuid:n}}})}_destroy(e){this._context._members.delete(this.id),super._destroy(e)}}Object.assign(qe,{DEFAULT_API_OPTIONS:fe.DEFAULT_API_OPTIONS,DEFAULT_LAYOUTS:fe.DEFAULT_LAYOUTS,DEFAULT_TRACKERS:fe.DEFAULT_TRACKERS,DEFAULT_OPTIONS:fe.DEFAULT_OPTIONS,ROLES_OPTIONS:fe.ROLES_OPTIONS});const T2=Object.freeze({...qe.DEFAULT_API_OPTIONS,group:we.RECOMMENDATION,name:Ze.USER_TO_PRODUCTS,payload:{...qe.DEFAULT_API_OPTIONS.payload,fl:["*"]}}),id=Object.freeze({...qe.DEFAULT_LAYOUTS,[b.PRODUCTS]:ks.type}),C2=Object.freeze({...qe.DEFAULT_TRACKERS,[b.PRODUCTS]:Xe}),A2=Object.freeze({...qe.DEFAULT_OPTIONS,api:T2,layouts:id,trackers:C2}),O2=bn(qe.ROLES_OPTIONS,{main:b.PRODUCTS,members:Object.keys(id)});class x2 extends qe{constructor(e,s){super({name:"recommendation",context:e,roles:O2,defaults:A2,id:s})}start(){return this._request(),this}notifyViewUpdate(e=b.PRODUCTS,...s){return super.notifyViewUpdate(e,...s),this}}class R2 extends nd{constructor(e,s){super("recommendations",e,s)}_create(e){return new x2(this,e)}}const I2=Object.freeze({...qe.DEFAULT_API_OPTIONS,group:we.ASK,name:Ze.RELATED_QUESTIONS}),rd=Object.freeze({...qe.DEFAULT_LAYOUTS,[b.RELATED_QUESTIONS]:[ks.type,{itemType:"question",link:{rel:"noopener nofollow"}}],[b.QUERY]:[Ls.type,{placeholder:"Ask a question"}]}),k2=Object.freeze({...qe.DEFAULT_TRACKERS,[b.RELATED_QUESTIONS]:Xe,[b.CONTAINER]:{...Xe,itemless:!0},[b.QUERY]:{[Ne.SUBMIT]:{active:!0}}}),$2=Object.freeze({...qe.DEFAULT_OPTIONS,api:I2,layouts:rd,trackers:k2}),L2=bn(qe.ROLES_OPTIONS,{main:b.RELATED_QUESTIONS,members:Object.keys(rd)});class od extends qe{constructor(e,s){super({name:"explore",context:e,roles:L2,defaults:$2,id:s})}_initProperties(e){super._initProperties(e),this._productId=void 0,this._linkFn=void 0}_initSubscriptions(e){super._initSubscriptions(e),this._unsubscribes=[...this._unsubscribes,this._views.get(b.RELATED_QUESTIONS).on("click",s=>this._handleRelatedQuestionClick(s)),this._hub.on(Gt(),s=>this._query(s))]}set productId(e){console.warning("DEPRECATED: use useApi() instead"),this.useApi({product_id:e})}useApi(...e){const s=(typeof e[0]=="object"?e[0]:e[1])||{},{product_id:n}=s;return n&&(this._productId=n),super.useApi(...e)}useLink(e,s){return Io.prototype.useLink.call(this,e,s),s&&this.useLayouts({[b.RELATED_QUESTIONS]:{link:s}}),this}start({relatedQuestions:e=!0}={}){if(this._linkFn===void 0)throw new Error("Must define link mapping function with useLink(fn) before calling start()");if(e)this._request();else{const{session:s}=this;this.updateData({session:s,request:{},value:{related_questions:[]}})}return this}notifyViewUpdate(e=b.RELATED_QUESTIONS,...s){return super.notifyViewUpdate(e,...s),this}_defaultProcessData(e,s){return e=super._defaultProcessData(e,s),e=this._addUrlToRelatedQuestions(e),e}_addUrlToRelatedQuestions(e){const{value:s}=e;if(!s||!s.related_questions)return e;const n=this._linkFn&&this._linkFn[0],i=s.related_questions.map(n?(r=>({text:r,url:this._getSubmitUrl({q:r,generated:!0})})):(r=>({text:r})));return{...e,value:{...s,related_questions:i}}}_handleRelatedQuestionClick({value:e,...s}){this._events.emit("select",Object.freeze({...s,question:e}))}query(e){if(!e.q)throw new Error("q is required in query() call");this._hub.update(Gt(),e)}_query(e){this._submitToPage({...e,generated:!1})}_getSubmitUrl(e){let s=Io.prototype._getSubmitUrl.call(this,e);return!e.generated||!this._productId?s:`${s}&qs=${encodeURIComponent(this._productId)}`}}Mf(od.prototype);class P2 extends nd{constructor(e,s){super("explores",e,s)}_create(e){return new od(this,e)}}let N2=class extends Me{constructor({name:e,plugin:s,MisoClient:n,...i}){super(e||"combo",s),this._name=e,this._plugin=s,this._MisoClient=n,this._options=i}get MisoClient(){return this._MisoClient}get element(){return this._element}async waitForElement(){return this._element||(this._elementRes||(this._elementRes=new xt)).promise}set element(e){this._element=e,this._elementRes&&this._elementRes.resolve(e)}start(e){this._started||(this._started=!0,e&&this.config(e),this._start())}_start(){throw new Error("Unimplemented")}};function U2(t,e,s){if(!t)throw new Error("client is required");D2(t,s),F2(e)}function D2(t,{template:e=Fi,...s}={}){if(typeof e!="function")throw new Error("template must be a function or undefined");const n=Object.keys(s).length>0;e===Fi&&!n||t.ui.asks.useTemplates({followUp:n?i=>e({...s,...i}):e})}function F2(t){if(!t||t.tagName.toLowerCase()==="miso-follow-ups")return;const e=document.createElement("miso-follow-ups");for(const{name:s,value:n}of t.attributes)e.setAttribute(s,n);t.parentNode.replaceChild(e,t)}function M2(t,e){if(!t)throw new Error("client is required");if(e)for(const s of e.querySelectorAll("miso-ask"))s.setAttribute("workflow","active")}const cd=Object.freeze(Hf),q2=Object.freeze(zf),ad=Object.freeze(Hy),j2=Object.freeze(Object.defineProperty({__proto__:null,constants:cd,phrases:q2,templates:ad,wireFollowUps:U2,wireRelatedResources:M2},Symbol.toStringTag,{value:"Module"})),{currentScript:No}=document,B2=Object.freeze({templates:ad,autostart:!0}),H2=["templates","phrases","features"];class z2{constructor(){this._defaults=B2,this._scriptSrc=Q2(),this._pageUrl=G2()}resolve(e){return W2(ld(this._defaults,this._scriptSrc,e,this._pageUrl))}}function ld(...t){let e={};for(const s of t)s&&(e=V2(e,s));return e}function V2(t,e){if(!e)return t;Object.assign(t,e);for(const s of H2)s in e&&(t[s]={...t[s],...e[s]});return t}function W2({api_key:t,api_host:e,templates:s,phrases:n,...i}={}){return Z({apiKey:t,apiHost:e,templates:Uo(s),phrases:n,...i})}function Q2(){if(!No||!No.src)return{};const t=document.createElement("a");t.href=No.src;const e={};for(const[s,n]of new URLSearchParams(t.search))s!=="q"&&(e[s]=ud(n));return e}function G2(){const t={};for(const[e,s]of new URLSearchParams(window.location.search))e.startsWith("miso_")&&e.length>5&&e!=="miso_api_key"?t[e.substring(5)]=ud(s):e==="q"&&(t.q=s);return t}function ud(t){return t===""?!0:t==="false"?!1:t}function Uo(t){if(t==null)return t;switch(typeof t){case"function":return t;case"string":case"number":return()=>t;case"object":return Array.isArray(t)?t.map(Uo):K2(t,Uo);default:throw new Error(`Unsupported template type: ${t}`)}}function K2(t,e){const s={};for(const[n,i]of Object.entries(t))s[n]=e(i);return s}class Y2{constructor(e,{classPrefix:s=cd.CLASS_PREFIX}={}){if(!e)throw new Error("Root element is required");ae(this,{root:e,followUpsSection:e.querySelector(`.${s}__follow-ups`),relatedResourcesSection:e.querySelector(`.${s}__related-resources`),relatedResourcesContainer:e.querySelector(`.${s}__related-resources miso-ask`)})}}class Z2 extends N2{constructor(e,s){super({name:"ask-combo",plugin:e,MisoClient:s}),this._options=new z2,this._localOptions={}}config(e={}){e=ld(this._localOptions,e);const s=this._options.resolve(e);return this._localOptions=e,this._resolvedOptions=s,this}get resolvedOptions(){return this._resolvedOptions||(this._resolvedOptions=this._options.resolve(this._localOptions))}get client(){return this._client}get elements(){return this._elements}autoStart(){this.resolvedOptions.autostart&&this.start()}async _start(){await Lm(),await this.waitForElement(),await this._setupMisoClient(),this._renderRootContent(),this._createClientInstance(),this._setupWorkflows()}async _setupMisoClient(){const{MisoClient:e,resolvedOptions:s}=this,{version:n}=e;ae(e,{name:"miso-ask-combo"}),(n==="dev"||n.indexOf("beta")>0||s.debug)&&e.plugins.use("std:debug"),s.dry_run&&e.plugins.use("std:dry-run"),s.lorem&&await e.plugins.install("std:lorem")}_renderRootContent(){const{element:e,resolvedOptions:s}=this,{templates:n={}}=s;e.innerHTML=n.root(s),this._elements=new Y2(e,s)}async _createClientInstance(){this._client=new MisoClient(this.resolvedOptions)}async _setupWorkflows(){const{MisoClient:e,client:s,elements:n,resolvedOptions:i}=this,{wireFollowUps:r,wireRelatedResources:o}=e.ui.defaults.ask,{templates:c={},features:a={},api:u}=i,l=s.ui.asks,f=s.ui.ask;u&&l.useApi(u),a.followUpQuestions!==!1&&r(s,n.followUpsSection,{...i,template:c.followUp}),a.relatedResources!==!1&&a.followUpQuestions!==!1&&o(s,n.relatedResourcesSection),f.autoQuery()}}class J2 extends Tl{constructor(e){super("layouts",e,{libName:"layout",keyName:s=>s.type}),this._plugin=e}get(e){return this._libraries[e]}create(e,s){if(e!==!1)switch(typeof e){case"function":return{render:e};case"string":const n=this.get(e);if(!n)throw new Error(`Layout of name '${e}' not found.`);return new n(s);default:throw new Error(`Expect a string, a render function, or boolean value false: ${e}`)}}}const X2="miso-stub",Do="trait",eE=Object.freeze([Do]);class ls extends HTMLElement{static get tagName(){return X2}static get observedAttributes(){return eE}constructor(){super(),this._traits=[]}connectedCallback(){this._syncTraits()}disconnectedCallback(){for(const e of this._traits)this._destroyTrait(e);this._traits=[]}attributeChangedCallback(e){switch(e){case Do:this._syncTraits();break}}_syncTraits(){const e=(this.getAttribute(Do)||"").split(/\s+/).filter(Boolean),s=[];for(const n of this._traits)e.includes(n.constructor.traitName)?s.push(n):this._destroyTrait(n);if(e.length>0){const n=tE(ls.MisoClient);for(const i of e){if(this._traits.find(c=>c.constructor.traitName===i))continue;const r=n[i];if(!r){console.warn(`Unknown trait: ${i}`);continue}const o=new r(this);s.push(o)}}this._traits=s}_destroyTrait(e){try{e._destroy&&e._destroy()}catch(s){console.error(s)}}}function tE(t){const e=t.ui&&t.ui.traits||{};return Object.values(e).reduce((s,n)=>(s[n.traitName]=n,s),{})}let fd,Fo,qi;async function dd(t){const e=await sE(t);return Fo=Fo||e.any(),qi=qi||await Fo,qi.ui||await rE(0),qi}async function sE(t){return t.MisoClient||window.MisoClient||fd||(fd=nE())}async function nE(){return new Promise(t=>{(window.misocmd||(window.misocmd=[])).push(()=>t(window.MisoClient))})}function iE(t){for(let e=t;e;e=e.parentNode)if(e.isContainer)return e;throw new Error(`${t.tagName} needs to be placed under a workflow container element.`)}function rE(t){return new Promise(e=>setTimeout(e,t))}const Tn="logo",hd="auto",oE=Object.freeze([...ls.observedAttributes,Tn]);function Mo(t){if(!t)return hd;switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Invalid logo attribute value: ${t}.`)}}function cE(t){switch(t){case hd:return;case!0:return"true";case!1:return"false";default:throw new Error(`Invalid logo property value: ${t}.`)}}class ot extends ls{static get observedAttributes(){return oE}constructor(){super(),this._workflow=void 0,this._components=new Set}get isContainer(){return!0}get workflow(){return this._workflow}set workflow(e){this._setWorkflow(e)}get logo(){return Mo(this.getAttribute(Tn))}set logo(e){if(this.logo===e)return;const s=cE(e);s?this.setAttribute(Tn,s):this.removeAttribute(Tn)}async connectedCallback(){super.connectedCallback();const e=this._client=await dd(ot);document.body.contains(this)&&(this._setWorkflow(this._getWorkflow(e)),this._onConnected(e))}disconnectedCallback(){this._setWorkflow(void 0),super.disconnectedCallback()}_onConnected(e){}_getWorkflow(e){throw new Error("Unimplemented")}_setWorkflow(e){this._workflow!==e&&(this._workflow&&this._workflow._views.removeContainer(this),e&&e._views.addContainer(this),this._workflow=e)}attributeChangedCallback(e,s,n){switch(e){case Tn:this._handleLogoUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleLogoUpdate(e,s){const n=Mo(e),i=Mo(s);n===i||!this._workflow||this._workflow._views.refreshElement(this)}get components(){return[...this._components]}_addComponent(e){this._components.has(e)||(this._components.add(e),this._workflow&&this._workflow._views.addComponent(e))}_removeComponent(e){this._components.has(e)&&(this._workflow&&this._workflow._views.removeComponent(e),this._components.delete(e))}_updateComponentRole(e,s,n){this._workflow&&this._workflow._views.updateComponentRole(e,s,n)}}const aE="miso-ask",qo="workflow",Cn="parent-question-id",lE=Object.freeze([...ot.observedAttributes,qo,Cn]);class uE extends ot{static get tagName(){return aE}static get observedAttributes(){return lE}_getWorkflow(e){return this.boundToActiveWorkflow?e.ui.asks.active:this._getWorkflowByParentQuestionId(e,this.parentQuestionId)}_getWorkflowByParentQuestionId(e,s){return e.ui.asks.getByParentQuestionId(s,{autoCreate:!0})}get parentQuestionId(){return this.getAttribute(Cn)||void 0}set parentQuestionId(e){e=e!==void 0?`${e}`:void 0,e!==this.parentQuestionId&&(e?this.setAttribute(Cn,e):this.removeAttribute(Cn))}get boundToActiveWorkflow(){return this.getAttribute(qo)==="active"}_setWorkflow(e){this._workflow!==e&&(super._setWorkflow(e),e&&(this.parentQuestionId=e.parentQuestionId))}async connectedCallback(){if(await super.connectedCallback(),document.body.contains(this)){const e=this._client.ui.asks;this._unsubscribes=[...this._unsubscribes||[],e.on("active",s=>{this.boundToActiveWorkflow&&(this.workflow=s.workflow)})]}}disconnectedCallback(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[],super.disconnectedCallback()}attributeChangedCallback(e,s,n){switch(e){case Cn:this._handleParentQuestionIdUpdate(s,n);break;case qo:this._handleQuestionUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleQuestionUpdate(e,s){e=e||void 0,s=s||void 0,!(e===s||!this._client)&&s===ATTR_VALUE_ACTIVE&&this._setWorkflow(this._getWorkflow(this._client))}_handleParentQuestionIdUpdate(e,s){e=e||void 0,s=s||void 0,!(e===s||!this._client)&&this._setWorkflow(this._getWorkflowByParentQuestionId(this._client,s))}}const An="unit-id",fE=Object.freeze([...ot.observedAttributes,An]);class ji extends ot{static get observedAttributes(){return fE}_getWorkflow(e){return this._getWorkflowByUnitId(e,this.unitId)}_getWorkflowByUnitId(e,s){throw new Error("Not implemented")}get unitId(){return this.getAttribute(An)||void 0}set unitId(e){e=e&&`${e}`,e?this.setAttribute(An,e):this.removeAttribute(An)}attributeChangedCallback(e,s,n){switch(e){case An:this._handleUnitIdUpdate(s,n);break;default:super.attributeChangedCallback(e,s,n)}}_handleUnitIdUpdate(e,s){e===s||!this._client||this._setWorkflow(this._getWorkflowByUnitId(this._client,s))}}const dE="miso-explore";class hE extends ji{static get tagName(){return dE}static get observedAttributes(){return ji.observedAttributes}_getWorkflowByUnitId(e,s){return e.ui.explores.get(s)}}const _E="miso-hybrid-search";class pE extends ot{static get tagName(){return _E}static get observedAttributes(){return ot.observedAttributes}_getWorkflow(e){return e.ui.hybridSearch}}const mE="miso-search";class gE extends ot{static get tagName(){return mE}static get observedAttributes(){return ot.observedAttributes}_getWorkflow(e){return e.ui.search}}const bE="miso-recommendation";class wE extends ji{static get tagName(){return bE}static get observedAttributes(){return ji.observedAttributes}_getWorkflowByUnitId(e,s){return e.ui.recommendations.get(s)}}const yE=Object.freeze(Object.defineProperty({__proto__:null,MisoAskElement:uE,MisoExploreElement:hE,MisoHybridSearchElement:pE,MisoRecommendationElement:wE,MisoSearchElement:gE},Symbol.toStringTag,{value:"Module"})),EE="miso-component",On="role",SE=Object.freeze([On]);class he extends HTMLElement{static get tagName(){return EE}static get observedAttributes(){return SE}constructor({role:e}={}){super(),e&&Object.defineProperty(this,"_role",{value:e,writable:!1})}get role(){return this._role}connectedCallback(){const e=iE(this);this._container&&this._container!==e&&this._container._removeComponent(this),this._syncRole(),e._addComponent(this),this._container=e,this._containerResolution&&this._containerResolution.resolve(e)}_syncRole(){const e=this.getAttribute(On);if(e)this._role?console.warn(`Element <${this.tagName}>' already has a predefined role '${this._role}', so attribute '${On}="${e}"' is ignored.`):this._role=e;else{if(!this._role)throw new Error(`An attribute '${On}' is required for element <${this.tagName}>`);return}}disconnectedCallback(){this._container&&(this._container._removeComponent(this),this._container=void 0,this._containerResolution=void 0)}attributeChangedCallback(e,s,n){s!==n&&e===On&&this._container&&this._container._updateComponentRole(this,s,n)}}class vE extends he{constructor(){super({role:b.QUERY})}static get tagName(){return"miso-query"}}class TE extends he{constructor(){super({role:b.FOLLOW_UP_QUESTIONS})}static get tagName(){return"miso-follow-up-questions"}}class CE extends he{constructor(){super({role:b.QUERY_SUGGESTIONS})}static get tagName(){return"miso-query-suggestions"}}class AE extends he{constructor(){super({role:b.FEEDBACK})}static get tagName(){return"miso-feedback"}}class OE extends he{constructor(){super({role:b.PRODUCTS})}connectedCallback(){console.warn("Element <miso-results> is deprecated. Please use <miso-products> instead."),super.connectedCallback()}static get tagName(){return"miso-results"}}class xE extends he{constructor(){super({role:b.PRODUCTS})}static get tagName(){return"miso-products"}}class RE extends he{constructor(){super({role:b.QUESTION})}static get tagName(){return"miso-question"}}class IE extends he{constructor(){super({role:b.ANSWER})}static get tagName(){return"miso-answer"}}class kE extends he{constructor(){super({role:b.REASONING})}static get tagName(){return"miso-reasoning"}}class $E extends he{constructor(){super({role:b.SOURCES})}static get tagName(){return"miso-sources"}}class LE extends he{constructor(){super({role:b.IMAGES})}static get tagName(){return"miso-images"}}class PE extends he{constructor(){super({role:b.RELATED_RESOURCES})}static get tagName(){return"miso-related-resources"}}class NE extends he{constructor(){super({role:b.RELATED_QUESTIONS})}static get tagName(){return"miso-related-questions"}}class UE extends he{constructor(){super({role:b.AFFILIATION})}static get tagName(){return"miso-affiliation"}}class DE extends he{constructor(){super({role:b.KEYWORDS})}static get tagName(){return"miso-keywords"}}class FE extends he{constructor(){super({role:b.TOTAL})}static get tagName(){return"miso-total"}}class ME extends he{constructor(){super({role:b.FACETS})}static get tagName(){return"miso-facets"}}class qE extends he{constructor(){super({role:b.MORE})}static get tagName(){return"miso-more"}}class jE extends he{constructor(){super({role:b.SORT})}static get tagName(){return"miso-sort"}}class BE extends he{constructor(){super({role:b.ERROR})}static get tagName(){return"miso-error"}}const HE=Object.freeze(Object.defineProperty({__proto__:null,MisoAffiliationElement:UE,MisoAnswerElement:IE,MisoComponentElement:he,MisoErrorElement:BE,MisoFacetsElement:ME,MisoFeedbackElement:AE,MisoFollowUpQuestionsElement:TE,MisoImagesElement:LE,MisoKeywordsElement:DE,MisoMoreElement:qE,MisoProductsElement:xE,MisoQueryElement:vE,MisoQuerySuggestionsElement:CE,MisoQuestionElement:RE,MisoReasoningElement:kE,MisoRelatedQuestionsElement:NE,MisoRelatedResourcesElement:PE,MisoResultsElement:OE,MisoSortElement:jE,MisoSourcesElement:$E,MisoTotalElement:FE},Symbol.toStringTag,{value:"Module"}));class xn extends ls{static get observedAttributes(){return ls.observedAttributes}constructor(){super(),this._context=void 0}get context(){return this._context}set context(e){this._setContext(e)}async connectedCallback(){super.connectedCallback();const e=this._client=await dd(xn);document.body.contains(this)&&this._setContext(this._getContext(e))}disconnectedCallback(){this._setContext(void 0),super.disconnectedCallback()}_getContext(e){throw new Error("Unimplemented")}_setContext(e){if(this._context===e)return;const s=this._context;this._context=e,this._onContext(e,s)}_onContext(){}}const zE="miso-follow-ups";class VE extends xn{static get tagName(){return zE}static get observedAttributes(){return xn.observedAttributes}constructor(){super(),this._elementToWorkflow=new WeakMap,this._unsubscribes=[]}_getContext(e){return e.ui.asks}_onContext(e,s){e!==s&&(this._unwire(),this._wire(e))}_unwire(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[]}_wire(e){e&&(e._autoNextFn||e.autoNext(),this._unsubscribes.push(e.on("create",s=>{const{parentQuestionId:n}=s,i=s._options.resolved.templates.followUp;if(!n||!i)return;const r=this.children.length;this.insertAdjacentHTML("beforeend",i({parentQuestionId:n}));const o=this.children.length;for(const c of Array.prototype.slice.call(this.children,r,o))this._elementToWorkflow.set(c,s)})),this._unsubscribes.push(e.on("loading",({workflow:s})=>{for(const n of this.children)if(this._elementToWorkflow.get(n)===s){n.scrollIntoView({behavior:"smooth",block:"start"});break}})),this._unsubscribes.push(e.on("destroy",({workflow:s})=>{for(const n of this.children)this._elementToWorkflow.get(n)===s&&(this._elementToWorkflow.delete(n),n.remove())})))}}const WE=Object.freeze(Object.defineProperty({__proto__:null,MisoFollowUpsElement:VE},Symbol.toStringTag,{value:"Module"}));class Bi extends HTMLElement{constructor(){super()}async connectedCallback(){document.body.contains(this)&&this._setCombo(this._getCombo(Bi.MisoClient))}disconnectedCallback(){}_getCombo(e){throw new Error("Unimplemented")}_setCombo(e){this._combo!==e&&(this._combo=e,e.element=this,e.autoStart())}}const QE="miso-ask-combo";class GE extends Bi{static get tagName(){return QE}constructor(){super()}_getCombo(e){return e.ui.combo.ask}}const KE=Object.freeze(Object.defineProperty({__proto__:null,MisoBannerElement:Ni,MisoStubElement:ls,combos:Object.freeze(Object.defineProperty({__proto__:null,MisoAskComboElement:GE},Symbol.toStringTag,{value:"Module"})),containers:yE,contexts:WE,roles:HE},Symbol.toStringTag,{value:"Module"})),_d="miso-hybrid-search-combo",pd=Object.freeze(Object.defineProperty({__proto__:null,CLASS_PREFIX:_d,CONAINER_TAG:"miso-hybrid-search"},Symbol.toStringTag,{value:"Module"})),YE="You asked ${value}",ZE="Sources",JE="You searched for ${value}",XE="${value} Results",md="Show more",gd="Show less",bd=Object.freeze(Object.defineProperty({__proto__:null,keywords:JE,question:YE,showLess:gd,showMore:md,sources:ZE,total:XE},Symbol.toStringTag,{value:"Module"}));class e3 extends Vf{constructor(){super({helpers:Hi})}answer(e){const{container:s}=this._helpers;return s(e,{name:"answer",visibleWhen:"ready !unanswerable"},[...this.question(e),"<miso-answer></miso-answer>","<miso-feedback></miso-feedback>"])}answerBox(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__answer-box`]},[s("div",{classes:[`${n}__answer-box-inner`]},this.answerGroup(e)),this.answerBoxToggle(e)])}question(e){const{phrase:s}=this._helpers;return s(e,{name:"question",tag:"div"}).replaceAll("${value}","<miso-question></miso-question>")}answerBoxToggle(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__answer-box-toggle-container`]},[s("div",{classes:[`${n}__answer-box-toggle`],"data-role":"answer-box-toggle"})])}searchResultsGroup(e){const{container:s}=this._helpers;return s(e,{name:"search-results",visibleWhen:"loading ready"},[this.searchResultsInfoGroup(e),this.searchResultsFilters(e),"<miso-products></miso-products>",this.more(e)])}searchResultsInfoGroup(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-info`]},[this.keywords(e),this.total(e)])}searchResultsFilters(e){const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-filters`]},["<miso-facets></miso-facets>","<miso-sort></miso-sort>"])}keywords(e){const{phrase:s}=this._helpers;return s(e,{name:"keywords",tag:"div",inline:!0}).replaceAll("${value}","<miso-keywords></miso-keywords>")}total(e){const{phrase:s}=this._helpers;return s(e,{name:"total",tag:"div",inline:!0}).replaceAll("${value}","<miso-total></miso-total>")}more(e){if(!e.moreButton)return"";const{element:s}=this._helpers,{classPrefix:n}=e;return s("div",{classes:[`${n}__search-results-more-container`]},["<miso-more></miso-more>"])}}const Hi=Ai(new Wf({...pd,DEFAULT_PHRASES:bd})),wd=Ai(new e3({helpers:Hi}));function t3(t={}){const{normalizeOptions:e,section:s,container:n}=Hi;t=e(t);const{answerBox:i,answerGroup:r,searchResultsGroup:o}=wd,{answerBox:c=!1}=t;return[s(t,{name:"question"},[n(t,{name:"query"},"<miso-query></miso-query>")]),s(t,{name:"answer"},c?[i(t)]:r(t)),s(t,{name:"search-results"},o(t))].join("")}const s3=Object.freeze(Object.defineProperty({__proto__:null,helpers:Hi,root:t3,sections:wd},Symbol.toStringTag,{value:"Module"})),Rn="answer-box-open",zi="answer-box-shown",yd='[data-role="answer-box-toggle"]';class jo{constructor(e,s,{classPrefix:n=_d,phrases:i={},hideWhenUnanswerable:r=!0}={}){this._client=e,this._workflow=e.ui.hybridSearch,this._element=s,this._classPrefix=n,this._phrases=i,this._hideWhenUnanswerable=r,this._init()}_init(){const e=this._element,s=this._workflow;s.answerBox=this,s._unsubscribes.push(()=>{s.answerBox===this&&(this.destroy(),s.answerBox=void 0)});const n=i=>this._handleClick(i);e.addEventListener("click",n),this._syncWofkflowStatus(),this._syncButtonText(),this._unsubscribes=[()=>e.removeEventListener("click",n),s._answer._hub.on(Oe(),()=>this._syncWofkflowStatus())]}_handleClick({target:e,button:s}){s===0&&e.closest(yd)&&this.toggleOpen()}_syncWofkflowStatus(){const{status:e}=this._workflow._answer,{meta:{unanswerable:s=!1}={}}=this._workflow._answer._hub.states[Oe()];switch(e){case B.ERRONEOUS:case B.READY:s&&this._hideWhenUnanswerable?this.hide():this.show();break;default:this.hide()}}_updateBoxStatus(e,s){this._element.classList[e](`${this._classPrefix}__${s}`)}_syncButtonText(){const e=this.isOpen?this._phrases.showLess||gd:this._phrases.showMore||md;for(const s of this._element.querySelectorAll(yd))s.textContent=e}_syncScroll(){this.isOpen||this._element.scrollIntoView({behavior:"smooth"})}destroy(){for(const s of this._unsubscribes)s();const e=this._workflow;e&&e.answerBox===this&&delete e.answerBox}}const n3={isOpen:Rn,shown:zi},i3={toggleOpen:["toggle",Rn],open:["add",Rn],close:["remove",Rn],toggleHidden:["toggle",zi],show:["add",zi],hide:["remove",zi]};for(const[t,e]of Object.entries(n3))Object.defineProperty(jo.prototype,t,{get(){return this._element.classList.contains(`${this._classPrefix}__${e}`)}});for(const[t,[e,s]]of Object.entries(i3))jo.prototype[t]=function(){this._updateBoxStatus(e,s),s===Rn&&(this._syncButtonText(),this._syncScroll())};function r3(t,e,s={}){if(!t)throw new Error("client is required");e&&new jo(t,e,s)}const o3=Object.freeze(pd),c3=Object.freeze(bd),a3=Object.freeze(s3),l3=Object.freeze(Object.defineProperty({__proto__:null,constants:o3,phrases:c3,templates:a3,wireAnswerBox:r3},Symbol.toStringTag,{value:"Module"})),u3=Object.freeze(j2),f3=Object.freeze(l3),d3=Object.freeze(Object.defineProperty({__proto__:null,ask:u3,hybridSearch:f3},Symbol.toStringTag,{value:"Module"}));function h3(t,e){for(const s of e)Object.defineProperty(t,s,{get(){return this._element&&this._element.classList.contains(s)}})}function _3(t,e){for(const{action:s,classAction:n,className:i}of e)t[s]=function(){this._element&&this._element.classList[n](i),this[`_${s}`]&&this[`_${s}`]()}}function p3(t,e){t._handleClick=function(s){const{target:n,button:i}=s;if(i===0){for(let{role:r,selector:o,action:c}of e)if(o=o||`[data-role="${r}"]`,!!o&&n.closest(o)){this[c](),s.stopPropagation();return}}}}function m3(t){const e=t._element;if(!e)return()=>{};const s=n=>t._handleClick(n);return e.addEventListener("click",s),()=>e.removeEventListener("click",s)}const Ed="miso-collapsible",Bo="expanded",g3=[{action:"expand",classAction:"add",className:Bo},{action:"collapse",classAction:"remove",className:Bo}],b3=[{role:"expand",action:"expand"},{role:"collapse",action:"collapse"},{role:"toggle-expand",action:"toggle"}];class Vi{static get traitName(){return"collapsible"}constructor(e){this._element=e,e.collapsible=this,e.classList.add(Ed),this._unsubscribes=[m3(this)]}_destroy(){for(const e of this._unsubscribes||[])e();this._unsubscribes=[],delete this._element.collapsible,this._element.classList.remove(Ed),this._element=void 0}toggle(){this.expanded?this.collapse():this.expand()}}h3(Vi.prototype,[Bo]),_3(Vi.prototype,g3),p3(Vi.prototype,b3);const w3=Object.freeze(Object.defineProperty({__proto__:null,CollapsibleTrait:Vi},Symbol.toStringTag,{value:"Module"})),y3="ui";let Sd,vd;async function E3(){return vd||(vd=bl(S3()))}function S3(){return Sd||(Sd=wl(y3))}const v3="std:ui";class T3 extends Me{static get id(){return v3}constructor(){super("ui"),this.layouts=new J2(this),this._recommendations=new WeakMap,this._explores=new WeakMap,this._asks=new WeakMap,this._extensions=new WeakMap,this._ready=new xt}async install(e,s){s.addSubtree(this),e.on("create",this._injectClient.bind(this));const n={defaults:d3,traits:w3};Vt(n,this,["layouts","combo","ready"]),ae(this,{MisoClient:e}),ae(e,{ui:n}),this.combo=new O3(this,e);const i=Object.values(ny).filter(_=>_.type);for(const _ of i)_.MisoClient=e;for(const _ of i)this.layouts.register(_);const{containers:r,roles:o,combos:c,contexts:a,...u}=KE,l=[...Object.values(c),...Object.values(a),...Object.values(r),...Object.values(o),...Object.values(u)],f=[ot,xn,Bi];for(const _ of[...f,...l])_.MisoClient=e;await E3();for(const _ of l)$m(_);this._ready.resolve()}async requireExtension(e){switch(e){case"markdown":return await this.MisoClient.plugins.install("std:ui-markdown");default:throw new Error(`Unknown extension: ${e}`)}}get ready(){return Promise.all([this._ready.promise,MisoClient.any()]).then(()=>{})}_injectClient(e){ae(e,{ui:new A3(this,e)})}_getExtensions(e){if(this._extensions.has(e))return this._extensions.get(e);const s=new C3(this,e);return this._extensions.set(e,s),s}_getRecommendations(e){let s=this._recommendations.get(e);return s||this._recommendations.set(e,s=new R2(this,e)),s}_getExplores(e){let s=this._explores.get(e);return s||this._explores.set(e,s=new P2(this,e)),s}_getAsks(e){let s=this._asks.get(e);return s||this._asks.set(e,s=new Yf(this,e)),s}}class C3{constructor(e,s){this._plugin=e,this._client=s,this._contexts={}}async require(e){if(this._contexts[e])return this._contexts[e];const s=await this._plugin.requireExtension(e);return this._contexts[e]=s.getContext(this._client)}}class A3{constructor(e,s){this._plugin=e,this._client=s,ae(this,{sources:{api:Su(s)}})}get recommendations(){return this._recommendations||(this._recommendations=this._plugin._getRecommendations(this._client))}get recommendation(){return this.recommendations.get()}get search(){return this._search||(this._search=new sd(this._plugin,this._client))}get asks(){return this._asks||(this._asks=this._plugin._getAsks(this._client))}get ask(){return this.asks.root}get hybridSearch(){return this._hybridSearch||(this._hybridSearch=new Po(this._plugin,this._client))}get explores(){return this._explores||(this._explores=this._plugin._getExplores(this._client))}get explore(){return this.explores.get()}get ready(){return this._plugin._ready.promise}}class O3{constructor(e,s){this._plugin=e,this._MisoClient=s}get ask(){return this._ask||(this._ask=new Z2(this._plugin,this._MisoClient))}}It.plugins.use(T3);function x3(t){const e=[];function s(i){e.push(i)}gl("misodev",{transform:i=>()=>i({addCmdTransform:s})});const n=i=>{for(const r of e)i=r(i);return i};setTimeout(()=>{gl("misocmd",{transform:n}),t&&t()})}It.attach(),x3(A1);const Td="8YmM6wUpsvEmmbTWs2SN4aN7TKrXm3aXhyvp8bKE",R3="MisoCustomScript",Cd="miso-answers",I3="/answers",Ho=[{key:"healthcare-and-systems",label:"Healthcare & Systems",questions:[{question:"What are impacts of high healthcare costs and what strategies can help manage it?"},{question:"What is the consequences of infectious diseases and what methods support controlling them?"},{question:"What are biggest challenges and needs of health providers, such as nurses, today?"},{question:"How does type of health insurance impact care and how can quality be ensured?"}]},{key:"families-and-children",label:"Families & Children",questions:[{question:"What factors are important for ensuring healthy early childhood development?"},{question:"What are effective strategies for preventing and treating childhood obesity?"},{question:"How are different family structures challenged and supported by society?"},{question:"What are the challenges faced by family caregivers and how can they be supported?"}]},{key:"communities-and-environment",label:"Communities & Environment",questions:[{question:"How does pollution impact human health and what are protective measures?"},{question:"How does climate change deepen inequities and what factors can help minimize the impact?"},{question:"What are the outcomes of housing policies today and what improvements can be made?"},{question:"What are core principals of equitable community development?"}]},{key:"social-and-economic-conditions",label:"Social & Economic Conditions",questions:[{question:"What factors influence employment and how can higher rates be achieved?"},{question:"What are some strategies to address wealth and income inequality?"},{question:"Why is economic inclusion of families important and how can it be supported?"},{question:"How can the relationship education, health, and economic opportunity be strengthened?"}]},{key:"diversity-equity-and-justice",label:"Diversity, Equity & Justice",questions:[{question:"What are the benefits of gender equality and what initiatives can help support it?"},{question:"How do immigrants support social and economic growth?"},{question:"What role does restorative and transformative justice play in conflict resolution?"},{question:"How can equity be built on an individual, community, and societal level?"}]},{key:"policy-change-and-action",label:"Policy Change & Action",questions:[{question:"What are some examples of equitable policy approaches?"},{question:"How can policies be designed to promote greater inclusion?"},{question:"How can everyday people influence policy making?"},{question:"How can leadership make equity and social justice a priority?"}]}],ct=new It(Td);ct.ui.asks.useApi({_pipeline_config:{version:"v3"}}),ct.ui.asks.useApi(!1),ct.ui.asks.useDataProcessor(t=>{if(!t||!t.value)return t;const{answer:e=""}=t.value;return e.endsWith("...")&&(t.value.answer=e+"."),t}),ct.ui.asks.useLayouts({answer:{onCitationLink:({setAttribute:t},{source:e={}})=>{e.url&&t("href",e.url)}}});const us={reset:()=>{ct.ui.ask.restart()},addRequestListener:t=>{ct.ui.asks.on("request",t)},getUserInfo:()=>{const{anonymous_id:t}=ct.context;return{user_id:t}},query:t=>{ct.ui.ask.query({q:t})},updateData:t=>{ct.ui.ask.updateData({session:ct.ui.ask.session,value:t})},sendFeedbackInteraction:(t,e)=>{ct.api.interactions.upload({type:"feedback",value:e,result_type:"answer",context:{custom_context:{value:e,result_type:"answer",api_group:"ask",api_name:"questions",root_question_id:t,question_id:t}}})}};function Ad(t,e){return function(){return t.apply(e,arguments)}}const{toString:k3}=Object.prototype,{getPrototypeOf:zo}=Object,{iterator:Wi,toStringTag:Od}=Symbol,Qi=(t=>e=>{const s=k3.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),at=t=>(t=t.toLowerCase(),e=>Qi(e)===t),Gi=t=>e=>typeof e===t,{isArray:Ns}=Array,Us=Gi("undefined");function In(t){return t!==null&&!Us(t)&&t.constructor!==null&&!Us(t.constructor)&&je(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const xd=at("ArrayBuffer");function $3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&xd(t.buffer),e}const L3=Gi("string"),je=Gi("function"),Rd=Gi("number"),kn=t=>t!==null&&typeof t=="object",P3=t=>t===!0||t===!1,Ki=t=>{if(Qi(t)!=="object")return!1;const e=zo(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Od in t)&&!(Wi in t)},N3=t=>{if(!kn(t)||In(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},U3=at("Date"),D3=at("File"),F3=at("Blob"),M3=at("FileList"),q3=t=>kn(t)&&je(t.pipe),j3=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||je(t.append)&&((e=Qi(t))==="formdata"||e==="object"&&je(t.toString)&&t.toString()==="[object FormData]"))},B3=at("URLSearchParams"),[H3,z3,V3,W3]=["ReadableStream","Request","Response","Headers"].map(at),Q3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $n(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ns(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(In(t))return;const r=s?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let c;for(n=0;n<o;n++)c=r[n],e.call(null,t[c],c,t)}}function Id(t,e){if(In(t))return null;e=e.toLowerCase();const s=Object.keys(t);let n=s.length,i;for(;n-- >0;)if(i=s[n],e===i.toLowerCase())return i;return null}const fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kd=t=>!Us(t)&&t!==fs;function Vo(){const{caseless:t,skipUndefined:e}=kd(this)&&this||{},s={},n=(i,r)=>{const o=t&&Id(s,r)||r;Ki(s[o])&&Ki(i)?s[o]=Vo(s[o],i):Ki(i)?s[o]=Vo({},i):Ns(i)?s[o]=i.slice():(!e||!Us(i))&&(s[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&$n(arguments[i],n);return s}const G3=(t,e,s,{allOwnKeys:n}={})=>($n(e,(i,r)=>{s&&je(i)?t[r]=Ad(i,s):t[r]=i},{allOwnKeys:n}),t),K3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Y3=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Z3=(t,e,s,n)=>{let i,r,o;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=s!==!1&&zo(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},J3=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},X3=t=>{if(!t)return null;if(Ns(t))return t;let e=t.length;if(!Rd(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},eS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zo(Uint8Array)),tS=(t,e)=>{const n=(t&&t[Wi]).call(t);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},sS=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},nS=at("HTMLFormElement"),iS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),$d=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),rS=at("RegExp"),Ld=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};$n(s,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(n[r]=o||i)}),Object.defineProperties(t,n)},oS=t=>{Ld(t,(e,s)=>{if(je(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(je(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},cS=(t,e)=>{const s={},n=i=>{i.forEach(r=>{s[r]=!0})};return Ns(t)?n(t):n(String(t).split(e)),s},aS=()=>{},lS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function uS(t){return!!(t&&je(t.append)&&t[Od]==="FormData"&&t[Wi])}const fS=t=>{const e=new Array(10),s=(n,i)=>{if(kn(n)){if(e.indexOf(n)>=0)return;if(In(n))return n;if(!("toJSON"in n)){e[i]=n;const r=Ns(n)?[]:{};return $n(n,(o,c)=>{const a=s(o,i+1);!Us(a)&&(r[c]=a)}),e[i]=void 0,r}}return n};return s(t,0)},dS=at("AsyncFunction"),hS=t=>t&&(kn(t)||je(t))&&je(t.then)&&je(t.catch),Pd=((t,e)=>t?setImmediate:e?((s,n)=>(fs.addEventListener("message",({source:i,data:r})=>{i===fs&&r===s&&n.length&&n.shift()()},!1),i=>{n.push(i),fs.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",je(fs.postMessage)),_S=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Pd,m={isArray:Ns,isArrayBuffer:xd,isBuffer:In,isFormData:j3,isArrayBufferView:$3,isString:L3,isNumber:Rd,isBoolean:P3,isObject:kn,isPlainObject:Ki,isEmptyObject:N3,isReadableStream:H3,isRequest:z3,isResponse:V3,isHeaders:W3,isUndefined:Us,isDate:U3,isFile:D3,isBlob:F3,isRegExp:rS,isFunction:je,isStream:q3,isURLSearchParams:B3,isTypedArray:eS,isFileList:M3,forEach:$n,merge:Vo,extend:G3,trim:Q3,stripBOM:K3,inherits:Y3,toFlatObject:Z3,kindOf:Qi,kindOfTest:at,endsWith:J3,toArray:X3,forEachEntry:tS,matchAll:sS,isHTMLForm:nS,hasOwnProperty:$d,hasOwnProp:$d,reduceDescriptors:Ld,freezeMethods:oS,toObjectSet:cS,toCamelCase:iS,noop:aS,toFiniteNumber:lS,findKey:Id,global:fs,isContextDefined:kd,isSpecCompliantForm:uS,toJSONObject:fS,isAsyncFn:dS,isThenable:hS,setImmediate:Pd,asap:_S,isIterable:t=>t!=null&&je(t[Wi])};function z(t,e,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}m.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const Nd=z.prototype,Ud={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ud[t]={value:t}}),Object.defineProperties(z,Ud),Object.defineProperty(Nd,"isAxiosError",{value:!0}),z.from=(t,e,s,n,i,r)=>{const o=Object.create(Nd);m.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const c=t&&t.message?t.message:"Error",a=e==null&&t?t.code:e;return z.call(o,c,a,s,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const pS=null;function Wo(t){return m.isPlainObject(t)||m.isArray(t)}function Dd(t){return m.endsWith(t,"[]")?t.slice(0,-2):t}function Fd(t,e,s){return t?t.concat(e).map(function(i,r){return i=Dd(i),!s&&r?"["+i+"]":i}).join(s?".":""):e}function mS(t){return m.isArray(t)&&!t.some(Wo)}const gS=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function Yi(t,e,s){if(!m.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=m.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,y){return!m.isUndefined(y[S])});const n=s.metaTokens,i=s.visitor||l,r=s.dots,o=s.indexes,a=(s.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(e);if(!m.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(m.isDate(p))return p.toISOString();if(m.isBoolean(p))return p.toString();if(!a&&m.isBlob(p))throw new z("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(p)||m.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,S,y){let O=p;if(p&&!y&&typeof p=="object"){if(m.endsWith(S,"{}"))S=n?S:S.slice(0,-2),p=JSON.stringify(p);else if(m.isArray(p)&&mS(p)||(m.isFileList(p)||m.endsWith(S,"[]"))&&(O=m.toArray(p)))return S=Dd(S),O.forEach(function(P,k){!(m.isUndefined(P)||P===null)&&e.append(o===!0?Fd([S],k,r):o===null?S:S+"[]",u(P))}),!1}return Wo(p)?!0:(e.append(Fd(y,S,r),u(p)),!1)}const f=[],_=Object.assign(gS,{defaultVisitor:l,convertValue:u,isVisitable:Wo});function w(p,S){if(!m.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(p),m.forEach(p,function(O,I){(!(m.isUndefined(O)||O===null)&&i.call(e,O,m.isString(I)?I.trim():I,S,_))===!0&&w(O,S?S.concat(I):[I])}),f.pop()}}if(!m.isObject(t))throw new TypeError("data must be an object");return w(t),e}function Md(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qo(t,e){this._pairs=[],t&&Yi(t,this,e)}const qd=Qo.prototype;qd.append=function(e,s){this._pairs.push([e,s])},qd.toString=function(e){const s=e?function(n){return e.call(this,n,Md)}:Md;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function bS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jd(t,e,s){if(!e)return t;const n=s&&s.encode||bS;m.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let r;if(i?r=i(e,s):r=m.isURLSearchParams(e)?e.toString():new Qo(e,s).toString(n),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Bd{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){m.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Hd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wS={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Qo,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Go=typeof window<"u"&&typeof document<"u",Ko=typeof navigator=="object"&&navigator||void 0,yS=Go&&(!Ko||["ReactNative","NativeScript","NS"].indexOf(Ko.product)<0),ES=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SS=Go&&window.location.href||"http://localhost",xe={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Go,hasStandardBrowserEnv:yS,hasStandardBrowserWebWorkerEnv:ES,navigator:Ko,origin:SS},Symbol.toStringTag,{value:"Module"})),...wS};function vS(t,e){return Yi(t,new xe.classes.URLSearchParams,{visitor:function(s,n,i,r){return xe.isNode&&m.isBuffer(s)?(this.append(n,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function TS(t){return m.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CS(t){const e={},s=Object.keys(t);let n;const i=s.length;let r;for(n=0;n<i;n++)r=s[n],e[r]=t[r];return e}function zd(t){function e(s,n,i,r){let o=s[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),a=r>=s.length;return o=!o&&m.isArray(i)?i.length:o,a?(m.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!c):((!i[o]||!m.isObject(i[o]))&&(i[o]=[]),e(s,n,i[o],r)&&m.isArray(i[o])&&(i[o]=CS(i[o])),!c)}if(m.isFormData(t)&&m.isFunction(t.entries)){const s={};return m.forEachEntry(t,(n,i)=>{e(TS(n),i,s,0)}),s}return null}function AS(t,e,s){if(m.isString(t))try{return(e||JSON.parse)(t),m.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Ln={transitional:Hd,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,r=m.isObject(e);if(r&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return i?JSON.stringify(zd(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return vS(e,this.formSerializer).toString();if((c=m.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Yi(c?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||i?(s.setContentType("application/json",!1),AS(e)):e}],transformResponse:[function(e){const s=this.transitional||Ln.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?z.from(c,z.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xe.classes.FormData,Blob:xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],t=>{Ln.headers[t]={}});const OS=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xS=t=>{const e={};let s,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||e[s]&&OS[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},Vd=Symbol("internals");function Pn(t){return t&&String(t).trim().toLowerCase()}function Zi(t){return t===!1||t==null?t:m.isArray(t)?t.map(Zi):String(t)}function RS(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const IS=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Yo(t,e,s,n,i){if(m.isFunction(n))return n.call(this,e,s);if(i&&(e=s),!!m.isString(e)){if(m.isString(n))return e.indexOf(n)!==-1;if(m.isRegExp(n))return n.test(e)}}function kS(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function $S(t,e){const s=m.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(i,r,o){return this[n].call(this,e,i,r,o)},configurable:!0})})}let Be=class{constructor(e){e&&this.set(e)}set(e,s,n){const i=this;function r(c,a,u){const l=Pn(a);if(!l)throw new Error("header name must be a non-empty string");const f=m.findKey(i,l);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||a]=Zi(c))}const o=(c,a)=>m.forEach(c,(u,l)=>r(u,l,a));if(m.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(m.isString(e)&&(e=e.trim())&&!IS(e))o(xS(e),s);else if(m.isObject(e)&&m.isIterable(e)){let c={},a,u;for(const l of e){if(!m.isArray(l))throw TypeError("Object iterator must return a key-value pair");c[u=l[0]]=(a=c[u])?m.isArray(a)?[...a,l[1]]:[a,l[1]]:l[1]}o(c,s)}else e!=null&&r(s,e,n);return this}get(e,s){if(e=Pn(e),e){const n=m.findKey(this,e);if(n){const i=this[n];if(!s)return i;if(s===!0)return RS(i);if(m.isFunction(s))return s.call(this,i,n);if(m.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Pn(e),e){const n=m.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||Yo(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let i=!1;function r(o){if(o=Pn(o),o){const c=m.findKey(n,o);c&&(!s||Yo(n,n[c],c,s))&&(delete n[c],i=!0)}}return m.isArray(e)?e.forEach(r):r(e),i}clear(e){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const r=s[n];(!e||Yo(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const s=this,n={};return m.forEach(this,(i,r)=>{const o=m.findKey(n,r);if(o){s[o]=Zi(i),delete s[r];return}const c=e?kS(r):String(r).trim();c!==r&&delete s[r],s[c]=Zi(i),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return m.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=e&&m.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Vd]=this[Vd]={accessors:{}}).accessors,i=this.prototype;function r(o){const c=Pn(o);n[c]||($S(i,o),n[c]=!0)}return m.isArray(e)?e.forEach(r):r(e),this}};Be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),m.reduceDescriptors(Be.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}}),m.freezeMethods(Be);function Zo(t,e){const s=this||Ln,n=e||s,i=Be.from(n.headers);let r=n.data;return m.forEach(t,function(c){r=c.call(s,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function Wd(t){return!!(t&&t.__CANCEL__)}function Ds(t,e,s){z.call(this,t??"canceled",z.ERR_CANCELED,e,s),this.name="CanceledError"}m.inherits(Ds,z,{__CANCEL__:!0});function Qd(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new z("Request failed with status code "+s.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function LS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function PS(t,e){t=t||10;const s=new Array(t),n=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),l=n[r];o||(o=u),s[i]=a,n[i]=u;let f=r,_=0;for(;f!==i;)_+=s[f++],f=f%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),u-o<e)return;const w=l&&u-l;return w?Math.round(_*1e3/w):void 0}}function NS(t,e){let s=0,n=1e3/e,i,r;const o=(u,l=Date.now())=>{s=l,i=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const l=Date.now(),f=l-s;f>=n?o(u,l):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},n-f)))},()=>i&&o(i)]}const Ji=(t,e,s=3)=>{let n=0;const i=PS(50,250);return NS(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,a=o-n,u=i(a),l=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:a,rate:u||void 0,estimated:u&&c&&l?(c-o)/u:void 0,event:r,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},s)},Gd=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},Kd=t=>(...e)=>m.asap(()=>t(...e)),US=xe.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,xe.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(xe.origin),xe.navigator&&/(msie|trident)/i.test(xe.navigator.userAgent)):()=>!0,DS=xe.hasStandardBrowserEnv?{write(t,e,s,n,i,r,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];m.isNumber(s)&&c.push(`expires=${new Date(s).toUTCString()}`),m.isString(n)&&c.push(`path=${n}`),m.isString(i)&&c.push(`domain=${i}`),r===!0&&c.push("secure"),m.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function FS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function MS(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Yd(t,e,s){let n=!FS(e);return t&&(n||s==!1)?MS(t,e):e}const Zd=t=>t instanceof Be?{...t}:t;function ds(t,e){e=e||{};const s={};function n(u,l,f,_){return m.isPlainObject(u)&&m.isPlainObject(l)?m.merge.call({caseless:_},u,l):m.isPlainObject(l)?m.merge({},l):m.isArray(l)?l.slice():l}function i(u,l,f,_){if(m.isUndefined(l)){if(!m.isUndefined(u))return n(void 0,u,f,_)}else return n(u,l,f,_)}function r(u,l){if(!m.isUndefined(l))return n(void 0,l)}function o(u,l){if(m.isUndefined(l)){if(!m.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function c(u,l,f){if(f in e)return n(u,l);if(f in t)return n(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l,f)=>i(Zd(u),Zd(l),f,!0)};return m.forEach(Object.keys({...t,...e}),function(l){const f=a[l]||i,_=f(t[l],e[l],l);m.isUndefined(_)&&f!==c||(s[l]=_)}),s}const Jd=t=>{const e=ds({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:c}=e;if(e.headers=o=Be.from(o),e.url=jd(Yd(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),m.isFormData(s)){if(xe.hasStandardBrowserEnv||xe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(m.isFunction(s.getHeaders)){const a=s.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([l,f])=>{u.includes(l.toLowerCase())&&o.set(l,f)})}}if(xe.hasStandardBrowserEnv&&(n&&m.isFunction(n)&&(n=n(e)),n||n!==!1&&US(e.url))){const a=i&&r&&DS.read(r);a&&o.set(i,a)}return e},qS=typeof XMLHttpRequest<"u"&&function(t){return new Promise(function(s,n){const i=Jd(t);let r=i.data;const o=Be.from(i.headers).normalize();let{responseType:c,onUploadProgress:a,onDownloadProgress:u}=i,l,f,_,w,p;function S(){w&&w(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function O(){if(!y)return;const P=Be.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),F={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:P,config:t,request:y};Qd(function(Q){s(Q),S()},function(Q){n(Q),S()},F),y=null}"onloadend"in y?y.onloadend=O:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(O)},y.onabort=function(){y&&(n(new z("Request aborted",z.ECONNABORTED,t,y)),y=null)},y.onerror=function(k){const F=k&&k.message?k.message:"Network Error",le=new z(F,z.ERR_NETWORK,t,y);le.event=k||null,n(le),y=null},y.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||Hd;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new z(k,F.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,t,y)),y=null},r===void 0&&o.setContentType(null),"setRequestHeader"in y&&m.forEach(o.toJSON(),function(k,F){y.setRequestHeader(F,k)}),m.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),c&&c!=="json"&&(y.responseType=i.responseType),u&&([_,p]=Ji(u,!0),y.addEventListener("progress",_)),a&&y.upload&&([f,w]=Ji(a),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(l=P=>{y&&(n(!P||P.type?new Ds(null,t,y):P),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const I=LS(i.url);if(I&&xe.protocols.indexOf(I)===-1){n(new z("Unsupported protocol "+I+":",z.ERR_BAD_REQUEST,t));return}y.send(r||null)})},jS=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,i;const r=function(u){if(!i){i=!0,c();const l=u instanceof Error?u:this.reason;n.abort(l instanceof z?l:new Ds(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,r(new z(`timeout ${e} of ms exceeded`,z.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=()=>m.asap(c),a}},BS=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,i;for(;n<s;)i=n+e,yield t.slice(n,i),n=i},HS=async function*(t,e){for await(const s of zS(t))yield*BS(s,e)},zS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},Xd=(t,e,s,n)=>{const i=HS(t,e);let r=0,o,c=a=>{o||(o=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:u,value:l}=await i.next();if(u){c(),a.close();return}let f=l.byteLength;if(s){let _=r+=f;s(_)}a.enqueue(new Uint8Array(l))}catch(u){throw c(u),u}},cancel(a){return c(a),i.return()}},{highWaterMark:2})},eh=64*1024,{isFunction:Xi}=m,VS=(({Request:t,Response:e})=>({Request:t,Response:e}))(m.global),{ReadableStream:th,TextEncoder:sh}=m.global,nh=(t,...e)=>{try{return!!t(...e)}catch{return!1}},WS=t=>{t=m.merge.call({skipUndefined:!0},VS,t);const{fetch:e,Request:s,Response:n}=t,i=e?Xi(e):typeof fetch=="function",r=Xi(s),o=Xi(n);if(!i)return!1;const c=i&&Xi(th),a=i&&(typeof sh=="function"?(p=>S=>p.encode(S))(new sh):async p=>new Uint8Array(await new s(p).arrayBuffer())),u=r&&c&&nh(()=>{let p=!1;const S=new s(xe.origin,{body:new th,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!S}),l=o&&c&&nh(()=>m.isReadableStream(new n("").body)),f={stream:l&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(S,y)=>{let O=S&&S[p];if(O)return O.call(S);throw new z(`Response type '${p}' is not supported`,z.ERR_NOT_SUPPORT,y)})});const _=async p=>{if(p==null)return 0;if(m.isBlob(p))return p.size;if(m.isSpecCompliantForm(p))return(await new s(xe.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(m.isArrayBufferView(p)||m.isArrayBuffer(p))return p.byteLength;if(m.isURLSearchParams(p)&&(p=p+""),m.isString(p))return(await a(p)).byteLength},w=async(p,S)=>{const y=m.toFiniteNumber(p.getContentLength());return y??_(S)};return async p=>{let{url:S,method:y,data:O,signal:I,cancelToken:P,timeout:k,onDownloadProgress:F,onUploadProgress:le,responseType:Q,headers:M,withCredentials:D="same-origin",fetchOptions:se}=Jd(p),ge=e||fetch;Q=Q?(Q+"").toLowerCase():"text";let De=jS([I,P&&P.toAbortSignal()],k),He=null;const Qe=De&&De.unsubscribe&&(()=>{De.unsubscribe()});let ps;try{if(le&&u&&y!=="get"&&y!=="head"&&(ps=await w(M,O))!==0){let Re=new s(S,{method:"POST",body:O,duplex:"half"}),Ee;if(m.isFormData(O)&&(Ee=Re.headers.get("content-type"))&&M.setContentType(Ee),Re.body){const[Ms,qs]=Gd(ps,Ji(Kd(le)));O=Xd(Re.body,eh,Ms,qs)}}m.isString(D)||(D=D?"include":"omit");const ee=r&&"credentials"in s.prototype,W={...se,signal:De,method:y.toUpperCase(),headers:M.normalize().toJSON(),body:O,duplex:"half",credentials:ee?D:void 0};He=r&&new s(S,W);let G=await(r?ge(He,se):ge(S,W));const bt=l&&(Q==="stream"||Q==="response");if(l&&(F||bt&&Qe)){const Re={};["status","statusText","headers"].forEach(ir=>{Re[ir]=G[ir]});const Ee=m.toFiniteNumber(G.headers.get("content-length")),[Ms,qs]=F&&Gd(Ee,Ji(Kd(F),!0))||[];G=new n(Xd(G.body,eh,Ms,()=>{qs&&qs(),Qe&&Qe()}),Re)}Q=Q||"text";let Fs=await f[m.findKey(f,Q)||"text"](G,p);return!bt&&Qe&&Qe(),await new Promise((Re,Ee)=>{Qd(Re,Ee,{data:Fs,headers:Be.from(G.headers),status:G.status,statusText:G.statusText,config:p,request:He})})}catch(ee){throw Qe&&Qe(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,p,He),{cause:ee.cause||ee}):z.from(ee,ee&&ee.code,p,He)}}},QS=new Map,ih=t=>{let e=t&&t.env||{};const{fetch:s,Request:n,Response:i}=e,r=[n,i,s];let o=r.length,c=o,a,u,l=QS;for(;c--;)a=r[c],u=l.get(a),u===void 0&&l.set(a,u=c?new Map:WS(e)),l=u;return u};ih();const Jo={http:pS,xhr:qS,fetch:{get:ih}};m.forEach(Jo,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const rh=t=>`- ${t}`,GS=t=>m.isFunction(t)||t===null||t===!1;function KS(t,e){t=m.isArray(t)?t:[t];const{length:s}=t;let n,i;const r={};for(let o=0;o<s;o++){n=t[o];let c;if(i=n,!GS(n)&&(i=Jo[(c=String(n)).toLowerCase()],i===void 0))throw new z(`Unknown adapter '${c}'`);if(i&&(m.isFunction(i)||(i=i.get(e))))break;r[c||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=s?o.length>1?`since :
`+o.map(rh).join(`
`):" "+rh(o[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const oh={getAdapter:KS,adapters:Jo};function Xo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ds(null,t)}function ch(t){return Xo(t),t.headers=Be.from(t.headers),t.data=Zo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oh.getAdapter(t.adapter||Ln.adapter,t)(t).then(function(n){return Xo(t),n.data=Zo.call(t,t.transformResponse,n),n.headers=Be.from(n.headers),n},function(n){return Wd(n)||(Xo(t),n&&n.response&&(n.response.data=Zo.call(t,t.transformResponse,n.response),n.response.headers=Be.from(n.response.headers))),Promise.reject(n)})}const ah="1.13.1",er={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{er[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const lh={};er.transitional=function(e,s,n){function i(r,o){return"[Axios v"+ah+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,c)=>{if(e===!1)throw new z(i(o," has been removed"+(s?" in "+s:"")),z.ERR_DEPRECATED);return s&&!lh[o]&&(lh[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(r,o,c):!0}},er.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function YS(t,e,s){if(typeof t!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const r=n[i],o=e[r];if(o){const c=t[r],a=c===void 0||o(c,r,t);if(a!==!0)throw new z("option "+r+" must be "+a,z.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new z("Unknown option "+r,z.ERR_BAD_OPTION)}}const tr={assertOptions:YS,validators:er},gt=tr.validators;let hs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bd,response:new Bd}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=ds(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:r}=s;n!==void 0&&tr.assertOptions(n,{silentJSONParsing:gt.transitional(gt.boolean),forcedJSONParsing:gt.transitional(gt.boolean),clarifyTimeoutError:gt.transitional(gt.boolean)},!1),i!=null&&(m.isFunction(i)?s.paramsSerializer={serialize:i}:tr.assertOptions(i,{encode:gt.function,serialize:gt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),tr.assertOptions(s,{baseUrl:gt.spelling("baseURL"),withXsrfToken:gt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=r&&m.merge(r.common,r[s.method]);r&&m.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),s.headers=Be.concat(o,r);const c=[];let a=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(a=a&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let l,f=0,_;if(!a){const p=[ch.bind(this),void 0];for(p.unshift(...c),p.push(...u),_=p.length,l=Promise.resolve(s);f<_;)l=l.then(p[f++],p[f++]);return l}_=c.length;let w=s;for(;f<_;){const p=c[f++],S=c[f++];try{w=p(w)}catch(y){S.call(this,y);break}}try{l=ch.call(this,w)}catch(p){return Promise.reject(p)}for(f=0,_=u.length;f<_;)l=l.then(u[f++],u[f++]);return l}getUri(e){e=ds(this.defaults,e);const s=Yd(e.baseURL,e.url,e.allowAbsoluteUrls);return jd(s,e.params,e.paramsSerializer)}};m.forEach(["delete","get","head","options"],function(e){hs.prototype[e]=function(s,n){return this.request(ds(n||{},{method:e,url:s,data:(n||{}).data}))}}),m.forEach(["post","put","patch"],function(e){function s(n){return function(r,o,c){return this.request(ds(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}hs.prototype[e]=s(),hs.prototype[e+"Form"]=s(!0)});let ZS=class Eh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(c=>{n.subscribe(c),r=c}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,c){n.reason||(n.reason=new Ds(r,o,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Eh(function(i){e=i}),cancel:e}}};function JS(t){return function(s){return t.apply(null,s)}}function XS(t){return m.isObject(t)&&t.isAxiosError===!0}const ec={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ec).forEach(([t,e])=>{ec[e]=t});function uh(t){const e=new hs(t),s=Ad(hs.prototype.request,e);return m.extend(s,hs.prototype,e,{allOwnKeys:!0}),m.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return uh(ds(t,i))},s}const _e=uh(Ln);_e.Axios=hs,_e.CanceledError=Ds,_e.CancelToken=ZS,_e.isCancel=Wd,_e.VERSION=ah,_e.toFormData=Yi,_e.AxiosError=z,_e.Cancel=_e.CanceledError,_e.all=function(e){return Promise.all(e)},_e.spread=JS,_e.isAxiosError=XS,_e.mergeConfig=ds,_e.AxiosHeaders=Be,_e.formToJSON=t=>zd(m.isHTMLForm(t)?new FormData(t):t),_e.getAdapter=oh.getAdapter,_e.HttpStatusCode=ec,_e.default=_e;const{Axios:AT,AxiosError:OT,CanceledError:xT,isCancel:RT,CancelToken:IT,VERSION:kT,all:$T,Cancel:LT,isAxiosError:PT,spread:NT,toFormData:UT,AxiosHeaders:DT,HttpStatusCode:FT,formToJSON:MT,getAdapter:qT,mergeConfig:jT}=_e,fh=_e.create({baseURL:"https://api-edge.askmiso.com/v1",headers:{"Content-Type":"application/json"},params:{api_key:Td}}),sr={createQuestion:async t=>(await fh.post("/ask/questions",{...t,...us.getUserInfo()})).data,getAnswer:async t=>(await fh.get(`/ask/questions/${t}/answer`)).data,getUserHistory:async()=>({data:{message:"success",data:[]}}).data,clearUserHistory:async()=>{}};let dh=!1,nr=null;const hh=rl("history",()=>{const t=Te([]),e=async()=>{if(!dh)return nr||(nr=s().then(()=>{dh=!0}),nr)},s=async()=>{try{const r=await sr.getUserHistory();t.value=r.data}catch(r){console.error("[Miso] Failed to fetch user history:",r)}},n=(r,o)=>{t.value.push({question_id:r,question:o})},i=()=>{t.value=[];try{sr.clearUserHistory()}catch(r){console.error("[Miso] Failed to clear user history:",r)}};return e(),{history:t,addHistory:n,clearUserHistory:i}});let _h=!1;const Nn=rl("answer",()=>{const t=hh(),e=Te(!1),s=Te(null),n=Te(null),i=Te(null),r=Te(null);let o=null;const c=()=>{_h||(us.addRequestListener(({payload:I})=>{const{parent_question_id:P,question:k}=I;if(P){u(k);return}f(I)}),_h=!0)},a=()=>{us.reset(),s.value=null,n.value=null,i.value=null,r.value=null,o&&(clearInterval(o),o=null)},u=(I,P=!1)=>{c(),a(),e.value=!0,i.value={query:I,shouldScroll:!P},us.query(I)},l=I=>{a(),e.value=!0,i.value={query:"",shouldScroll:!0},s.value=I,_()},f=async I=>{try{const P=await sr.createQuestion(I),{question_id:k}=P.data;s.value=k,t.addHistory(k,I.question),_()}catch(P){console.error("[Miso] Failed to create question:",P)}},_=()=>{o||(w(),o=setInterval(()=>{w()},1e3))},w=async()=>{if(s.value)try{const I=await sr.getAnswer(s.value),{data:P}=I,{finished:k}=P;n.value=P,us.updateData(P),k&&p()}catch(I){p(),console.error("[Miso] Failed to get answer:",I)}},p=()=>{o&&(clearInterval(o),o=null)},S=I=>{if(r.value===I){us.sendFeedbackInteraction(s.value,"unselected"),r.value=null;return}us.sendFeedbackInteraction(s.value,I),r.value=I},y=()=>{S("helpful")},O=()=>{S("unhelpful")};return{questionId:s,data:n,isShowingAnswer:e,pendingQueryAction:i,selectedFeedback:r,question:mt(()=>n.value?.question||""),isFinished:mt(()=>n.value?.finished||!1),sources:mt(()=>n.value?.sources||[]),relatedQuestions:mt(()=>n.value?.followup_questions||[]),ask:u,retrieveAnswer:l,selectHelpful:y,selectUnhelpful:O}}),ev={class:"mr-query-section__container"},tv={class:"mr-query-section__icon--desktop"},sv={class:"mr-query-section__main"},nv={class:"mr-query-section__title"},iv={class:"mr-query-section__icon--mobile"},rv={class:"mr-query-section__input-group"},ov=["onKeydown"],cv={class:"mr-query-section__footer"},av={class:"mr-modal__header"},lv={class:"mr-modal__header-title"},uv={key:0},fv={key:1},dv={key:0,class:"mr-usage-tips"},hv={key:1,class:"mr-more-info"},_v=Cs({__name:"QuerySection",setup(t){const e=Te(null),s=Ys("querySectionRef"),{textarea:n,input:i}=gm(),r=Nn(),o=()=>{const c=i.value.trim();c&&r.ask(c,!0)};return nt(()=>r.pendingQueryAction,async c=>{c&&(i.value=c.query,c.shouldScroll&&(await Xt(),s.value&&s.value.scrollIntoView({behavior:"smooth",block:"start"})),r.pendingQueryAction=null)},{immediate:!1}),nt(e,c=>{c?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),(c,a)=>(V(),Y(pe,null,[g("div",{ref_key:"querySectionRef",ref:s,class:"mr-query-section"},[g("div",ev,[g("div",tv,[Ce(ul)]),g("div",sv,[g("div",nv,[g("div",iv,[Ce(ul)]),a[6]||(a[6]=g("h3",{class:"mr-query-section__title-text"},"What would you like to know?",-1))]),a[9]||(a[9]=g("div",{class:"mr-query-section__description"}," Type in any question to uncover expert perspectives and findings. ",-1)),g("div",rv,[jt(g("textarea",{ref_key:"textarea",ref:n,"onUpdate:modelValue":a[0]||(a[0]=u=>ue(i)?i.value=u:null),class:"mr-query-section__input",placeholder:"Explore healthcare, community, policy, etc",onKeydown:Kp(Za(o,["prevent"]),["enter"])},null,40,ov),[[Vp,X(i)]]),g("button",{class:"mr-query-section__button",onClick:o},"Search")]),g("div",cv,[g("button",{class:"mr-query-section__footer-button",onClick:a[1]||(a[1]=u=>e.value="usage-tips")},[...a[7]||(a[7]=[g("span",null,"Usage tips",-1),g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[g("path",{d:"M9.75 4.66699C9.75 3.93765 9.46006 3.23838 8.94434 2.72266C8.42861 2.20693 7.72935 1.91699 7 1.91699C6.27065 1.91699 5.57139 2.20693 5.05566 2.72266C4.53994 3.23838 4.25 3.93765 4.25 4.66699C4.25 5.10351 4.32059 5.59402 4.90527 6.17871C5.35566 6.62913 5.82609 7.22378 5.98535 8.01953C6.06656 8.42558 5.80342 8.82094 5.39746 8.90234C4.99142 8.98355 4.59605 8.72041 4.51465 8.31445C4.44053 7.94388 4.21079 7.60535 3.84473 7.23926C2.91275 6.30728 2.75 5.39714 2.75 4.66699C2.75 3.53982 3.19809 2.45914 3.99512 1.66211C4.79215 0.86508 5.87283 0.416992 7 0.416992C8.12717 0.416992 9.20785 0.86508 10.0049 1.66211C10.8019 2.45914 11.25 3.53982 11.25 4.66699C11.25 5.59866 10.896 6.55636 10.1553 7.23926L10.0098 7.38965C9.69546 7.72793 9.55131 7.98465 9.48535 8.31445C9.40395 8.72041 9.00858 8.98355 8.60254 8.90234C8.19658 8.82094 7.93344 8.42558 8.01465 8.01953C8.17262 7.23013 8.57864 6.69483 9.09473 6.17871L9.12305 6.15137C9.52919 5.78584 9.75 5.23992 9.75 4.66699Z",fill:"white"}),g("path",{d:"M8.75 9.75C9.16421 9.75 9.5 10.0858 9.5 10.5C9.5 10.9142 9.16421 11.25 8.75 11.25H5.25C4.83579 11.25 4.5 10.9142 4.5 10.5C4.5 10.0858 4.83579 9.75 5.25 9.75H8.75Z",fill:"white"}),g("path",{d:"M8.16699 12.083C8.58121 12.083 8.91699 12.4188 8.91699 12.833C8.91699 13.2472 8.58121 13.583 8.16699 13.583H5.83398C5.41977 13.583 5.08398 13.2472 5.08398 12.833C5.08398 12.4188 5.41977 12.083 5.83398 12.083H8.16699Z",fill:"white"})],-1)])]),g("button",{class:"mr-query-section__footer-button",onClick:a[2]||(a[2]=u=>e.value="more-info")},[...a[8]||(a[8]=[g("span",null,"More info",-1),g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[g("path",{d:"M7 10.5C7.19833 10.5 7.36458 10.4329 7.49875 10.2987C7.63292 10.1646 7.7 9.99833 7.7 9.8C7.7 9.60167 7.63292 9.43542 7.49875 9.30125C7.36458 9.16708 7.19833 9.1 7 9.1C6.80167 9.1 6.63542 9.16708 6.50125 9.30125C6.36708 9.43542 6.3 9.60167 6.3 9.8C6.3 9.99833 6.36708 10.1646 6.50125 10.2987C6.63542 10.4329 6.80167 10.5 7 10.5ZM7 7.7C7.19833 7.7 7.36458 7.63292 7.49875 7.49875C7.63292 7.36458 7.7 7.19833 7.7 7V4.2C7.7 4.00167 7.63292 3.83542 7.49875 3.70125C7.36458 3.56708 7.19833 3.5 7 3.5C6.80167 3.5 6.63542 3.56708 6.50125 3.70125C6.36708 3.83542 6.3 4.00167 6.3 4.2V7C6.3 7.19833 6.36708 7.36458 6.50125 7.49875C6.63542 7.63292 6.80167 7.7 7 7.7ZM7 14C6.03167 14 5.12167 13.8162 4.27 13.4488C3.41833 13.0813 2.6775 12.5825 2.0475 11.9525C1.4175 11.3225 0.91875 10.5817 0.55125 9.73C0.18375 8.87833 0 7.96833 0 7C0 6.03167 0.18375 5.12167 0.55125 4.27C0.91875 3.41833 1.4175 2.6775 2.0475 2.0475C2.6775 1.4175 3.41833 0.91875 4.27 0.55125C5.12167 0.18375 6.03167 0 7 0C7.96833 0 8.87833 0.18375 9.73 0.55125C10.5817 0.91875 11.3225 1.4175 11.9525 2.0475C12.5825 2.6775 13.0813 3.41833 13.4488 4.27C13.8162 5.12167 14 6.03167 14 7C14 7.96833 13.8162 8.87833 13.4488 9.73C13.0813 10.5817 12.5825 11.3225 11.9525 11.9525C11.3225 12.5825 10.5817 13.0813 9.73 13.4488C8.87833 13.8162 7.96833 14 7 14ZM7 12.6C8.56333 12.6 9.8875 12.0575 10.9725 10.9725C12.0575 9.8875 12.6 8.56333 12.6 7C12.6 5.43667 12.0575 4.1125 10.9725 3.0275C9.8875 1.9425 8.56333 1.4 7 1.4C5.43667 1.4 4.1125 1.9425 3.0275 3.0275C1.9425 4.1125 1.4 5.43667 1.4 7C1.4 8.56333 1.9425 9.8875 3.0275 10.9725C4.1125 12.0575 5.43667 12.6 7 12.6Z",fill:"white"})],-1)])])])])])],512),(V(),on(w_,{to:"body"},[e.value?(V(),Y("div",{key:0,class:"mr-modal__overlay",onClick:a[5]||(a[5]=u=>e.value=null)},[g("div",{class:"mr-modal__container",onClick:a[4]||(a[4]=Za(()=>{},["stop"]))},[g("div",av,[g("div",lv,[e.value==="usage-tips"?(V(),Y("span",uv,"Need Help Getting Started? ")):Ae("",!0),e.value==="more-info"?(V(),Y("span",fv,"Disclaimer")):Ae("",!0)]),g("button",{class:"mr-modal__close-button",onClick:a[3]||(a[3]=u=>e.value=null)},[...a[10]||(a[10]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},[g("path",{d:"M12 1.414L10.586 0L6 4.586L1.414 0L0 1.414L4.586 6L0 10.586L1.414 12L6 7.414L10.586 12L12 10.586L7.414 6L12 1.414Z",fill:"#AF45C9"})],-1)])])]),e.value==="usage-tips"?(V(),Y("div",dv,[...a[11]||(a[11]=[g("div",{class:"mr-usage-tips__description"}," Here are a few tips for asking better questions and getting the most out of your search. ",-1),g("div",{class:"mr-usage-tips__list"},[g("div",{class:"mr-usage-tips__list-item"},[g("div",{class:"mr-usage-tips__list-item-icon"},[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},[g("path",{d:"M8.40799 4.576C11.572 2.31569 15.4332 1.2454 19.3094 1.55403C23.1857 1.86281 26.8291 3.53065 29.5955 6.2635C32.3617 8.99617 34.0747 12.6176 34.4309 16.4896C34.787 20.3618 33.7637 24.2361 31.5423 27.4276C29.3207 30.6191 26.0424 32.9238 22.2874 33.9344C18.5615 34.937 14.6035 34.6009 11.1004 32.9881C10.856 32.8992 10.5933 32.8758 10.3372 32.9193L5.30545 34.3914C5.29374 34.3949 5.28209 34.3986 5.2703 34.4017C4.77648 34.5327 4.2567 34.5348 3.76151 34.409C3.26649 34.2832 2.81153 34.0331 2.44022 33.6824C2.06882 33.3315 1.79261 32.891 1.63895 32.4036C1.48536 31.9165 1.45852 31.3981 1.56131 30.8978L1.60379 30.7366L3.16825 25.9041C3.22169 25.6282 3.19896 25.3434 3.09793 25.0809C1.44334 21.5982 1.05852 17.6457 2.01541 13.9085C2.97999 10.1417 5.24417 6.83642 8.40799 4.576ZM19.0721 4.54377C15.9005 4.29114 12.7415 5.16704 10.1526 7.01643C7.56374 8.86587 5.71093 11.5705 4.92166 14.6527C4.18184 17.542 4.4217 20.589 5.59256 23.3201L5.83866 23.8621L5.88114 23.9617C6.21183 24.7962 6.28647 25.7102 6.09354 26.5867C6.0832 26.6337 6.07025 26.6802 6.05545 26.7259L4.51004 31.4969L9.5828 30.0145C9.62536 30.002 9.66967 29.9923 9.71317 29.9837C10.437 29.8402 11.1835 29.8757 11.887 30.0877L12.1858 30.1903L12.2869 30.2327C15.1697 31.579 18.4358 31.8638 21.5081 31.0369C24.5804 30.2101 27.2622 28.325 29.0799 25.7137C30.8974 23.1025 31.734 19.9331 31.4427 16.765C31.1513 13.5969 29.7508 10.6337 27.4876 8.39778C25.2242 6.16187 22.2435 4.79647 19.0721 4.54377Z",fill:"white"}),g("path",{d:"M14.8407 9.82157C16.0621 9.10385 17.4977 8.84099 18.8939 9.08036C20.2903 9.31987 21.5571 10.0459 22.4696 11.1297C23.3818 12.2133 23.882 13.5849 23.8803 15.0013L23.8612 15.4217C23.6699 17.4836 22.102 18.8645 20.9623 19.6243C20.3091 20.0597 19.6662 20.3792 19.1928 20.5896C18.9539 20.6958 18.7518 20.7761 18.6068 20.8313C18.5344 20.8589 18.4753 20.8806 18.4325 20.8958C18.4113 20.9033 18.3943 20.9103 18.3812 20.9148C18.3748 20.917 18.3695 20.9192 18.3651 20.9207C18.3631 20.9214 18.3608 20.9216 18.3593 20.9222L18.3563 20.9236H18.3549C17.569 21.1856 16.7184 20.7603 16.4564 19.9744C16.1953 19.1896 16.6188 18.3404 17.4027 18.0774V18.0789L17.4056 18.0774C17.4096 18.0761 17.4171 18.0738 17.4276 18.0701C17.4506 18.0619 17.4888 18.0482 17.5389 18.0291C17.6401 17.9906 17.7911 17.9302 17.974 17.8489C18.3442 17.6844 18.8267 17.4425 19.2982 17.1282C20.3323 16.4388 20.8799 15.7048 20.8803 15.0013V14.9983C20.8813 14.2899 20.6318 13.6038 20.1757 13.0618C19.7194 12.5198 19.0854 12.1562 18.3871 12.0364C17.6889 11.9167 16.9705 12.0481 16.3597 12.407C15.7491 12.7659 15.2853 13.3297 15.0502 13.9978C14.7753 14.7793 13.9186 15.1912 13.1371 14.9163C12.3557 14.6414 11.9454 13.7846 12.2201 13.0032C12.6903 11.6665 13.6191 10.5395 14.8407 9.82157Z",fill:"white"}),g("path",{d:"M18.0146 24C18.8431 24 19.5146 24.6716 19.5146 25.5C19.5146 26.3284 18.8431 27 18.0146 27H18C17.1716 27 16.5 26.3284 16.5 25.5C16.5 24.6716 17.1716 24 18 24H18.0146Z",fill:"white"})])]),g("div",{class:"mr-usage-tips__list-item-content"},[g("div",{class:"mr-usage-tips__list-item-title"},"Ask Clearly"),g("div",{class:"mr-usage-tips__list-item-description"}," Frame your search as a clear, specific questionnot just keywords. ")])]),g("div",{class:"mr-usage-tips__list-item"},[g("div",{class:"mr-usage-tips__list-item-icon"},[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},[g("path",{d:"M19.5 9V3C19.5 2.17157 20.1716 1.5 21 1.5C21.8284 1.5 22.5 2.17157 22.5 3V9C22.5 9.39782 22.6581 9.77924 22.9395 10.0605C23.2208 10.3419 23.6022 10.5 24 10.5H30C30.8284 10.5 31.5 11.1716 31.5 12C31.5 12.8284 30.8284 13.5 30 13.5H24C22.8065 13.5 21.6623 13.0256 20.8184 12.1816C19.9744 11.3377 19.5 10.1935 19.5 9Z",fill:"white"}),g("path",{d:"M4.5 10.5V6C4.5 4.80653 4.97445 3.66227 5.81836 2.81836C6.66227 1.97445 7.80653 1.5 9 1.5C9.82843 1.5 10.5 2.17157 10.5 3C10.5 3.82843 9.82843 4.5 9 4.5C8.60217 4.5 8.22076 4.65815 7.93945 4.93945C7.65815 5.22076 7.5 5.60217 7.5 6V10.5C7.5 11.3284 6.82843 12 6 12C5.17157 12 4.5 11.3284 4.5 10.5Z",fill:"white"}),g("path",{d:"M5.3571 30.1919C6.07841 29.7851 6.99341 30.0405 7.40056 30.7617C7.54735 31.0214 7.76808 31.2317 8.03484 31.3652C8.30209 31.4989 8.60427 31.5503 8.90056 31.5117L9.09392 31.4985H26.9987C27.3965 31.4985 27.7794 31.3419 28.0607 31.0605C28.3418 30.7793 28.4987 30.3976 28.4987 30V11.1211L21.8776 4.5H8.99871C8.17061 4.49961 7.49871 3.82819 7.49871 3C7.49871 2.17181 8.17061 1.50039 8.99871 1.5H22.4987L22.6481 1.50732C22.9913 1.5415 23.3147 1.69342 23.5607 1.93945L31.0607 9.43945C31.3418 9.72072 31.4987 10.1024 31.4987 10.5V30C31.4987 31.1933 31.0255 32.3378 30.1818 33.1816C29.4433 33.9201 28.4742 34.3758 27.444 34.478L26.9987 34.5L9.14372 34.4985C8.30177 34.5808 7.45295 34.4279 6.69451 34.0488C5.89276 33.648 5.22796 33.0159 4.78728 32.2354C4.38051 31.514 4.63591 30.599 5.3571 30.1919Z",fill:"white"}),g("path",{d:"M6.43934 15.4393C7.02513 14.8536 7.97465 14.8536 8.56043 15.4393C9.14622 16.0251 9.14622 16.9746 8.56043 17.5604L4.06043 22.0604C3.47465 22.6462 2.52513 22.6462 1.93934 22.0604C1.35355 21.4746 1.35355 20.5251 1.93934 19.9393L6.43934 15.4393Z",fill:"white"}),g("path",{d:"M18 19.5C18.8284 19.5 19.5 20.1716 19.5 21C19.5 21.8284 18.8284 22.5 18 22.5H6.62105L8.56051 24.4395C9.14629 25.0252 9.14629 25.9748 8.56051 26.5605C7.97472 27.1463 7.0252 27.1463 6.43941 26.5605L1.93941 22.0605C1.51041 21.6315 1.38204 20.9863 1.61422 20.4258C1.84643 19.8654 2.39333 19.5 2.99996 19.5H18Z",fill:"white"})])]),g("div",{class:"mr-usage-tips__list-item-content"},[g("div",{class:"mr-usage-tips__list-item-title"},"Shape the Answer"),g("div",{class:"mr-usage-tips__list-item-description"}," Tell the tool what you need: a summary, quick takeaways, or detailed explanations. ")])]),g("div",{class:"mr-usage-tips__list-item"},[g("div",{class:"mr-usage-tips__list-item-icon"},[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},[g("path",{d:"M24.1825 6.45627C24.9694 6.19759 25.8178 6.62589 26.0765 7.41281C26.3352 8.19968 25.9068 9.04798 25.12 9.30685L4.88171 15.9587L4.88317 15.9602C4.85878 15.9687 4.8385 15.9859 4.82604 16.0085C4.81411 16.0304 4.80933 16.056 4.81432 16.0803L5.60241 19.2297L14.7826 17.2727C15.5927 17.0999 16.3894 17.617 16.5624 18.427C16.7351 19.2369 16.2193 20.0337 15.4095 20.2068L6.13854 22.1843L6.13708 22.1828C5.39419 22.3422 4.61845 22.2057 3.97643 21.799C3.33253 21.3911 2.87413 20.7457 2.70202 20.0031L2.70348 20.0017L1.90368 16.8025L1.90075 16.7937C1.71776 16.0422 1.82145 15.2489 2.19225 14.57C2.56316 13.8911 3.17466 13.3748 3.90612 13.1228C3.91282 13.1205 3.9199 13.1191 3.92663 13.1169L24.1825 6.45627Z",fill:"white"}),g("path",{d:"M26.5241 14.7677C27.334 14.5949 28.1307 15.1107 28.3038 15.9205C28.4766 16.7305 27.9608 17.5272 27.151 17.7003L20.653 19.0875C19.8429 19.2603 19.0462 18.7432 18.8732 17.9332C18.7004 17.1232 19.2162 16.3265 20.026 16.1535L26.5241 14.7677Z",fill:"white"}),g("path",{d:"M18.6714 20.8442C19.4123 20.4737 20.3136 20.7741 20.6841 21.5151L25.3408 30.8301C25.7113 31.571 25.4109 32.4723 24.6699 32.8428C23.9291 33.2127 23.0291 32.9125 22.6587 32.1719L18.0005 22.8569C17.63 22.1159 17.9304 21.2147 18.6714 20.8442Z",fill:"white"}),g("path",{d:"M28.1816 3.40942C28.9528 3.21703 29.7689 3.33903 30.4506 3.7478C31.0472 4.10564 31.4994 4.65729 31.7323 5.30639L31.8173 5.59057L31.8188 5.59204L34.0907 14.6814L34.1479 14.9714C34.2487 15.6543 34.1118 16.3546 33.7538 16.9519C33.3448 17.6343 32.6814 18.1267 31.9096 18.3201H31.9081L30.2734 18.7288V18.7273C29.1157 19.0165 27.8907 18.8343 26.8676 18.2205C25.8446 17.6066 25.1064 16.6121 24.8168 15.4548V15.4534L23.2729 9.27465V9.27319C22.9838 8.11565 23.1659 6.89051 23.7797 5.86743C24.3935 4.84467 25.3882 4.10779 26.5453 3.81811L26.5468 3.81665L28.1816 3.40942ZM28.9081 6.32006L27.2734 6.72875L27.2719 6.72729C26.8869 6.82415 26.5563 7.07088 26.352 7.41137C26.1473 7.75243 26.0871 8.16076 26.1835 8.54663L27.7275 14.7268C27.8241 15.1124 28.0706 15.4436 28.4115 15.6482C28.7526 15.8527 29.161 15.9145 29.5468 15.8181V15.8166L31.1801 15.4094L28.9081 6.32006Z",fill:"white"}),g("path",{d:"M8.87466 11.4943C9.67824 11.2936 10.4916 11.782 10.6925 12.5856L12.3639 19.2697C12.5645 20.0732 12.0761 20.8867 11.2726 21.0875C10.4689 21.2885 9.65419 20.7999 9.45327 19.9962L7.78335 13.3122C7.58265 12.5086 8.07108 11.6952 8.87466 11.4943Z",fill:"white"}),g("path",{d:"M15.3169 21.5148C15.6873 20.7743 16.5873 20.474 17.3281 20.8439C18.0691 21.2144 18.3695 22.1156 17.999 22.8566L13.3423 32.1716C12.9718 32.9125 12.0705 33.2129 11.3296 32.8425C10.5886 32.472 10.2882 31.5707 10.6587 30.8298L15.3169 21.5148Z",fill:"white"}),g("path",{d:"M19.5 19.5C19.5 18.6716 18.8284 18 18 18C17.1716 18 16.5 18.6716 16.5 19.5C16.5 20.3284 17.1716 21 18 21C18.8284 21 19.5 20.3284 19.5 19.5ZM22.5 19.5C22.5 21.9853 20.4853 24 18 24C15.5147 24 13.5 21.9853 13.5 19.5C13.5 17.0147 15.5147 15 18 15C20.4853 15 22.5 17.0147 22.5 19.5Z",fill:"white"})])]),g("div",{class:"mr-usage-tips__list-item-content"},[g("div",{class:"mr-usage-tips__list-item-title"},"Look Around"),g("div",{class:"mr-usage-tips__list-item-description"}," Explore not only the direct answer, but also the sources and related insights. ")])])],-1),g("div",{class:"mr-usage-tips__footer"},[g("strong",null,"Want more?"),ka(" Keep going and dig deeper into your question or ask a new onethere's no limit to what you can learn. ")],-1)])])):Ae("",!0),e.value==="more-info"?(V(),Y("div",hv,[...a[12]||(a[12]=[g("div",null," This resource provides information sourced exclusively from the website. It does not offer medical advice, diagnosis, or treatment. For personal health concerns, please consult a qualified healthcare professional. By using this resource, you agree to our Terms and Conditions and Privacy Policy. ",-1)])])):Ae("",!0)])])):Ae("",!0)]))],64))}},[["__scopeId","data-v-9e4fdc60"]]),pv={class:"mr-explore-block"},mv={class:"mr-explore-block__dropdown-header-label"},gv={class:"mr-explore-block__dropdown-list"},bv=["onClick"],wv={class:"mr-explore-block__description"},yv={class:"mr-explore-block__question-list"},Ev=["onClick"],Sv={class:"mr-explore-block__question-item-text"},vv={class:"mr-explore-block__question-item-tag"},Tv=Cs({__name:"ExploreBlock",setup(t){const e=Ho.filter(a=>!a.hideInDropdown),s=Nn(),n=Ys("dropdownRef");dm(n,()=>{i.value=!1});const i=Te(!1),r=Te(Ho[0].key),o=mt(()=>Ho.find(a=>a.key===r.value)),c=a=>{r.value=a,i.value=!1};return(a,u)=>(V(),Y("div",pv,[u[2]||(u[2]=g("div",{class:"mr-explore-block__title"},"Not sure what to ask? Explore a topic.",-1)),g("div",{ref_key:"dropdownRef",ref:n,class:"mr-explore-block__dropdown"},[g("div",{onClick:u[0]||(u[0]=l=>i.value=!i.value),class:Yt(["mr-explore-block__dropdown-header",{"mr-explore-block__dropdown-header--open":i.value}])},[g("div",mv,Fe(o.value.label),1),u[1]||(u[1]=g("div",{class:"mr-explore-block__dropdown-header-icon"},[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8",viewBox:"0 0 16 8",fill:"none"},[g("path",{d:"M0.668945 0.743164L7.11109 6.5411C7.4914 6.88337 8.06872 6.88337 8.44902 6.5411L14.8912 0.743164",stroke:"#042E43","stroke-width":"2","stroke-miterlimit":"16"})])],-1))],2),jt(g("div",gv,[(V(!0),Y(pe,null,Xs(X(e),l=>(V(),Y("div",{key:l.key,class:Yt(["mr-explore-block__dropdown-item",{"mr-explore-block__dropdown-item--selected":r.value===l.key}]),onClick:f=>c(l.key)},Fe(l.label),11,bv))),128))],512),[[ns,i.value]])],512),g("div",wv,Fe(o.value.description||o.value.label),1),g("div",yv,[(V(!0),Y(pe,null,Xs(o.value.questions,l=>(V(),Y("div",{key:l.question,class:"mr-explore-block__question-item",onClick:f=>X(s).ask(l.question)},[g("div",Sv,Fe(l.question),1),g("div",vv,Fe(l.tag||o.value.label),1)],8,Ev))),128))])]))}},[["__scopeId","data-v-e4033eb2"]]),Cv={class:"mr-answer-panel"},Av={class:"mr-answer-panel__header-collapse-icon"},Ov={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},xv={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Rv={class:"mr-answer-panel__list"},ph=Cs({__name:"AnswerPanel",emits:["scroll-to-answer","scroll-to-sources","scroll-to-related-questions"],setup(t,{emit:e}){const s=Nn(),n=e,i=Te(!1);return(r,o)=>(V(),Y("div",Cv,[g("div",{class:"mr-answer-panel__header",onClick:o[0]||(o[0]=c=>i.value=!i.value)},[o[6]||(o[6]=Mr('<div class="mr-answer-panel__header-title" data-v-97bc808c><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none" data-v-97bc808c><g clip-path="url(#clip0_15307_3624)" data-v-97bc808c><path d="M9.47401 4.52637L8.42168 7.68278C8.3644 7.85462 8.2679 8.01077 8.13982 8.13885C8.01174 8.26693 7.8556 8.36343 7.68376 8.4207L4.52734 9.47303L5.57968 6.31662C5.63695 6.14478 5.73345 5.98863 5.86153 5.86055C5.98961 5.73247 6.14575 5.63597 6.31759 5.5787L9.47401 4.52637Z" stroke="white" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-97bc808c></path><path d="M7.00081 12.8337C10.2225 12.8337 12.8341 10.222 12.8341 7.00033C12.8341 3.77866 10.2225 1.16699 7.00081 1.16699C3.77915 1.16699 1.16748 3.77866 1.16748 7.00033C1.16748 10.222 3.77915 12.8337 7.00081 12.8337Z" stroke="white" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-97bc808c></path></g><defs data-v-97bc808c><clipPath id="clip0_15307_3624" data-v-97bc808c><rect width="14" height="14" fill="white" data-v-97bc808c></rect></clipPath></defs></svg><span data-v-97bc808c>EXPLORE ANSWER</span></div>',1)),g("div",Av,[i.value?(V(),Y("svg",Ov,[...o[4]||(o[4]=[g("path",{d:"M14 6H8V0H6V6H0V8H6V14H8V8H14V6Z",fill:"#FDFDF9"},null,-1)])])):(V(),Y("svg",xv,[...o[5]||(o[5]=[g("path",{d:"M14 6H0V8H14V6Z",fill:"#FDFDF9"},null,-1)])]))])]),jt(g("div",Rv,[g("div",{class:"mr-answer-panel__list-item mr-answer-panel__list-item--highlight",onClick:o[1]||(o[1]=c=>n("scroll-to-answer"))}," Answer "),X(s).sources.length>0?(V(),Y("div",{key:0,class:"mr-answer-panel__list-item",onClick:o[2]||(o[2]=c=>n("scroll-to-sources"))}," Articles & References ")):Ae("",!0),X(s).relatedQuestions.length>0?(V(),Y("div",{key:1,class:"mr-answer-panel__list-item",onClick:o[3]||(o[3]=c=>n("scroll-to-related-questions"))}," Related Questions ")):Ae("",!0)],512),[[ns,!i.value]])]))}},[["__scopeId","data-v-97bc808c"]]),Iv={class:"mr-history-panel"},kv={class:"mr-history-panel__header-collapse-icon"},$v={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Lv={key:1,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Pv={class:"mr-history-panel__list"},Nv={key:0,class:"mr-history-panel__list-item mr-history-panel__list-item--empty-state"},Uv=["onClick"],Dv={class:"mr-history-panel__footer"},mh=Cs({__name:"HistoryPanel",setup(t){const e=hh(),s=Nn(),n=Te(!1);return(i,r)=>(V(),Y("div",Iv,[g("div",{class:"mr-history-panel__header",onClick:r[0]||(r[0]=o=>n.value=!n.value)},[r[4]||(r[4]=Mr('<div class="mr-history-panel__header-title" data-v-b0d6abfa><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none" data-v-b0d6abfa><g clip-path="url(#clip0_15307_3650)" data-v-b0d6abfa><path d="M6.99984 3.5V7H4.6665" stroke="white" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-b0d6abfa></path><path d="M6.99984 12.8337C10.2215 12.8337 12.8332 10.222 12.8332 7.00033C12.8332 3.77866 10.2215 1.16699 6.99984 1.16699C3.77818 1.16699 1.1665 3.77866 1.1665 7.00033C1.1665 10.222 3.77818 12.8337 6.99984 12.8337Z" stroke="white" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-b0d6abfa></path></g><defs data-v-b0d6abfa><clipPath id="clip0_15307_3650" data-v-b0d6abfa><rect width="14" height="14" fill="white" data-v-b0d6abfa></rect></clipPath></defs></svg><span data-v-b0d6abfa>history</span></div>',1)),g("div",kv,[n.value?(V(),Y("svg",$v,[...r[2]||(r[2]=[g("path",{d:"M14 6H8V0H6V6H0V8H6V14H8V8H14V6Z",fill:"#FDFDF9"},null,-1)])])):(V(),Y("svg",Lv,[...r[3]||(r[3]=[g("path",{d:"M14 6H0V8H14V6Z",fill:"#FDFDF9"},null,-1)])]))])]),jt(g("div",Pv,[X(e).history.length===0?(V(),Y("div",Nv," No history recorded yet. ")):Ae("",!0),(V(!0),Y(pe,null,Xs(X(e).history,o=>(V(),Y("div",{key:o.question_id,class:"mr-history-panel__list-item",onClick:c=>X(s).retrieveAnswer(o.question_id)},Fe(o.question),9,Uv))),128))],512),[[ns,!n.value]]),jt(g("div",Dv,[g("button",{class:"mr-history-panel__clear-history-button",onClick:r[1]||(r[1]=o=>X(e).clearUserHistory())},[...r[5]||(r[5]=[Mr('<span data-v-b0d6abfa>Clear history</span><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-b0d6abfa><g clip-path="url(#clip0_15307_1794)" data-v-b0d6abfa><path d="M10.9995 4.83301V11.833C10.9995 12.0982 10.8791 12.3526 10.6648 12.5401C10.4504 12.7277 10.1598 12.833 9.85665 12.833H4.14237C3.83926 12.833 3.54857 12.7277 3.33425 12.5401C3.11992 12.3526 2.99951 12.0982 2.99951 11.833V4.83301" stroke="#042E43" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-b0d6abfa></path><path d="M1.75 4H12.25" stroke="#042E43" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-b0d6abfa></path><path d="M4.66602 3.50033V2.33366C4.66602 2.02424 4.78893 1.72749 5.00772 1.5087C5.22652 1.28991 5.52326 1.16699 5.83268 1.16699H8.16602C8.47543 1.16699 8.77218 1.28991 8.99097 1.5087C9.20977 1.72749 9.33268 2.02424 9.33268 2.33366V3.50033" stroke="#042E43" stroke-width="1.66" stroke-linecap="round" stroke-linejoin="round" data-v-b0d6abfa></path></g><defs data-v-b0d6abfa><clipPath id="clip0_15307_1794" data-v-b0d6abfa><rect width="14" height="14" fill="white" data-v-b0d6abfa></rect></clipPath></defs></svg>',2)])])],512),[[ns,X(e).history.length>0]])]))}},[["__scopeId","data-v-b0d6abfa"]]),Fv={class:"mr-answer-section"},Mv={class:"mr-answer-section__sticky-navigation-container"},qv={class:"mr-answer-section__panels-group"},jv={class:"mr-answer-section__main"},Bv={class:"mr-answer-section__answer-panel-container--mobile"},Hv={class:"mr-answer-section__answer"},zv={class:"mr-answer-section__actions-container"},Vv={class:"mr-answer-section__sources-count"},Wv={class:"mr-answer-section__sources-list"},Qv=["href"],Gv={class:"mr-answer-section__source-item"},Kv={class:"mr-answer-section__source-item-title"},Yv={class:"mr-answer-section__source-item-metadata-container"},Zv={class:"mr-answer-section__source-item-date"},Jv={class:"mr-answer-section__source-item-index"},Xv={class:"mr-answer-section__related-questions-count"},eT={class:"mr-answer-section__related-questions-list"},tT=["onClick"],sT={key:1,class:"mr-answer-section__show-more-container"},nT={class:"mr-answer-section__history-panel-container--mobile"},iT=Cs({__name:"AnswerSection",setup(t){const e=Nn(),s=Ys("answerContainerRef"),n=Ys("sourcesContainerRef"),i=Ys("relatedQuestionsContainerRef"),r=Te(!1),o=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",c=async()=>{await Xt(),s.value&&s.value.scrollIntoView({behavior:"smooth",block:"start"})},a=async()=>{r.value=!0,await Xt(),n.value&&n.value.scrollIntoView({behavior:"smooth",block:"start"})},u=async()=>{r.value=!0,await Xt(),i.value&&i.value.scrollIntoView({behavior:"smooth",block:"start"})};return(l,f)=>(V(),Y("div",Fv,[g("div",Mv,[g("div",qv,[X(e).isShowingAnswer?(V(),on(ph,{key:0,onScrollToAnswer:c,onScrollToSources:a,onScrollToRelatedQuestions:u})):Ae("",!0),Ce(mh)])]),g("div",jv,[g("div",Bv,[X(e).isShowingAnswer?(V(),on(ph,{key:0,onScrollToAnswer:c,onScrollToSources:a,onScrollToRelatedQuestions:u})):Ae("",!0)]),X(e).isShowingAnswer?Ae("",!0):(V(),on(Tv,{key:0})),jt(g("div",{ref_key:"answerContainerRef",ref:s,class:"mr-answer-section__answer-container"},[jt(g("h4",{class:"mr-answer-section__question"},Fe(X(e).question),513),[[ns,X(e).question]]),jt(g("div",Hv,[...f[3]||(f[3]=[g("miso-ask",{class:"miso-ask-combo__answer-container","visible-when":"ready",logo:!1},[g("miso-answer")],-1)])],512),[[ns,X(e).question]]),X(e).isFinished?(V(),Y(pe,{key:0},[g("div",zv,[g("button",{class:Yt(["mr-answer-section__feedback-button",{"mr-answer-section__feedback-button--is-selected":X(e).selectedFeedback==="helpful"}]),onClick:f[0]||(f[0]=_=>X(e).selectHelpful())},[...f[4]||(f[4]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[g("path",{d:"M21 7.99961C21.5333 7.99961 22 8.19961 22.4 8.59961C22.8 8.99961 23 9.46628 23 9.99961V11.9996C23 12.1163 22.9833 12.2413 22.95 12.3746C22.9167 12.5079 22.8833 12.6329 22.85 12.7496L19.85 19.7996C19.7 20.1329 19.45 20.4163 19.1 20.6496C18.75 20.8829 18.3833 20.9996 18 20.9996H7V7.99961L13 2.04961C13.25 1.79961 13.5458 1.65378 13.8875 1.61211C14.2292 1.57044 14.5583 1.63294 14.875 1.79961C15.1917 1.96628 15.425 2.19961 15.575 2.49961C15.725 2.79961 15.7583 3.10794 15.675 3.42461L14.55 7.99961H21ZM9 8.84961V18.9996H18L21 11.9996V9.99961H12L13.35 4.49961L9 8.84961ZM4 20.9996C3.45 20.9996 2.97917 20.8038 2.5875 20.4121C2.19583 20.0204 2 19.5496 2 18.9996V9.99961C2 9.44961 2.19583 8.97878 2.5875 8.58711C2.97917 8.19544 3.45 7.99961 4 7.99961H7V9.99961H4V18.9996H7V20.9996H4Z",fill:"currentColor"})],-1)])],2),g("button",{class:Yt(["mr-answer-section__feedback-button",{"mr-answer-section__feedback-button--is-selected":X(e).selectedFeedback==="unhelpful"}]),onClick:f[1]||(f[1]=_=>X(e).selectUnhelpful())},[...f[5]||(f[5]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[g("path",{d:"M3 16C2.46667 16 2 15.8 1.6 15.4C1.2 15 1 14.5333 1 14V12C1 11.8833 1.01667 11.7583 1.05 11.625C1.08333 11.4917 1.11667 11.3667 1.15 11.25L4.15 4.2C4.3 3.86667 4.55 3.58333 4.9 3.35C5.25 3.11667 5.61667 3 6 3H17V16L11 21.95C10.75 22.2 10.4542 22.3458 10.1125 22.3875C9.77083 22.4292 9.44167 22.3667 9.125 22.2C8.80833 22.0333 8.575 21.8 8.425 21.5C8.275 21.2 8.24167 20.8917 8.325 20.575L9.45 16H3ZM15 15.15V5H6L3 12V14H12L10.65 19.5L15 15.15ZM20 3C20.55 3 21.0208 3.19583 21.4125 3.5875C21.8042 3.97917 22 4.45 22 5V14C22 14.55 21.8042 15.0208 21.4125 15.4125C21.0208 15.8042 20.55 16 20 16H17V14H20V5H17V3H20Z",fill:"currentColor"})],-1)])],2)]),r.value?(V(),Y(pe,{key:0},[X(e).sources.length>0?(V(),Y("div",{key:0,ref_key:"sourcesContainerRef",ref:n,class:"mr-answer-section__sources-container"},[f[6]||(f[6]=g("h5",{class:"mr-answer-section__sources-title"},"Articles & References",-1)),g("div",Vv,Fe(X(e).sources.length)+" items ",1),g("div",Wv,[(V(!0),Y(pe,null,Xs(X(e).sources,(_,w)=>(V(),Y("a",{key:w+_.product_id,href:_.url,target:"_blank"},[g("div",Gv,[g("div",Kv,Fe(_.title),1),g("div",Yv,[g("div",Zv,Fe(o(_.date)),1),g("div",Jv,Fe(w+1),1)])])],8,Qv))),128))])],512)):Ae("",!0),X(e).relatedQuestions.length>0?(V(),Y("div",{key:1,ref_key:"relatedQuestionsContainerRef",ref:i,class:"mr-answer-section__related-questions-container"},[f[7]||(f[7]=g("h5",{class:"mr-answer-section__related-questions-title"},"Related Questions",-1)),g("div",Xv,Fe(X(e).relatedQuestions.length)+" items ",1),g("div",eT,[(V(!0),Y(pe,null,Xs(X(e).relatedQuestions,_=>(V(),Y("button",{key:_,onClick:w=>X(e).ask(_),class:"mr-answer-section__related-question-item"},Fe(_),9,tT))),128))])],512)):Ae("",!0)],64)):Ae("",!0),r.value?Ae("",!0):(V(),Y("div",sT,[g("button",{onClick:f[2]||(f[2]=_=>r.value=!0),class:"mr-answer-section__show-more-button"},[...f[8]||(f[8]=[g("span",null,"Show more",-1),g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[g("path",{d:"M14 6H8V0H6V6H0V8H6V14H8V8H14V6Z",fill:"#AF45C9"})],-1)])])]))],64)):Ae("",!0)],512),[[ns,X(e).isShowingAnswer]]),g("div",nT,[Ce(mh)])])]))}},[["__scopeId","data-v-24b3931c"]]),rT={__name:"App",setup(t){return(e,s)=>(V(),Y(pe,null,[Ce(_v),Ce(iT)],64))}};let _s=null;const tc=()=>{_s&&(_s.unmount(),_s=null);const t=document.getElementById(Cd);return t?(_s=Jp(rT),_s.use(tm()),_s.mount(t),_s):(console.error(`[Miso] Can't find answer element with id: ${Cd}`),null)};window.location.pathname===I3&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>tc()):tc()),typeof window<"u"&&(window[R3]={init:tc})})();
